import{j as e,n as ae,u as we,a as Ne,d as ke,p as ne,r as Te,t as De,V as Ee,l as Fe,o as ie,L as Ie,i as Be}from"./index-D-cMBzwU.js";import{d as oe,i as Pe,r as h}from"./vendor-react-BUTV5ZEl.js";import{T as Re}from"./timesheetCalculations-ZZYUcXsC.js";import{S as R}from"./StatCard-HLaYfFxi.js";import{a1 as q,ar as We,b as Le,o as M,p as X,n as de,h as ce,c as J,as as Me,F as L,ad as He,E as Ve,q as me,a8 as le,ac as $e,a9 as Ge,U as Oe,a2 as Ue,a5 as Ye}from"./vendor-icons-DGpLKeS8.js";import"./vendor-supabase-6faYzd5A.js";function qe({invoice:t,partner:s,onClose:r,onPrint:i}){if(!t)return null;const d=parseFloat(t.timesheet_total||0),n=t.groupedLines?.partnerExpenses||[],g=t.groupedLines?.supplierExpenses||[],b=n.reduce((a,p)=>a+parseFloat(p.line_total||0),0),A=n.filter(a=>a.chargeable_to_customer).reduce((a,p)=>a+parseFloat(p.line_total||0),0),c=n.filter(a=>!a.chargeable_to_customer).reduce((a,p)=>a+parseFloat(p.line_total||0),0),m=g.reduce((a,p)=>a+parseFloat(p.line_total||0),0),y=g.filter(a=>a.chargeable_to_customer).reduce((a,p)=>a+parseFloat(p.line_total||0),0),C=g.filter(a=>!a.chargeable_to_customer).reduce((a,p)=>a+parseFloat(p.line_total||0),0),_=b+m,w=A+y,N=c+C,D=d+b,v=!t.groupedLines?.timesheets?.length&&!t.groupedLines?.partnerExpenses?.length&&!t.groupedLines?.supplierExpenses?.length;return e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",padding:"2rem",maxWidth:"900px",width:"95%",maxHeight:"90vh",overflow:"auto"},children:[e.jsxs("div",{id:"invoice-print-content",children:[e.jsx(Xe,{invoice:t}),e.jsx(Je,{timesheetTotal:d,chargeablePartnerExpenses:A,nonChargeablePartnerExpenses:c,invoiceTotal:D,partnerName:s?.name}),e.jsx(Ke,{allExpensesTotal:_,allChargeableExpenses:w,allNonChargeableExpenses:N,partnerExpensesTotal:b,supplierExpensesTotal:m,partnerName:s?.name}),t.groupedLines?.timesheets?.length>0&&e.jsx(Qe,{timesheets:t.groupedLines.timesheets,total:t.timesheet_total}),t.groupedLines?.partnerExpenses?.length>0&&e.jsx(Ze,{expenses:t.groupedLines.partnerExpenses,total:t.expense_total,partnerName:s?.name}),e.jsx(et,{expenses:t.groupedLines?.supplierExpenses||[],total:t.supplier_expense_total}),v&&e.jsxs("div",{style:{textAlign:"center",padding:"2rem",backgroundColor:"#fef3c7",borderRadius:"8px",marginBottom:"1.5rem"},children:[e.jsx(q,{size:32,style:{color:"#92400e",marginBottom:"0.5rem"}}),e.jsx("p",{style:{color:"#92400e",margin:0},children:"No approved or submitted timesheets/expenses found for this period."})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end",borderTop:"1px solid #e2e8f0",paddingTop:"1rem"},children:[e.jsxs("button",{className:"btn btn-secondary",onClick:i,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(We,{size:16}),"Print / Save PDF"]}),e.jsx("button",{className:"btn btn-secondary",onClick:r,children:"Close"})]})]})})}function Xe({invoice:t}){return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsx("div",{style:{backgroundColor:"#dcfce7",borderRadius:"50%",padding:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Le,{size:24,style:{color:"#16a34a"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h2",{style:{margin:0},children:"Invoice Generated"}),e.jsx("p",{style:{margin:0,color:"#64748b"},children:t.invoice_number})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Period"}),e.jsxs("div",{style:{fontWeight:"500"},children:[new Date(t.period_start).toLocaleDateString("en-GB")," - ",new Date(t.period_end).toLocaleDateString("en-GB")]})]})]})}function Je({timesheetTotal:t,chargeablePartnerExpenses:s,nonChargeablePartnerExpenses:r,invoiceTotal:i,partnerName:d}){return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{backgroundColor:"#dbeafe",borderRadius:"8px",padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"#1e40af",textTransform:"uppercase",fontWeight:"600"},children:"Timesheets"}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e40af"},children:["£",t.toFixed(2)]}),e.jsx("div",{style:{fontSize:"0.65rem",color:"#3b82f6"},children:"All billable"})]}),e.jsxs("div",{style:{backgroundColor:"#dcfce7",borderRadius:"8px",padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"#16a34a",textTransform:"uppercase",fontWeight:"600"},children:"Expenses Billable"}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#16a34a"},children:["£",s.toFixed(2)]}),e.jsx("div",{style:{fontSize:"0.65rem",color:"#22c55e"},children:"Chargeable to customer"})]}),e.jsxs("div",{style:{backgroundColor:"#fee2e2",borderRadius:"8px",padding:"1rem"},children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"#dc2626",textTransform:"uppercase",fontWeight:"600"},children:"Expenses Non-Billable"}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#dc2626"},children:["£",r.toFixed(2)]}),e.jsx("div",{style:{fontSize:"0.65rem",color:"#ef4444"},children:"Not chargeable"})]}),e.jsxs("div",{style:{backgroundColor:"#7c3aed",borderRadius:"8px",padding:"1rem",color:"white"},children:[e.jsx("div",{style:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:"600",opacity:.9},children:"Invoice Total"}),e.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700"},children:["£",i.toFixed(2)]}),e.jsxs("div",{style:{fontSize:"0.65rem",opacity:.85},children:["To be paid by ",d]})]})]})}function Ke({allExpensesTotal:t,allChargeableExpenses:s,allNonChargeableExpenses:r,partnerExpensesTotal:i,supplierExpensesTotal:d,partnerName:n}){const g=n?.split(" ")[0]||"Partner";return e.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",border:"1px solid #e2e8f0"},children:[e.jsxs("h4",{style:{margin:"0 0 0.75rem 0",fontSize:"0.85rem",color:"#475569",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(M,{size:16}),"Expenses Breakdown"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"0.5rem",fontSize:"0.8rem"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"0.75rem",backgroundColor:"#e2e8f0",borderRadius:"6px"},children:[e.jsx("div",{style:{color:"#64748b",fontSize:"0.65rem",marginBottom:"0.25rem"},children:"Total Expenses"}),e.jsxs("div",{style:{fontWeight:"700",color:"#334155"},children:["£",t.toFixed(2)]})]}),e.jsxs("div",{style:{textAlign:"center",padding:"0.75rem",backgroundColor:"#dcfce7",borderRadius:"6px"},children:[e.jsx("div",{style:{color:"#16a34a",fontSize:"0.65rem",marginBottom:"0.25rem"},children:"Chargeable to Customer"}),e.jsxs("div",{style:{fontWeight:"700",color:"#16a34a"},children:["£",s.toFixed(2)]})]}),e.jsxs("div",{style:{textAlign:"center",padding:"0.75rem",backgroundColor:"#fee2e2",borderRadius:"6px"},children:[e.jsx("div",{style:{color:"#dc2626",fontSize:"0.65rem",marginBottom:"0.25rem"},children:"Not Chargeable"}),e.jsxs("div",{style:{fontWeight:"700",color:"#dc2626"},children:["£",r.toFixed(2)]})]}),e.jsxs("div",{style:{textAlign:"center",padding:"0.75rem",backgroundColor:"#f3e8ff",borderRadius:"6px"},children:[e.jsxs("div",{style:{color:"#7c3aed",fontSize:"0.65rem",marginBottom:"0.25rem"},children:["Paid by ",g]}),e.jsxs("div",{style:{fontWeight:"700",color:"#7c3aed"},children:["£",i.toFixed(2)]}),e.jsx("div",{style:{fontSize:"0.6rem",color:"#a78bfa"},children:"On this invoice"})]}),e.jsxs("div",{style:{textAlign:"center",padding:"0.75rem",backgroundColor:"#fef3c7",borderRadius:"6px"},children:[e.jsx("div",{style:{color:"#92400e",fontSize:"0.65rem",marginBottom:"0.25rem"},children:"Paid by Supplier"}),e.jsxs("div",{style:{fontWeight:"700",color:"#92400e"},children:["£",d.toFixed(2)]}),e.jsx("div",{style:{fontSize:"0.6rem",color:"#b45309"},children:"Not on this invoice"})]})]})]})}function Qe({timesheets:t,total:s}){return e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("h4",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(X,{size:18,style:{color:"#1e40af"}}),"Timesheets (",t.length," entries)"]}),e.jsx("div",{style:{maxHeight:"200px",overflow:"auto",fontSize:"0.85rem",border:"1px solid #e2e8f0",borderRadius:"8px"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#dbeafe"},children:[e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Date"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Resource"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"right"},children:"Hours"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"right"},children:"Cost/Day"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Status"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"right"},children:"Total"})]})}),e.jsx("tbody",{children:t.map((r,i)=>e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"0.5rem"},children:new Date(r.line_date).toLocaleDateString("en-GB")}),e.jsx("td",{style:{padding:"0.5rem",fontWeight:"500"},children:r.resource_name}),e.jsxs("td",{style:{padding:"0.5rem",textAlign:"right"},children:[parseFloat(r.hours||r.quantity||0).toFixed(1),"h"]}),e.jsxs("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace"},children:["£",parseFloat(r.cost_price||r.unit_price||0).toFixed(0)]}),e.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:e.jsx("span",{style:{padding:"0.1rem 0.4rem",borderRadius:"4px",fontSize:"0.7rem",backgroundColor:r.source_status==="Approved"?"#dcfce7":"#fef3c7",color:r.source_status==="Approved"?"#16a34a":"#92400e"},children:r.source_status})}),e.jsxs("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace",fontWeight:"600"},children:["£",parseFloat(r.line_total).toFixed(2)]})]},i))}),e.jsx("tfoot",{children:e.jsxs("tr",{style:{backgroundColor:"#f1f5f9",fontWeight:"600"},children:[e.jsx("td",{colSpan:5,style:{padding:"0.5rem",textAlign:"right"},children:"Timesheet Total:"}),e.jsxs("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace"},children:["£",parseFloat(s||0).toFixed(2)]})]})})]})})]})}function Ze({expenses:t,total:s,partnerName:r}){return e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("h4",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(M,{size:18,style:{color:"#7c3aed"}}),"Partner-Procured Expenses (",t.length," entries)",e.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"normal",color:"#7c3aed"},children:["- Billed to ",r]})]}),e.jsx("div",{style:{maxHeight:"200px",overflow:"auto",fontSize:"0.85rem",border:"1px solid #e9d5ff",borderRadius:"8px"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f3e8ff"},children:[e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Date"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Resource"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Category"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Description"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Chargeable"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"right"},children:"Amount"})]})}),e.jsx("tbody",{children:t.map((i,d)=>e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[e.jsx("td",{style:{padding:"0.5rem"},children:new Date(i.line_date).toLocaleDateString("en-GB")}),e.jsx("td",{style:{padding:"0.5rem",fontWeight:"500"},children:i.resource_name}),e.jsx("td",{style:{padding:"0.5rem"},children:i.expense_category}),e.jsx("td",{style:{padding:"0.5rem",color:"#64748b",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis"},children:i.description.split(": ").slice(1).join(": ")||i.description}),e.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:e.jsx("span",{style:{padding:"0.1rem 0.4rem",borderRadius:"4px",fontSize:"0.7rem",backgroundColor:i.chargeable_to_customer?"#dcfce7":"#fee2e2",color:i.chargeable_to_customer?"#16a34a":"#dc2626"},children:i.chargeable_to_customer?"Yes":"No"})}),e.jsxs("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace",fontWeight:"600"},children:["£",parseFloat(i.line_total).toFixed(2)]})]},d))}),e.jsx("tfoot",{children:e.jsxs("tr",{style:{backgroundColor:"#f1f5f9",fontWeight:"600"},children:[e.jsx("td",{colSpan:5,style:{padding:"0.5rem",textAlign:"right"},children:"Partner Expenses Total:"}),e.jsxs("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace"},children:["£",parseFloat(s||0).toFixed(2)]})]})})]})})]})}function et({expenses:t,total:s}){return e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{backgroundColor:"#fef3c7",border:"2px dashed #f59e0b",borderRadius:"8px",padding:"1rem",marginBottom:"0.5rem"},children:[e.jsxs("h4",{style:{margin:"0 0 0.5rem 0",display:"flex",alignItems:"center",gap:"0.5rem",color:"#92400e"},children:[e.jsx(de,{size:18}),"Supplier-Procured Expenses",e.jsx("span",{style:{fontSize:"0.65rem",fontWeight:"600",backgroundColor:"#92400e",color:"white",padding:"0.15rem 0.5rem",borderRadius:"4px",marginLeft:"0.5rem"},children:"NOT ON THIS INVOICE"})]}),e.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"#78350f"},children:"These expenses were paid by the supplier and must be reconciled separately. The supplier should pass these charges to the customer via their own invoicing process."})]}),t.length>0?e.jsx("div",{style:{fontSize:"0.85rem",border:"1px solid #fde68a",borderRadius:"8px"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#fef3c7"},children:[e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Date"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Resource"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Category"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Description"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Chargeable"}),e.jsx("th",{style:{padding:"0.5rem",textAlign:"right"},children:"Amount"})]})}),e.jsx("tbody",{children:t.map((r,i)=>e.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0",backgroundColor:"#fffbeb"},children:[e.jsx("td",{style:{padding:"0.5rem"},children:new Date(r.line_date).toLocaleDateString("en-GB")}),e.jsx("td",{style:{padding:"0.5rem",fontWeight:"500"},children:r.resource_name}),e.jsx("td",{style:{padding:"0.5rem"},children:r.expense_category}),e.jsx("td",{style:{padding:"0.5rem",color:"#64748b",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis"},children:r.description.split(": ").slice(1).join(": ")||r.description}),e.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:e.jsx("span",{style:{padding:"0.1rem 0.4rem",borderRadius:"4px",fontSize:"0.7rem",backgroundColor:r.chargeable_to_customer?"#dcfce7":"#fee2e2",color:r.chargeable_to_customer?"#16a34a":"#dc2626"},children:r.chargeable_to_customer?"Yes":"No"})}),e.jsxs("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace",fontWeight:"600"},children:["£",parseFloat(r.line_total).toFixed(2)]})]},i))}),e.jsx("tfoot",{children:e.jsxs("tr",{style:{backgroundColor:"#fef3c7",fontWeight:"600"},children:[e.jsx("td",{colSpan:5,style:{padding:"0.5rem",textAlign:"right"},children:"Supplier Expenses Total (to be billed separately):"}),e.jsxs("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace"},children:["£",parseFloat(s||0).toFixed(2)]})]})})]})}):e.jsxs("div",{style:{textAlign:"center",padding:"1rem",backgroundColor:"#fffbeb",borderRadius:"8px",border:"1px solid #fde68a",color:"#92400e"},children:[e.jsx("p",{style:{margin:0,fontSize:"0.85rem"},children:"No supplier-procured expenses for this period."}),e.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.75rem",color:"#a16207"},children:'When expenses are marked as "Paid by: Supplier" they will appear here.'})]})]})}function tt({dateRange:t,selectedMonth:s,onMonthSelect:r,onDateRangeChange:i,onClear:d,onGenerateInvoice:n,generatingInvoice:g,getDateRangeLabel:b}){function A(){const m=[],y=new Date;for(let C=0;C<12;C++){const _=new Date(y.getFullYear(),y.getMonth()-C,1),w=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}`,N=_.toLocaleDateString("en-GB",{month:"long",year:"numeric"});m.push({value:w,label:N})}return m}const c=t.start&&t.end;return e.jsxs("div",{className:"card",style:{marginBottom:"1.5rem",padding:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(ce,{size:18,style:{color:"#6b7280"}}),e.jsx("span",{style:{fontWeight:"500",color:"#374151"},children:"Period:"})]}),e.jsxs("select",{value:s,onChange:m=>r(m.target.value),className:"input-field",style:{minWidth:"160px"},children:[e.jsx("option",{value:"",children:"Select Month..."}),A().map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))]}),e.jsx("span",{style:{color:"#9ca3af"},children:"or"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"date",value:t.start||"",onChange:m=>i("start",m.target.value),className:"input-field",style:{width:"140px"}}),e.jsx("span",{style:{color:"#6b7280"},children:"to"}),e.jsx("input",{type:"date",value:t.end||"",onChange:m=>i("end",m.target.value),className:"input-field",style:{width:"140px"}})]}),(t.start||t.end)&&e.jsxs("button",{onClick:d,className:"btn btn-secondary",style:{padding:"0.4rem 0.75rem",fontSize:"0.85rem"},children:[e.jsx(J,{size:14})," Clear"]}),e.jsxs("div",{style:{marginLeft:"auto",padding:"0.4rem 0.75rem",backgroundColor:"#f0f9ff",borderRadius:"6px",color:"#0369a1",fontWeight:"500",fontSize:"0.9rem"},children:["Showing: ",b()]})]}),c&&e.jsx("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:e.jsx("button",{className:"btn btn-primary",onClick:n,disabled:g,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:g?e.jsxs(e.Fragment,{children:[e.jsx(Me,{size:18,className:"spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:18}),"Generate Invoice for ",b()]})})})]})}function rt({editForm:t,onFormChange:s,onSave:r,onCancel:i,saving:d}){return e.jsxs("div",{style:{padding:"1rem"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500",fontSize:"0.875rem"},children:"Partner Name *"}),e.jsx("input",{type:"text",className:"input-field",value:t.name,onChange:n=>s({...t,name:n.target.value}),style:{width:"100%"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500",fontSize:"0.875rem"},children:"Contact Name"}),e.jsx("input",{type:"text",className:"input-field",value:t.contact_name,onChange:n=>s({...t,contact_name:n.target.value}),style:{width:"100%"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500",fontSize:"0.875rem"},children:"Contact Email"}),e.jsx("input",{type:"email",className:"input-field",value:t.contact_email,onChange:n=>s({...t,contact_email:n.target.value}),style:{width:"100%"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500",fontSize:"0.875rem"},children:"Payment Terms"}),e.jsxs("select",{className:"input-field",value:t.payment_terms,onChange:n=>s({...t,payment_terms:n.target.value}),style:{width:"100%"},children:[e.jsx("option",{value:"Net 15",children:"Net 15"}),e.jsx("option",{value:"Net 30",children:"Net 30"}),e.jsx("option",{value:"Net 45",children:"Net 45"}),e.jsx("option",{value:"Net 60",children:"Net 60"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500",fontSize:"0.875rem"},children:"Status"}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:t.is_active,onChange:n=>s({...t,is_active:n.target.checked})}),"Active Partner"]})]}),e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500",fontSize:"0.875rem"},children:"Notes"}),e.jsx("textarea",{className:"input-field",value:t.notes,onChange:n=>s({...t,notes:n.target.value}),rows:3,style:{width:"100%",resize:"vertical"}})]})]}),e.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",gap:"0.75rem"},children:[e.jsx("button",{className:"btn btn-primary",onClick:r,disabled:d,children:d?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx(He,{size:16})," Save Changes"]})}),e.jsxs("button",{className:"btn btn-secondary",onClick:i,disabled:d,children:[e.jsx(J,{size:16})," Cancel"]})]})]})}function pe(t){switch(t){case"Approved":case"Paid":return{bg:"#dcfce7",color:"#16a34a"};case"Submitted":case"Sent":return{bg:"#fef3c7",color:"#d97706"};case"Rejected":case"Overdue":return{bg:"#fee2e2",color:"#dc2626"};default:return{bg:"#f1f5f9",color:"#64748b"}}}function st({resources:t}){const s=oe();return e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Linked Resources"})}),t.length>0?e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:e.jsxs("table",{style:{width:"100%",fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Name"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Role"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"right"},children:"Cost/Day"})]})}),e.jsx("tbody",{children:t.map(r=>e.jsxs("tr",{onClick:()=>s(`/resources/${r.id}`),style:{cursor:"pointer"},className:"hover-row",children:[e.jsx("td",{style:{padding:"0.75rem"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{color:"#2563eb",fontWeight:"500"},children:r.name}),e.jsx(Ve,{size:12,style:{color:"#9ca3af"}})]})}),e.jsx("td",{style:{padding:"0.75rem",color:"#64748b"},children:r.role}),e.jsx("td",{style:{padding:"0.75rem",textAlign:"right",fontFamily:"monospace"},children:r.cost_price?`£${r.cost_price}`:"-"})]},r.id))})]})}):e.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#64748b"},children:[e.jsx(me,{size:32,style:{marginBottom:"0.5rem",opacity:.5}}),e.jsx("p",{children:"No resources linked to this partner"}),e.jsx("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem"},children:"Assign resources to this partner from the Resources page"})]})]})}function nt({timesheets:t,limit:s=10}){return t?.length?e.jsxs("div",{className:"card",style:{marginTop:"1.5rem"},children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(X,{size:18,style:{marginRight:"0.5rem"}}),"Recent Timesheets"]})}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Date"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Resource"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"right"},children:"Hours"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"right"},children:"Value"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Status"})]})}),e.jsx("tbody",{children:t.slice(0,s).map(r=>{const i=parseFloat(r.hours_worked||r.hours||0),d=r.resources?.cost_price||0,n=ae(i,d),g=pe(r.status);return e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"0.75rem"},children:new Date(r.date).toLocaleDateString()}),e.jsx("td",{style:{padding:"0.75rem"},children:r.resources?.name}),e.jsxs("td",{style:{padding:"0.75rem",textAlign:"right"},children:[i.toFixed(1),"h"]}),e.jsxs("td",{style:{padding:"0.75rem",textAlign:"right",fontFamily:"monospace"},children:["£",n.toFixed(0)]}),e.jsx("td",{style:{padding:"0.75rem"},children:e.jsx("span",{style:{padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",backgroundColor:g.bg,color:g.color},children:r.status})})]},r.id)})})]})})]}):null}function it({expenses:t}){return t?.length?e.jsxs("div",{className:"card",style:{marginTop:"1.5rem"},children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(M,{size:18,style:{marginRight:"0.5rem"}}),"Recent Expenses"]})}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Date"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Resource"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Category"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Description"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Procured By"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"right"},children:"Amount"})]})}),e.jsx("tbody",{children:t.map(s=>{const r=s.procurement_method==="partner";return e.jsxs("tr",{style:{backgroundColor:r?"#faf5ff":"inherit"},children:[e.jsx("td",{style:{padding:"0.75rem"},children:new Date(s.expense_date).toLocaleDateString()}),e.jsx("td",{style:{padding:"0.75rem"},children:s.resource_name}),e.jsx("td",{style:{padding:"0.75rem"},children:s.category}),e.jsx("td",{style:{padding:"0.75rem"},children:s.reason}),e.jsx("td",{style:{padding:"0.75rem"},children:e.jsx("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",backgroundColor:r?"#f3e8ff":"#fef3c7",color:r?"#7c3aed":"#92400e"},children:r?"Partner":"Supplier"})}),e.jsxs("td",{style:{padding:"0.75rem",textAlign:"right",fontFamily:"monospace"},children:["£",parseFloat(s.amount).toFixed(2)]})]},s.id)})})]})})]}):null}function lt({invoices:t}){return t?.length?e.jsxs("div",{className:"card",style:{marginTop:"1.5rem"},children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(L,{size:18,style:{marginRight:"0.5rem"}}),"Recent Invoices"]})}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Invoice #"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Period"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"right"},children:"Total"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Status"}),e.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Date"})]})}),e.jsx("tbody",{children:t.map(s=>{const r=pe(s.status);return e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"0.75rem",fontFamily:"monospace",fontWeight:"500"},children:s.invoice_number}),e.jsxs("td",{style:{padding:"0.75rem"},children:[new Date(s.period_start).toLocaleDateString()," - ",new Date(s.period_end).toLocaleDateString()]}),e.jsxs("td",{style:{padding:"0.75rem",textAlign:"right",fontWeight:"600"},children:["£",parseFloat(s.invoice_total).toFixed(2)]}),e.jsx("td",{style:{padding:"0.75rem"},children:e.jsx("span",{style:{padding:"0.15rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",backgroundColor:r.bg,color:r.color},children:s.status})}),e.jsx("td",{style:{padding:"0.75rem",color:"#64748b"},children:new Date(s.invoice_date).toLocaleDateString()})]},s.id)})})]})})]}):null}function ht(){const{id:t}=Pe(),s=oe(),{user:r}=we(),{projectId:i}=Ne(),{canManagePartners:d}=ke(),[n,g]=h.useState(null),[b,A]=h.useState([]),[c,m]=h.useState({totalHours:0,approvedHours:0,pendingHours:0,totalValue:0,approvedValue:0,pendingValue:0,entries:[]}),[y,C]=h.useState({totalAmount:0,partnerProcuredAmount:0,entries:[]}),[_,w]=h.useState(!0),[N,D]=h.useState(!1),[v,a]=h.useState(!1),[p,j]=h.useState(null),[o,E]=h.useState({start:null,end:null}),[H,V]=h.useState(""),[he,K]=h.useState(!1),[xe,ge]=h.useState([]),[ue,Q]=h.useState(!1),[$,Z]=h.useState(null),[G,O]=h.useState({});h.useEffect(()=>{t&&(ee(),te())},[t,o.start,o.end]);async function ee(){try{w(!0),j(null);const l=await ne.getById(t);if(!l){j("Partner not found");return}g(l);const f=await Te.getByPartner(t);A(f);const x=f.map(u=>u.id);if(x.length>0){const u=[{column:"resource_id",operator:"in",value:x}];o.start&&u.push({column:"date",operator:"gte",value:o.start}),o.end&&u.push({column:"date",operator:"lte",value:o.end});const k=await De.getAll(i,{filters:u,select:"id, date, hours_worked, hours, status, resource_id, resources(name, cost_price)",orderBy:{column:"date",ascending:!1},limit:100});if(k){let I=0,B=0,S=0,z=0,Y=0;k.forEach(T=>{const P=parseFloat(T.hours_worked||T.hours||0),Ae=T.resources?.cost_price||0,se=ae(P,Ae);I+=P,Ee.timesheets.completed.includes(T.status)?(B+=P,z+=se):T.status===Re.SUBMITTED&&(S+=P,Y+=se)}),m({totalHours:I,approvedHours:B,pendingHours:S,totalValue:z+Y,approvedValue:z,pendingValue:Y,entries:k})}const U=[{column:"resource_id",operator:"in",value:x}];o.start&&U.push({column:"expense_date",operator:"gte",value:o.start}),o.end&&U.push({column:"expense_date",operator:"lte",value:o.end});const F=await Fe.getAll(i,{filters:U,select:"id, expense_date, category, reason, amount, resource_id, resource_name, status, procurement_method",orderBy:{column:"expense_date",ascending:!1},limit:100});if(F){const I=F.reduce((S,z)=>S+parseFloat(z.amount||0),0),B=F.filter(S=>S.procurement_method==="partner").reduce((S,z)=>S+parseFloat(z.amount||0),0);C({totalAmount:I,partnerProcuredAmount:B,entries:F})}}}catch(l){j(l.message)}finally{w(!1)}}async function te(){try{const l=await ie.getByPartner(t);ge(l.slice(0,5))}catch{}}function fe(l){if(V(l),l){const[f,x]=l.split("-").map(Number),u=new Date(f,x-1,1),k=new Date(f,x,0);E({start:u.toISOString().split("T")[0],end:k.toISOString().split("T")[0]})}else E({start:null,end:null})}function ye(l,f){V(""),E(x=>({...x,[l]:f||null}))}function je(){E({start:null,end:null}),V("")}function re(){if(!o.start&&!o.end)return"All Time";if(H){const[x,u]=H.split("-").map(Number);return new Date(x,u-1,1).toLocaleDateString("en-GB",{month:"long",year:"numeric"})}const l=o.start?new Date(o.start).toLocaleDateString("en-GB"):"Start",f=o.end?new Date(o.end).toLocaleDateString("en-GB"):"End";return`${l} - ${f}`}function be(){O({name:n.name||"",contact_name:n.contact_name||"",contact_email:n.contact_email||"",payment_terms:n.payment_terms||"Net 30",notes:n.notes||"",is_active:n.is_active??!0}),a(!0)}async function ve(){try{if(D(!0),j(null),!G.name?.trim()){j("Partner name is required");return}await ne.update(t,G),await ee(),a(!1)}catch(l){j("Failed to save: "+l.message)}finally{D(!1)}}function Se(){a(!1),O({})}async function Ce(){if(!o.start||!o.end){j("Please select a date range first");return}try{K(!0),j(null);const l=await ie.generateInvoice({projectId:i,partnerId:t,periodStart:o.start,periodEnd:o.end,createdBy:r?.id,notes:null});Z(l),Q(!0),te()}catch(l){j("Failed to generate invoice: "+l.message)}finally{K(!1)}}function _e(){const l=document.getElementById("invoice-print-content");if(!l)return;const f=l.cloneNode(!0);f.querySelectorAll("*").forEach(u=>{u.style&&(u.style.maxHeight="none",u.style.overflow="visible")});const x=window.open("","_blank");x.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice ${$?.invoice_number||""}</title>
        <style>
          * { box-sizing: border-box; margin: 0; padding: 0; }
          body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; padding: 1.5rem; color: #1e293b; font-size: 11px; }
          h1 { font-size: 1.4rem; margin-bottom: 0.5rem; }
          h2 { font-size: 1.1rem; margin: 1rem 0 0.5rem; color: #475569; }
          h4 { font-size: 0.9rem; margin: 0.75rem 0 0.5rem; }
          table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; font-size: 10px; }
          th { background: #f1f5f9; padding: 5px 6px; text-align: left; font-weight: 600; border: 1px solid #cbd5e1; }
          td { padding: 5px 6px; border: 1px solid #e2e8f0; }
          @media print { body { padding: 0.5cm; } @page { margin: 0.75cm; size: A4; } }
        </style>
      </head>
      <body>${f.innerHTML}</body>
      </html>
    `),x.document.close(),x.focus(),setTimeout(()=>x.print(),250)}if(_)return e.jsx(Ie,{message:"Loading partner...",size:"large",fullPage:!0});if(p&&!n)return e.jsx("div",{className:"page-container",children:e.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[e.jsx(q,{size:48,style:{color:"#f59e0b",marginBottom:"1rem"}}),e.jsx("h2",{children:"Partner Not Found"}),e.jsx("p",{style:{color:"#64748b",marginBottom:"1.5rem"},children:p}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>s("/partners"),children:[e.jsx(le,{size:16})," Back to Partners"]})]})});c.totalValue+y.totalAmount;const ze=Be(c.totalHours);return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("div",{className:"page-title",children:[e.jsx("button",{onClick:()=>s("/partners"),className:"btn btn-secondary",style:{marginRight:"1rem",padding:"0.5rem"},children:e.jsx(le,{size:20})}),e.jsx(de,{size:28}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("h1",{children:n.name}),e.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.85rem",fontWeight:"500",backgroundColor:n.is_active?"#dcfce7":"#f1f5f9",color:n.is_active?"#16a34a":"#64748b"},children:n.is_active?"Active":"Inactive"})]}),e.jsxs("p",{style:{color:"#64748b"},children:[n.contact_name&&`${n.contact_name} • `,n.contact_email]})]})]}),d&&!v&&e.jsxs("button",{className:"btn btn-primary",onClick:be,children:[e.jsx($e,{size:18})," Edit Partner"]})]}),p&&e.jsxs("div",{style:{padding:"1rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(q,{size:18}),p,e.jsx("button",{onClick:()=>j(null),style:{marginLeft:"auto",background:"none",border:"none",cursor:"pointer"},children:e.jsx(J,{size:18})})]}),e.jsx(tt,{dateRange:o,selectedMonth:H,onMonthSelect:fe,onDateRangeChange:ye,onClear:je,onGenerateInvoice:Ce,generatingInvoice:he,getDateRangeLabel:re}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:"1.5rem"},children:[e.jsx(R,{icon:me,label:"Linked Resources",value:b.length,subtext:"Team members",color:"#3b82f6"}),e.jsx(R,{icon:X,label:"Days Worked",value:ze.toFixed(1),subtext:c.pendingHours>0?`${c.approvedHours.toFixed(1)}h approved, ${c.pendingHours.toFixed(1)}h pending`:`${c.totalHours.toFixed(1)} hours`,color:"#10b981"}),e.jsx(R,{icon:Ge,label:"Timesheet Value",value:`£${Math.round(c.totalValue).toLocaleString()}`,subtext:c.pendingValue>0?`£${Math.round(c.approvedValue)} approved, £${Math.round(c.pendingValue)} pending`:"At cost price",color:"#8b5cf6"}),e.jsx(R,{icon:M,label:"Partner Expenses",value:`£${Math.round(y.partnerProcuredAmount||0).toLocaleString()}`,subtext:`£${Math.round(y.totalAmount||0)} total expenses`,color:"#f59e0b"})]}),o.start&&o.end&&e.jsx("div",{className:"card",style:{marginBottom:"1.5rem",backgroundColor:"#faf5ff",border:"1px solid #e9d5ff"},children:e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"1rem"},children:e.jsxs("div",{children:[e.jsxs("h3",{style:{color:"#7c3aed",marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(L,{size:20}),"Invoice Preview: ",re()]}),e.jsxs("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{color:"#64748b",fontSize:"0.85rem"},children:"Timesheets (at cost):"}),e.jsxs("span",{style:{fontWeight:"600",marginLeft:"0.5rem"},children:["£",Math.round(c.totalValue).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{style:{color:"#64748b",fontSize:"0.85rem"},children:"Partner Expenses:"}),e.jsxs("span",{style:{fontWeight:"600",marginLeft:"0.5rem"},children:["£",Math.round(y.partnerProcuredAmount||0).toLocaleString()]})]}),e.jsxs("div",{style:{borderLeft:"2px solid #c4b5fd",paddingLeft:"1rem"},children:[e.jsx("span",{style:{color:"#7c3aed",fontSize:"0.9rem",fontWeight:"600"},children:"Invoice Total:"}),e.jsxs("span",{style:{fontWeight:"700",marginLeft:"0.5rem",fontSize:"1.1rem",color:"#7c3aed"},children:["£",Math.round(c.totalValue+(y.partnerProcuredAmount||0)).toLocaleString()]})]})]})]})})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:v?"1fr":"1fr 1fr",gap:"1.5rem"},children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"card-title",children:v?"Edit Partner Details":"Partner Details"})}),v?e.jsx(rt,{editForm:G,onFormChange:O,onSave:ve,onCancel:Se,saving:N}):e.jsxs("div",{style:{padding:"1rem"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[e.jsx(W,{icon:e.jsx(Oe,{size:16}),label:"Contact Name",value:n.contact_name||"Not set"}),e.jsx(W,{icon:e.jsx(Ue,{size:16}),label:"Contact Email",value:n.contact_email?e.jsx("a",{href:`mailto:${n.contact_email}`,style:{color:"#2563eb"},children:n.contact_email}):"Not set"}),e.jsx(W,{icon:e.jsx(Ye,{size:16}),label:"Payment Terms",value:n.payment_terms||"Net 30"}),e.jsx(W,{icon:e.jsx(ce,{size:16}),label:"Added",value:new Date(n.created_at).toLocaleDateString()})]}),n.notes&&e.jsxs("div",{style:{marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #e2e8f0"},children:[e.jsxs("span",{style:{fontSize:"0.75rem",color:"#64748b",display:"flex",alignItems:"center",gap:"0.25rem"},children:[e.jsx(L,{size:14})," Notes"]}),e.jsx("p",{style:{marginTop:"0.5rem",color:"#374151"},children:n.notes})]})]})]}),!v&&e.jsx(st,{resources:b})]}),!v&&e.jsxs(e.Fragment,{children:[e.jsx(nt,{timesheets:c.entries}),e.jsx(it,{expenses:y.entries}),e.jsx(lt,{invoices:xe})]}),e.jsx("style",{jsx:!0,children:`
        .input-field {
          padding: 0.5rem 0.75rem;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          font-size: 0.875rem;
        }
        .input-field:focus {
          outline: none;
          border-color: #3b82f6;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        .hover-row:hover {
          background-color: #f8fafc;
        }
        .spin {
          animation: spin 1s linear infinite;
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `}),ue&&$&&e.jsx(qe,{invoice:$,partner:n,onClose:()=>{Q(!1),Z(null)},onPrint:_e})]})}function W({icon:t,label:s,value:r}){return e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("span",{style:{fontSize:"0.75rem",color:"#64748b",display:"flex",alignItems:"center",gap:"0.25rem"},children:[t," ",s]}),e.jsx("span",{style:{fontWeight:"500",marginTop:"0.25rem",display:"block"},children:r})]})}export{ht as default};
