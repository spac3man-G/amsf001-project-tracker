import{j as r}from"./index-IaXQkjEL.js";import{r as d}from"./vendor-react-BUTV5ZEl.js";import{I as E,A as f,c as S}from"./vendor-icons-C6BNM9_X.js";const y={danger:{icon:f,variant:"danger",color:"#dc2626"},warning:{icon:f,variant:"warning",color:"#f59e0b"},info:{icon:E,variant:"info",color:"#3b82f6"}};function D({isOpen:i,onClose:n,onConfirm:m,title:b,message:p,inputLabel:h="Reason",inputPlaceholder:u="Enter reason (optional)",inputRequired:l=!1,confirmText:g="Confirm",cancelText:v="Cancel",type:j="warning",isLoading:e=!1,multiline:a=!1}){const[t,x]=d.useState(""),c=d.useRef(null);if(d.useEffect(()=>{i&&(x(""),setTimeout(()=>c.current?.focus(),100))},[i]),!i)return null;const s=y[j]||y.warning,k=s.icon,C=o=>{o.key==="Escape"&&!e?n():o.key==="Enter"&&!a&&!e&&(!l||t.trim())&&m(t.trim()||null)},w=o=>{o.target===o.currentTarget&&!e&&n()},I=()=>{if(l&&!t.trim()){c.current?.focus();return}m(t.trim()||null)},z=a?"textarea":"input";return r.jsx("div",{className:"modal-overlay",onClick:w,onKeyDown:C,children:r.jsxs("div",{className:"modal",style:{maxWidth:"440px"},role:"dialog","aria-modal":"true","aria-labelledby":"prompt-dialog-title",children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1.25rem 1.5rem",borderBottom:"1px solid var(--color-border)"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:`${s.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(k,{size:20,style:{color:s.color}})}),r.jsx("h3",{id:"prompt-dialog-title",style:{fontSize:"1.125rem",fontWeight:"600",color:"var(--color-text-primary)",flex:1},children:b}),r.jsx("button",{onClick:n,disabled:e,style:{background:"none",border:"none",padding:"0.5rem",cursor:"pointer",color:"var(--color-text-tertiary)",borderRadius:"6px"},children:r.jsx(S,{size:20})})]}),r.jsxs("div",{style:{padding:"1.25rem 1.5rem"},children:[p&&r.jsx("div",{style:{color:"var(--color-text-secondary)",fontSize:"0.9375rem",lineHeight:"1.5",marginBottom:"1rem"},children:p}),r.jsxs("div",{children:[r.jsxs("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"var(--color-text-secondary)",marginBottom:"0.5rem"},children:[h,l&&r.jsx("span",{style:{color:"#dc2626"},children:" *"})]}),r.jsx(z,{ref:c,value:t,onChange:o=>x(o.target.value),placeholder:u,disabled:e,rows:a?3:void 0,style:{width:"100%",padding:"0.625rem 0.75rem",border:"1px solid var(--color-border)",borderRadius:"8px",fontSize:"0.9375rem",resize:a?"vertical":"none",fontFamily:"inherit"}})]})]}),r.jsxs("div",{style:{display:"flex",gap:"0.75rem",padding:"1rem 1.5rem",borderTop:"1px solid var(--color-border)",backgroundColor:"var(--color-bg-secondary)"},children:[r.jsx("button",{className:"btn btn-secondary",onClick:n,disabled:e,style:{flex:1},children:v}),r.jsx("button",{className:`btn btn-${s.variant}`,onClick:I,disabled:e||l&&!t.trim(),style:{flex:1},children:e?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"spinner spinner-sm"}),"Processing..."]}):g})]})]})})}export{D as P};
