import{u as ze,a as ke,b as Le,s as h,j as e,L as Re,P as Ie,S as z}from"./index-DjXTtB8m.js";import{u as Te,r as p}from"./vendor-react-JFEV0ROX.js";import{u as Fe}from"./usePermissions-BN-cu4kW.js";import{C as De}from"./ConfirmDialog-V9NTp2PV.js";import{l as Z,H as Ae,D as Pe,h as ee,m as D,N as se,a as te,a2 as Me,f as We,J as Ee,T as $e,a3 as A,a4 as re,k as ae,a5 as le}from"./vendor-icons-Bd7vp13O.js";import"./vendor-supabase-DgEUAXvv.js";function Xe(){const ne=Te(),{user:ie,role:P}=ze(),{projectId:M}=ke(),{showSuccess:W,showError:_,showWarning:oe}=Le(),de=ie?.id||null,{canManageResources:E,canSeeResourceType:y,canSeeCostPrice:i}=Fe(),[C,ce]=p.useState([]),[$,ue]=p.useState({}),[pe,me]=p.useState(!0),[he,k]=p.useState(null),[a,g]=p.useState({}),[xe,L]=p.useState(!1),[R,ge]=p.useState("all"),[o,S]=p.useState({isOpen:!1,resource:null,dependents:null}),[fe,B]=p.useState(!1),[r,d]=p.useState({resource_ref:"",name:"",email:"",role:"",sfia_level:"L4",daily_rate:"",cost_price:"",discount_percent:0,days_allocated:"",days_used:0,resource_type:"internal"});p.useEffect(()=>{M&&w()},[M]);async function w(){try{const{data:s,error:t}=await h.from("resources").select("*").order("name");if(t)throw t;ce(s||[]);const{data:n}=await h.from("timesheets").select("resource_id, hours_worked, hours, status, was_rejected"),l={};n&&n.forEach(c=>{if(!(c.status==="Approved"||c.status==="Submitted"&&!c.was_rejected))return;const x=parseFloat(c.hours_worked||c.hours||0);l[c.resource_id]=(l[c.resource_id]||0)+x}),ue(l)}catch{}finally{me(!1)}}function I(s){return s?typeof s=="string"&&s.startsWith("L")?s:`L${s}`:"L4"}function O(s){return s?typeof s=="number"?s:typeof s=="string"&&s.startsWith("L")?parseInt(s.substring(1))||4:parseInt(s)||4:4}function U(s,t){return!s||s===0||!t?null:(s-t)/s*100}function q(s){return s===null?{color:"#9ca3af",bg:"#f1f5f9",label:"N/A",icon:A}:s>=25?{color:"#16a34a",bg:"#dcfce7",label:"Good",icon:D}:s>=10?{color:"#d97706",bg:"#fef3c7",label:"Low",icon:A}:{color:"#dc2626",bg:"#fee2e2",label:"Critical",icon:re}}async function ye(s){k(s.id),g({name:s.name,email:s.email,role:s.role,sfia_level:I(s.sfia_level),daily_rate:s.daily_rate,cost_price:s.cost_price||"",discount_percent:s.discount_percent,days_allocated:s.days_allocated,days_used:s.days_used,resource_type:s.resource_type||"internal"})}async function je(s){try{const t={name:a.name,email:a.email,role:a.role,sfia_level:O(a.sfia_level),daily_rate:parseFloat(a.daily_rate)||0,discount_percent:parseFloat(a.discount_percent)||0,days_allocated:parseInt(a.days_allocated)||0,days_used:parseFloat(a.days_used)||0,resource_type:a.resource_type||"internal"};i&&(a.cost_price===""||a.cost_price===null||a.cost_price===void 0?t.cost_price=null:t.cost_price=parseFloat(a.cost_price));const{data:n,error:l}=await h.from("resources").update(t).eq("id",s).select();if(l)throw l;if(!n||n.length===0)throw new Error("Update was blocked by database security policy. You may not have permission to update this resource.");await w(),k(null),W("Resource updated successfully!")}catch(t){_("Failed to update resource: "+t.message)}}async function be(){try{const{data:s}=await h.from("profiles").select("id").eq("email",r.email).single();if(!s){oe("This email is not registered in the system. They need to sign up first.");return}const{data:t}=await h.from("projects").select("id").eq("reference","AMSF001").single();if(!t){_("Project not found");return}const n={...r,project_id:t.id,user_id:s.id,sfia_level:O(r.sfia_level),daily_rate:parseFloat(r.daily_rate),cost_price:r.cost_price?parseFloat(r.cost_price):null,days_allocated:parseInt(r.days_allocated),discount_percent:parseFloat(r.discount_percent)||0,created_by:de},{error:l}=await h.from("resources").insert([n]);if(l)throw l;await w(),L(!1),d({resource_ref:"",name:"",email:"",role:"",sfia_level:"L4",daily_rate:"",cost_price:"",discount_percent:0,days_allocated:"",days_used:0,resource_type:"internal"}),W("Resource added successfully!")}catch(s){_("Failed to add resource: "+s.message)}}async function ve(s){try{const[t,n]=await Promise.all([h.from("timesheets").select("id",{count:"exact",head:!0}).eq("resource_id",s.id),h.from("expenses").select("id",{count:"exact",head:!0}).eq("resource_id",s.id)]),l=t.count||0,c=n.count||0;S({isOpen:!0,resource:s,dependents:{timesheets:l,expenses:c}})}catch{S({isOpen:!0,resource:s,dependents:null})}}async function _e(){const s=o.resource;if(s){B(!0);try{const{error:t}=await h.from("resources").delete().eq("id",s.id);if(t)throw t;await w(),S({isOpen:!1,resource:null,dependents:null})}catch{_("Failed to delete resource")}finally{B(!1)}}}const Ce=s=>{switch(I(s)){case"L6":return"badge-warning";case"L5":return"badge-success";case"L4":return"badge-primary";case"L3":return"badge-secondary";default:return"badge-secondary"}},Se=s=>s==="third_party"?{bg:"#fef3c7",color:"#92400e",icon:le,label:"Third-Party Partner"}:{bg:"#dbeafe",color:"#1e40af",icon:ae,label:"Internal Resource"},f=C.filter(s=>R==="all"?!0:(s.resource_type||"internal")===R),we=f.reduce((s,t)=>s+(t.daily_rate||0)*(t.days_allocated||0),0),T=f.reduce((s,t)=>s+(t.days_allocated||0),0),H=f.reduce((s,t)=>s+($[t.id]||0),0)/8,G=T>0?Math.round(H/T*100):0,J=C.filter(s=>(s.resource_type||"internal")==="internal").length,X=C.filter(s=>s.resource_type==="third_party").length,V=f.filter(s=>s.cost_price&&s.daily_rate),b=V.reduce((s,t)=>s+(t.daily_rate||0)*(t.days_allocated||0),0),Y=V.reduce((s,t)=>s+(t.cost_price||0)*(t.days_allocated||0),0),F=b>0?(b-Y)/b*100:null,K=q(F),m={good:0,low:0,critical:0,unknown:0};return f.forEach(s=>{const t=U(s.daily_rate,s.cost_price);t===null?m.unknown++:t>=25?m.good++:t>=10?m.low++:m.critical++}),pe?e.jsx(Re,{message:"Loading resources...",size:"large",fullPage:!0}):e.jsxs("div",{className:"page-container",children:[e.jsx(Ie,{icon:Z,title:"Team Resources",subtitle:"Manage project team allocation and utilization",children:P==="admin"&&e.jsxs("button",{className:"btn btn-primary",onClick:()=>L(!0),children:[e.jsx(Ae,{size:18})," Add Resource"]})}),e.jsxs("div",{className:"stats-grid",style:{marginBottom:"1rem"},children:[e.jsx(z,{icon:Z,label:"Team Members",value:f.length,subtext:y?`${J} internal, ${X} third-party`:void 0,color:"#3b82f6"}),e.jsx(z,{icon:Pe,label:"Resource Budget",value:`Â£${we.toLocaleString()}`,color:"#10b981"}),e.jsx(z,{icon:ee,label:"Days Allocated",value:T,color:"#3b82f6"}),e.jsx(z,{icon:D,label:"Utilization",value:`${G}%`,subtext:`${H.toFixed(1)} days used`,color:G>0?"#10b981":"#64748b"})]}),i&&e.jsxs("div",{className:"stats-grid",style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{className:"stat-card",style:{borderLeft:`4px solid ${K.color}`},children:[e.jsx("div",{className:"stat-value",style:{color:K.color},children:F!==null?`${F.toFixed(1)}%`:"N/A"}),e.jsx("div",{className:"stat-label",children:"Overall Margin"}),b>0&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:["Â£",(b-Y).toLocaleString()," profit"]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",style:{color:"#16a34a"},children:m.good}),e.jsx("div",{className:"stat-label",children:"Good Margin (â‰¥25%)"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",style:{color:"#d97706"},children:m.low}),e.jsx("div",{className:"stat-label",children:"Low Margin (10-25%)"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",style:{color:m.critical>0?"#dc2626":"#64748b"},children:m.critical}),e.jsx("div",{className:"stat-label",children:"Critical (<10%)"}),m.unknown>0&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"#9ca3af"},children:[m.unknown," not set"]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("h2",{className:"card-title",children:"Team Resources"}),y&&e.jsxs("select",{value:R,onChange:s=>ge(s.target.value),style:{padding:"0.5rem",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"0.875rem"},children:[e.jsxs("option",{value:"all",children:["All Resources (",C.length,")"]}),e.jsxs("option",{value:"internal",children:["Internal Only (",J,")"]}),e.jsxs("option",{value:"third_party",children:["Third-Party Only (",X,")"]})]})]})}),xe&&e.jsxs("div",{style:{padding:"1rem",borderBottom:"2px solid var(--border)"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Add New Resource"}),e.jsxs("div",{className:"form-grid",children:[e.jsx("input",{className:"input-field",placeholder:"Reference (e.g., R01)",value:r.resource_ref,onChange:s=>d({...r,resource_ref:s.target.value})}),e.jsx("input",{className:"input-field",placeholder:"Full Name",value:r.name,onChange:s=>d({...r,name:s.target.value})}),e.jsx("input",{className:"input-field",placeholder:"Email",type:"email",value:r.email,onChange:s=>d({...r,email:s.target.value})}),e.jsx("input",{className:"input-field",placeholder:"Role",value:r.role,onChange:s=>d({...r,role:s.target.value})}),e.jsxs("select",{className:"input-field",value:r.sfia_level,onChange:s=>d({...r,sfia_level:s.target.value}),children:[e.jsx("option",{value:"L3",children:"SFIA Level 3"}),e.jsx("option",{value:"L4",children:"SFIA Level 4"}),e.jsx("option",{value:"L5",children:"SFIA Level 5"}),e.jsx("option",{value:"L6",children:"SFIA Level 6"})]}),e.jsx("input",{className:"input-field",placeholder:"Daily Rate (Â£) - Customer",type:"number",value:r.daily_rate,onChange:s=>d({...r,daily_rate:s.target.value})}),i&&e.jsx("input",{className:"input-field",placeholder:"Cost Price (Â£) - Internal",type:"number",value:r.cost_price,onChange:s=>d({...r,cost_price:s.target.value})}),e.jsx("input",{className:"input-field",placeholder:"Discount %",type:"number",value:r.discount_percent,onChange:s=>d({...r,discount_percent:s.target.value})}),e.jsx("input",{className:"input-field",placeholder:"Days Allocated",type:"number",value:r.days_allocated,onChange:s=>d({...r,days_allocated:s.target.value})}),e.jsxs("select",{className:"input-field",value:r.resource_type,onChange:s=>d({...r,resource_type:s.target.value}),children:[e.jsx("option",{value:"internal",children:"Internal Supplier Resource"}),e.jsx("option",{value:"third_party",children:"Third-Party Partner"})]})]}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"0.5rem"},children:[e.jsxs("button",{className:"btn btn-primary",onClick:be,children:[e.jsx(se,{size:16})," Save"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>L(!1),children:[e.jsx(te,{size:16})," Cancel"]})]})]}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),y&&e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"SFIA Level"}),e.jsx("th",{children:"Daily Rate"}),i&&e.jsx("th",{children:"Cost Price"}),i&&e.jsx("th",{children:"Margin"}),e.jsx("th",{children:"Days"}),e.jsx("th",{children:"Utilization"}),e.jsx("th",{children:"Total Value"}),E&&e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:f.map(s=>{const t=$[s.id]||0,n=t/8,l=s.days_allocated||0,c=Math.max(0,l-n),j=l>0?n/l*100:0,x=Se(s.resource_type),Q=x.icon,N=U(s.daily_rate,s.cost_price),v=q(N),Ne=v.icon;return e.jsx("tr",{children:he===s.id?e.jsxs(e.Fragment,{children:[e.jsx("td",{children:e.jsx("input",{className:"input-field",value:a.name,onChange:u=>g({...a,name:u.target.value})})}),y&&e.jsx("td",{children:e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.35rem",padding:"0.35rem 0.65rem",backgroundColor:x.bg,color:x.color,borderRadius:"6px",fontSize:"0.8rem",fontWeight:"500"},title:"Edit resource type from detail page",children:[e.jsx(Q,{size:14}),s.resource_type==="third_party"?"3rd Party":"Internal"]})}),e.jsx("td",{children:e.jsx("input",{className:"input-field",value:a.role,onChange:u=>g({...a,role:u.target.value})})}),e.jsx("td",{children:e.jsxs("select",{className:"input-field",value:a.sfia_level,onChange:u=>g({...a,sfia_level:u.target.value}),children:[e.jsx("option",{value:"L3",children:"L3"}),e.jsx("option",{value:"L4",children:"L4"}),e.jsx("option",{value:"L5",children:"L5"}),e.jsx("option",{value:"L6",children:"L6"})]})}),e.jsx("td",{children:e.jsx("input",{className:"input-field",type:"number",value:a.daily_rate,onChange:u=>g({...a,daily_rate:u.target.value}),style:{width:"80px"}})}),i&&e.jsx("td",{children:e.jsx("input",{className:"input-field",type:"number",value:a.cost_price,onChange:u=>g({...a,cost_price:u.target.value}),placeholder:"Cost",style:{width:"80px"}})}),i&&e.jsx("td",{children:"-"}),e.jsx("td",{children:e.jsx("input",{className:"input-field",type:"number",value:a.days_allocated,onChange:u=>g({...a,days_allocated:u.target.value}),style:{width:"60px"}})}),e.jsx("td",{children:"-"}),e.jsx("td",{children:"-"}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>je(s.id),children:e.jsx(se,{size:16})}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>k(null),children:e.jsx(te,{size:16})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:e.jsxs("div",{onClick:()=>ne(`/resources/${s.id}`),style:{cursor:"pointer"},title:"Click to view details",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("strong",{style:{color:"#2563eb"},children:s.name}),e.jsx(Me,{size:14,style:{color:"#9ca3af"}})]}),e.jsx("div",{style:{fontSize:"0.875rem",color:"var(--text-light)"},children:s.email})]})}),y&&e.jsx("td",{children:e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.35rem",padding:"0.35rem 0.65rem",backgroundColor:x.bg,color:x.color,borderRadius:"6px",fontSize:"0.8rem",fontWeight:"500"},title:x.label,children:[e.jsx(Q,{size:14}),s.resource_type==="third_party"?"3rd Party":"Internal"]})}),e.jsx("td",{children:s.role}),e.jsx("td",{children:e.jsxs("span",{className:`badge ${Ce(s.sfia_level)}`,children:[e.jsx(We,{size:14,style:{marginRight:"0.25rem"}}),I(s.sfia_level)]})}),e.jsxs("td",{children:["Â£",s.daily_rate]}),i&&e.jsx("td",{children:s.cost_price?e.jsxs("span",{style:{fontFamily:"monospace"},children:["Â£",s.cost_price]}):e.jsx("span",{style:{color:"#9ca3af",fontSize:"0.85rem"},children:"Not set"})}),i&&e.jsx("td",{children:e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",backgroundColor:v.bg,color:v.color,borderRadius:"4px",fontSize:"0.85rem",fontWeight:"600"},title:N!==null?`${v.label} margin`:"Cost price not set",children:[e.jsx(Ne,{size:14}),N!==null?`${N.toFixed(0)}%`:"N/A"]})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[e.jsx("span",{style:{fontWeight:"500"},children:n.toFixed(1)}),e.jsx("span",{style:{color:"var(--text-light)"},children:"/"}),e.jsx("span",{children:l})]}),e.jsxs("div",{style:{fontSize:"0.875rem",color:"var(--text-light)"},children:[c.toFixed(1)," remaining"]}),t>0&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"#10b981",display:"flex",alignItems:"center",gap:"0.25rem"},children:[e.jsx(ee,{size:12})," ",t.toFixed(1),"h logged"]})]})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-bar-fill",style:{width:`${Math.min(j,100)}%`,background:j>100?"var(--danger)":j>0?"var(--primary)":"#e2e8f0"}})}),e.jsxs("span",{style:{fontSize:"0.875rem",color:j>0?"inherit":"#9ca3af"},children:[Math.round(j),"%"]})]})}),e.jsxs("td",{children:[e.jsxs("strong",{children:["Â£",((s.daily_rate||0)*(s.days_allocated||0)).toLocaleString()]}),i&&s.cost_price&&e.jsxs("div",{style:{fontSize:"0.75rem",color:v.color},children:["Â£",(((s.daily_rate||0)-(s.cost_price||0))*(s.days_allocated||0)).toLocaleString()," profit"]})]}),E&&e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>ye(s),title:"Edit resource",children:e.jsx(Ee,{size:16})}),P==="admin"&&e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>ve(s),title:"Delete resource",children:e.jsx($e,{size:16})})]})})]})},s.id)})})]})})]}),i&&e.jsxs("div",{className:"card",style:{marginTop:"1.5rem",backgroundColor:"#f8fafc"},children:[e.jsx("h4",{style:{marginBottom:"0.75rem"},children:"ðŸ“Š Margin Guide"}),e.jsxs("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap",marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",backgroundColor:"#dcfce7",color:"#16a34a",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"600"},children:[e.jsx(D,{size:14}),"â‰¥25%"]}),e.jsx("span",{style:{color:"#64748b",fontSize:"0.875rem"},children:"Good margin - healthy profitability"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",backgroundColor:"#fef3c7",color:"#d97706",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"600"},children:[e.jsx(A,{size:14}),"10-25%"]}),e.jsx("span",{style:{color:"#64748b",fontSize:"0.875rem"},children:"Low margin - review pricing"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"600"},children:[e.jsx(re,{size:14}),"<10%"]}),e.jsx("span",{style:{color:"#64748b",fontSize:"0.875rem"},children:"Critical - action required"})]})]}),e.jsxs("p",{style:{fontSize:"0.85rem",color:"#64748b",margin:0},children:[e.jsx("strong",{children:"Margin"})," = (Daily Rate - Cost Price) Ã· Daily Rate Ã— 100. Cost price and margin data is only visible to Admin and Supplier PM."]})]}),y&&e.jsxs("div",{className:"card",style:{marginTop:"1rem",backgroundColor:"#f8fafc"},children:[e.jsx("h4",{style:{marginBottom:"0.75rem"},children:"ðŸ“‹ Resource Types"}),e.jsxs("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.35rem",padding:"0.35rem 0.65rem",backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:"6px",fontSize:"0.85rem"},children:[e.jsx(ae,{size:14}),"Internal"]}),e.jsx("span",{style:{color:"#64748b",fontSize:"0.875rem"},children:"Internal JT/Supplier staff allocated to the project"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.35rem",padding:"0.35rem 0.65rem",backgroundColor:"#fef3c7",color:"#92400e",borderRadius:"6px",fontSize:"0.85rem"},children:[e.jsx(le,{size:14}),"Third-Party"]}),e.jsx("span",{style:{color:"#64748b",fontSize:"0.875rem"},children:"External partners/contractors engaged for the project"})]})]}),e.jsxs("p",{style:{marginTop:"0.75rem",fontSize:"0.85rem",color:"#64748b"},children:[e.jsx("strong",{children:"Note:"})," Resource type is only visible to Admin and Supplier PM. Click on the type badge to toggle between Internal and Third-Party."]})]}),e.jsx("style",{jsx:!0,children:`
        .form-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 1rem;
        }
        
        .input-field {
          width: 100%;
          padding: 0.5rem;
          border: 1px solid var(--border);
          border-radius: 4px;
        }
        
        .badge {
          display: inline-flex;
          align-items: center;
          padding: 0.25rem 0.5rem;
          border-radius: 4px;
          font-size: 0.875rem;
        }
        
        .badge-success {
          background: #dcfce7;
          color: #166534;
        }
        
        .badge-primary {
          background: #dbeafe;
          color: #1e40af;
        }
        
        .badge-secondary {
          background: #f1f5f9;
          color: #475569;
        }
        
        .badge-warning {
          background: #fef3c7;
          color: #92400e;
        }
        
        .progress-bar {
          width: 60px;
          height: 6px;
          background: #e2e8f0;
          border-radius: 3px;
          overflow: hidden;
          margin-bottom: 0.25rem;
        }
        
        .progress-bar-fill {
          height: 100%;
          border-radius: 3px;
        }
        
        .btn-danger {
          background: #fee2e2;
          color: #dc2626;
          border: none;
          cursor: pointer;
          padding: 0.5rem;
          border-radius: 4px;
        }
        
        .btn-danger:hover {
          background: #fecaca;
        }
        
        .btn-secondary {
          background: #f1f5f9;
          color: #475569;
          border: none;
          cursor: pointer;
          padding: 0.5rem;
          border-radius: 4px;
        }
        
        .btn-primary {
          background: var(--primary);
          color: white;
        }
        
        .btn-sm {
          padding: 0.25rem 0.5rem;
          font-size: 0.875rem;
        }
      `}),e.jsx(De,{isOpen:o.isOpen,onClose:()=>S({isOpen:!1,resource:null,dependents:null}),onConfirm:_e,title:"Delete Resource?",message:o.resource?e.jsxs(e.Fragment,{children:['This will permanently delete "',e.jsx("strong",{children:o.resource.name}),'" from the project.',o.dependents&&(o.dependents.timesheets>0||o.dependents.expenses>0)&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{style:{color:"#dc2626",fontWeight:"500"},children:"âš ï¸ Warning: This will also delete:"}),e.jsxs("ul",{style:{margin:"0.5rem 0 0 1.5rem",color:"#dc2626"},children:[o.dependents.timesheets>0&&e.jsxs("li",{children:[o.dependents.timesheets," timesheet entries"]}),o.dependents.expenses>0&&e.jsxs("li",{children:[o.dependents.expenses," expense records"]})]})]}),e.jsx("br",{}),"This action cannot be undone."]}):"",confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:fe})]})}export{Xe as default};
