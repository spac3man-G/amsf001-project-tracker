const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ResetPassword-DtDCV1YD.js","assets/eye-off-Cgz7pV7c.js","assets/eye-TuZbGSDP.js","assets/Milestones-DLkIoA6W.js","assets/usePermissions-BVDnOyEP.js","assets/ConfirmDialog-gwJpjGdx.js","assets/plus-D7oGuyuR.js","assets/pen-DT4Lwjy-.js","assets/save-CZ-sDznj.js","assets/MilestoneDetail-Co1zU8ry.js","assets/arrow-left-CPDZgmrD.js","assets/calendar-DtR-u2I8.js","assets/Gantt-CefJumje.js","assets/Deliverables-BhSYEop9.js","assets/Resources-DsrfLnLg.js","assets/external-link-BWkQ7jUH.js","assets/trending-down-BzR9usuY.js","assets/ResourceDetail-CWz882gL.js","assets/qualityStandards.service-BQe0rUMs.js","assets/Partners-CgjnNirJ.js","assets/PartnerDetail-CCDpTMaE.js","assets/Timesheets-DkMFx7a2.js","assets/Expenses-CKP6mHET.js","assets/download-Dm1-2LXd.js","assets/KPIs-2MZoSJwE.js","assets/KPIDetail-BPH7DmPU.js","assets/QualityStandards-CNDqYbT-.js","assets/QualityStandardDetail-Bjqz-ggw.js","assets/Reports-BPbDq1pg.js","assets/Users-PjqrQWuZ.js","assets/shield-Cl_JbyMQ.js","assets/Settings-Ddh59aqh.js","assets/AccountSettings-BcjGy0Os.js","assets/WorkflowSummary-D3F2xho1.js"])))=>i.map(i=>d[i]);
var Og=Object.defineProperty;var Ig=(t,e,r)=>e in t?Og(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var vo=(t,e,r)=>Ig(t,typeof e!="symbol"?e+"":e,r);function Td(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Ag(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ng(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Od={exports:{}},qi={},Id={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),Mg=Symbol.for("react.portal"),Lg=Symbol.for("react.fragment"),Dg=Symbol.for("react.strict_mode"),Ug=Symbol.for("react.profiler"),$g=Symbol.for("react.provider"),zg=Symbol.for("react.context"),Bg=Symbol.for("react.forward_ref"),Fg=Symbol.for("react.suspense"),Wg=Symbol.for("react.memo"),Vg=Symbol.for("react.lazy"),Ou=Symbol.iterator;function qg(t){return t===null||typeof t!="object"?null:(t=Ou&&t[Ou]||t["@@iterator"],typeof t=="function"?t:null)}var Ad={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,Md={};function pn(t,e,r){this.props=t,this.context=e,this.refs=Md,this.updater=r||Ad}pn.prototype.isReactComponent={};pn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ld(){}Ld.prototype=pn.prototype;function _l(t,e,r){this.props=t,this.context=e,this.refs=Md,this.updater=r||Ad}var xl=_l.prototype=new Ld;xl.constructor=_l;Nd(xl,pn.prototype);xl.isPureReactComponent=!0;var Iu=Array.isArray,Dd=Object.prototype.hasOwnProperty,Sl={current:null},Ud={key:!0,ref:!0,__self:!0,__source:!0};function $d(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Dd.call(e,n)&&!Ud.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ws,type:t,key:i,ref:o,props:s,_owner:Sl.current}}function Hg(t,e){return{$$typeof:ws,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bl(t){return typeof t=="object"&&t!==null&&t.$$typeof===ws}function Kg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Au=/\/+/g;function wo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kg(""+t.key):e.toString(36)}function ei(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ws:case Mg:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+wo(o,0):n,Iu(s)?(r="",t!=null&&(r=t.replace(Au,"$&/")+"/"),ei(s,e,r,"",function(u){return u})):s!=null&&(bl(s)&&(s=Hg(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Au,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Iu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+wo(i,a);o+=ei(i,e,r,l,s)}else if(l=qg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+wo(i,a++),o+=ei(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function js(t,e,r){if(t==null)return t;var n=[],s=0;return ei(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Gg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ae={current:null},ti={transition:null},Jg={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ti,ReactCurrentOwner:Sl};function zd(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:js,forEach:function(t,e,r){js(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return js(t,function(){e++}),e},toArray:function(t){return js(t,function(e){return e})||[]},only:function(t){if(!bl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=pn;H.Fragment=Lg;H.Profiler=Ug;H.PureComponent=_l;H.StrictMode=Dg;H.Suspense=Fg;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jg;H.act=zd;H.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Nd({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Sl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Dd.call(e,l)&&!Ud.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ws,type:t.type,key:s,ref:i,props:n,_owner:o}};H.createContext=function(t){return t={$$typeof:zg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$g,_context:t},t.Consumer=t};H.createElement=$d;H.createFactory=function(t){var e=$d.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:Bg,render:t}};H.isValidElement=bl;H.lazy=function(t){return{$$typeof:Vg,_payload:{_status:-1,_result:t},_init:Gg}};H.memo=function(t,e){return{$$typeof:Wg,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=ti.transition;ti.transition={};try{t()}finally{ti.transition=e}};H.unstable_act=zd;H.useCallback=function(t,e){return Ae.current.useCallback(t,e)};H.useContext=function(t){return Ae.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Ae.current.useDeferredValue(t)};H.useEffect=function(t,e){return Ae.current.useEffect(t,e)};H.useId=function(){return Ae.current.useId()};H.useImperativeHandle=function(t,e,r){return Ae.current.useImperativeHandle(t,e,r)};H.useInsertionEffect=function(t,e){return Ae.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Ae.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Ae.current.useMemo(t,e)};H.useReducer=function(t,e,r){return Ae.current.useReducer(t,e,r)};H.useRef=function(t){return Ae.current.useRef(t)};H.useState=function(t){return Ae.current.useState(t)};H.useSyncExternalStore=function(t,e,r){return Ae.current.useSyncExternalStore(t,e,r)};H.useTransition=function(){return Ae.current.useTransition()};H.version="18.3.1";Id.exports=H;var x=Id.exports;const kl=Ag(x),Qg=Td({__proto__:null,default:kl},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg=x,Xg=Symbol.for("react.element"),Zg=Symbol.for("react.fragment"),em=Object.prototype.hasOwnProperty,tm=Yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rm={key:!0,ref:!0,__self:!0,__source:!0};function Bd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)em.call(e,n)&&!rm.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Xg,type:t,key:i,ref:o,props:s,_owner:tm.current}}qi.Fragment=Zg;qi.jsx=Bd;qi.jsxs=Bd;Od.exports=qi;var c=Od.exports,oa={},Fd={exports:{}},Ge={},Wd={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var F=O.length;O.push($);e:for(;0<F;){var Y=F-1>>>1,ie=O[Y];if(0<s(ie,$))O[Y]=$,O[F]=ie,F=Y;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],F=O.pop();if(F!==$){O[0]=F;e:for(var Y=0,ie=O.length,st=ie>>>1;Y<st;){var Qe=2*(Y+1)-1,ar=O[Qe],gt=Qe+1,Tr=O[gt];if(0>s(ar,F))gt<ie&&0>s(Tr,ar)?(O[Y]=Tr,O[gt]=F,Y=gt):(O[Y]=ar,O[Qe]=F,Y=Qe);else if(gt<ie&&0>s(Tr,F))O[Y]=Tr,O[gt]=F,Y=gt;else break e}}return $}function s(O,$){var F=O.sortIndex-$.sortIndex;return F!==0?F:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,w=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=O)n(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=r(u)}}function _(O){if(v=!1,y(O),!w)if(r(l)!==null)w=!0,A(k);else{var $=r(u);$!==null&&J(_,$.startTime-O)}}function k(O,$){w=!1,v&&(v=!1,g(j),j=-1),m=!0;var F=f;try{for(y($),h=r(l);h!==null&&(!(h.expirationTime>$)||O&&!D());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var ie=Y(h.expirationTime<=$);$=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===r(l)&&n(l),y($)}else n(l);h=r(l)}if(h!==null)var st=!0;else{var Qe=r(u);Qe!==null&&J(_,Qe.startTime-$),st=!1}return st}finally{h=null,f=F,m=!1}}var P=!1,C=null,j=-1,E=5,R=-1;function D(){return!(t.unstable_now()-R<E)}function L(){if(C!==null){var O=t.unstable_now();R=O;var $=!0;try{$=C(!0,O)}finally{$?I():(P=!1,C=null)}}else P=!1}var I;if(typeof p=="function")I=function(){p(L)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,se=K.port2;K.port1.onmessage=L,I=function(){se.postMessage(null)}}else I=function(){S(L,0)};function A(O){C=O,P||(P=!0,I())}function J(O,$){j=S(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,A(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var F=f;f=$;try{return O()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=f;f=O;try{return $()}finally{f=F}},t.unstable_scheduleCallback=function(O,$,F){var Y=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Y+F:Y):F=Y,O){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=F+ie,O={id:d++,callback:$,priorityLevel:O,startTime:F,expirationTime:ie,sortIndex:-1},F>Y?(O.sortIndex=F,e(u,O),r(l)===null&&O===r(u)&&(v?(g(j),j=-1):v=!0,J(_,F-Y))):(O.sortIndex=ie,e(l,O),w||m||(w=!0,A(k))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var $=f;return function(){var F=f;f=$;try{return O.apply(this,arguments)}finally{f=F}}}})(Vd);Wd.exports=Vd;var nm=Wd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=x,Ke=nm;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qd=new Set,Gn={};function Pr(t,e){on(t,e),on(t+"Capture",e)}function on(t,e){for(Gn[t]=e,t=0;t<e.length;t++)qd.add(e[t])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=Object.prototype.hasOwnProperty,im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nu={},Mu={};function om(t){return aa.call(Mu,t)?!0:aa.call(Nu,t)?!1:im.test(t)?Mu[t]=!0:(Nu[t]=!0,!1)}function am(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lm(t,e,r,n){if(e===null||typeof e>"u"||am(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ne(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new Ne(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new Ne(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new Ne(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new Ne(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new Ne(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new Ne(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new Ne(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new Ne(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new Ne(t,5,!1,t.toLowerCase(),null,!1,!1)});var El=/[\-:]([a-z])/g;function jl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(El,jl);Ee[e]=new Ne(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(El,jl);Ee[e]=new Ne(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(El,jl);Ee[e]=new Ne(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new Ne(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new Ne(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pl(t,e,r,n){var s=Ee.hasOwnProperty(e)?Ee[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lm(e,r,s,n)&&(r=null),n||s===null?om(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Nt=sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ps=Symbol.for("react.element"),zr=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),Cl=Symbol.for("react.strict_mode"),la=Symbol.for("react.profiler"),Hd=Symbol.for("react.provider"),Kd=Symbol.for("react.context"),Rl=Symbol.for("react.forward_ref"),ua=Symbol.for("react.suspense"),ca=Symbol.for("react.suspense_list"),Tl=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Gd=Symbol.for("react.offscreen"),Lu=Symbol.iterator;function bn(t){return t===null||typeof t!="object"?null:(t=Lu&&t[Lu]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,_o;function On(t){if(_o===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_o=e&&e[1]||""}return`
`+_o+t}var xo=!1;function So(t,e){if(!t||xo)return"";xo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?On(t):""}function um(t){switch(t.tag){case 5:return On(t.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 2:case 15:return t=So(t.type,!1),t;case 11:return t=So(t.type.render,!1),t;case 1:return t=So(t.type,!0),t;default:return""}}function da(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Br:return"Fragment";case zr:return"Portal";case la:return"Profiler";case Cl:return"StrictMode";case ua:return"Suspense";case ca:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kd:return(t.displayName||"Context")+".Consumer";case Hd:return(t._context.displayName||"Context")+".Provider";case Rl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tl:return e=t.displayName||null,e!==null?e:da(t.type)||"Memo";case Dt:e=t._payload,t=t._init;try{return da(t(e))}catch{}}return null}function cm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return da(e);case 8:return e===Cl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dm(t){var e=Jd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cs(t){t._valueTracker||(t._valueTracker=dm(t))}function Qd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Jd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ha(t,e){var r=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Du(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=er(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yd(t,e){e=e.checked,e!=null&&Pl(t,"checked",e,!1)}function fa(t,e){Yd(t,e);var r=er(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pa(t,e.type,r):e.hasOwnProperty("defaultValue")&&pa(t,e.type,er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function pa(t,e,r){(e!=="number"||fi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var In=Array.isArray;function Xr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+er(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ga(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $u(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(T(92));if(In(r)){if(1<r.length)throw Error(T(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:er(r)}}function Xd(t,e){var r=er(e.value),n=er(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function zu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ma(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rs,eh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rs=Rs||document.createElement("div"),Rs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hm=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(t){hm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dn[e]=Dn[t]})});function th(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Dn.hasOwnProperty(t)&&Dn[t]?(""+e).trim():e+"px"}function rh(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=th(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var fm=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(t,e){if(e){if(fm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function va(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=null;function Ol(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _a=null,Zr=null,en=null;function Bu(t){if(t=Ss(t)){if(typeof _a!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Qi(e),_a(t.stateNode,t.type,e))}}function nh(t){Zr?en?en.push(t):en=[t]:Zr=t}function sh(){if(Zr){var t=Zr,e=en;if(en=Zr=null,Bu(t),e)for(t=0;t<e.length;t++)Bu(e[t])}}function ih(t,e){return t(e)}function oh(){}var bo=!1;function ah(t,e,r){if(bo)return t(e,r);bo=!0;try{return ih(t,e,r)}finally{bo=!1,(Zr!==null||en!==null)&&(oh(),sh())}}function Qn(t,e){var r=t.stateNode;if(r===null)return null;var n=Qi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(T(231,e,typeof r));return r}var xa=!1;if(Tt)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){xa=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{xa=!1}function pm(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Un=!1,pi=null,gi=!1,Sa=null,gm={onError:function(t){Un=!0,pi=t}};function mm(t,e,r,n,s,i,o,a,l){Un=!1,pi=null,pm.apply(gm,arguments)}function ym(t,e,r,n,s,i,o,a,l){if(mm.apply(this,arguments),Un){if(Un){var u=pi;Un=!1,pi=null}else throw Error(T(198));gi||(gi=!0,Sa=u)}}function Cr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function lh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fu(t){if(Cr(t)!==t)throw Error(T(188))}function vm(t){var e=t.alternate;if(!e){if(e=Cr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Fu(s),t;if(i===n)return Fu(s),e;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?t:e}function uh(t){return t=vm(t),t!==null?ch(t):null}function ch(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ch(t);if(e!==null)return e;t=t.sibling}return null}var dh=Ke.unstable_scheduleCallback,Wu=Ke.unstable_cancelCallback,wm=Ke.unstable_shouldYield,_m=Ke.unstable_requestPaint,de=Ke.unstable_now,xm=Ke.unstable_getCurrentPriorityLevel,Il=Ke.unstable_ImmediatePriority,hh=Ke.unstable_UserBlockingPriority,mi=Ke.unstable_NormalPriority,Sm=Ke.unstable_LowPriority,fh=Ke.unstable_IdlePriority,Hi=null,_t=null;function bm(t){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Hi,t,void 0,(t.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:jm,km=Math.log,Em=Math.LN2;function jm(t){return t>>>=0,t===0?32:31-(km(t)/Em|0)|0}var Ts=64,Os=4194304;function An(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=An(a):(i&=o,i!==0&&(n=An(i)))}else o=r&~s,o!==0?n=An(o):i!==0&&(n=An(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ht(e),s=1<<r,n|=t[r],e&=~s;return n}function Pm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cm(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ht(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Pm(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ba(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ph(){var t=Ts;return Ts<<=1,!(Ts&4194240)&&(Ts=64),t}function ko(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function _s(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ht(e),t[e]=r}function Rm(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ht(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Al(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ht(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Q=0;function gh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mh,Nl,yh,vh,wh,ka=!1,Is=[],qt=null,Ht=null,Kt=null,Yn=new Map,Xn=new Map,$t=[],Tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vu(t,e){switch(t){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":Yn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xn.delete(e.pointerId)}}function En(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ss(e),e!==null&&Nl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Om(t,e,r,n,s){switch(e){case"focusin":return qt=En(qt,t,e,r,n,s),!0;case"dragenter":return Ht=En(Ht,t,e,r,n,s),!0;case"mouseover":return Kt=En(Kt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Yn.set(i,En(Yn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Xn.set(i,En(Xn.get(i)||null,t,e,r,n,s)),!0}return!1}function _h(t){var e=mr(t.target);if(e!==null){var r=Cr(e);if(r!==null){if(e=r.tag,e===13){if(e=lh(r),e!==null){t.blockedOn=e,wh(t.priority,function(){yh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ri(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ea(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wa=n,r.target.dispatchEvent(n),wa=null}else return e=Ss(r),e!==null&&Nl(e),t.blockedOn=r,!1;e.shift()}return!0}function qu(t,e,r){ri(t)&&r.delete(e)}function Im(){ka=!1,qt!==null&&ri(qt)&&(qt=null),Ht!==null&&ri(Ht)&&(Ht=null),Kt!==null&&ri(Kt)&&(Kt=null),Yn.forEach(qu),Xn.forEach(qu)}function jn(t,e){t.blockedOn===e&&(t.blockedOn=null,ka||(ka=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,Im)))}function Zn(t){function e(s){return jn(s,t)}if(0<Is.length){jn(Is[0],t);for(var r=1;r<Is.length;r++){var n=Is[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qt!==null&&jn(qt,t),Ht!==null&&jn(Ht,t),Kt!==null&&jn(Kt,t),Yn.forEach(e),Xn.forEach(e),r=0;r<$t.length;r++)n=$t[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<$t.length&&(r=$t[0],r.blockedOn===null);)_h(r),r.blockedOn===null&&$t.shift()}var tn=Nt.ReactCurrentBatchConfig,vi=!0;function Am(t,e,r,n){var s=Q,i=tn.transition;tn.transition=null;try{Q=1,Ml(t,e,r,n)}finally{Q=s,tn.transition=i}}function Nm(t,e,r,n){var s=Q,i=tn.transition;tn.transition=null;try{Q=4,Ml(t,e,r,n)}finally{Q=s,tn.transition=i}}function Ml(t,e,r,n){if(vi){var s=Ea(t,e,r,n);if(s===null)No(t,e,n,wi,r),Vu(t,n);else if(Om(s,t,e,r,n))n.stopPropagation();else if(Vu(t,n),e&4&&-1<Tm.indexOf(t)){for(;s!==null;){var i=Ss(s);if(i!==null&&mh(i),i=Ea(t,e,r,n),i===null&&No(t,e,n,wi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else No(t,e,n,null,r)}}var wi=null;function Ea(t,e,r,n){if(wi=null,t=Ol(n),t=mr(t),t!==null)if(e=Cr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=lh(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wi=t,null}function xh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xm()){case Il:return 1;case hh:return 4;case mi:case Sm:return 16;case fh:return 536870912;default:return 16}default:return 16}}var Ft=null,Ll=null,ni=null;function Sh(){if(ni)return ni;var t,e=Ll,r=e.length,n,s="value"in Ft?Ft.value:Ft.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return ni=s.slice(t,1<n?1-n:void 0)}function si(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function As(){return!0}function Hu(){return!1}function Je(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?As:Hu,this.isPropagationStopped=Hu,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),e}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=Je(gn),xs=ue({},gn,{view:0,detail:0}),Mm=Je(xs),Eo,jo,Pn,Ki=ue({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pn&&(Pn&&t.type==="mousemove"?(Eo=t.screenX-Pn.screenX,jo=t.screenY-Pn.screenY):jo=Eo=0,Pn=t),Eo)},movementY:function(t){return"movementY"in t?t.movementY:jo}}),Ku=Je(Ki),Lm=ue({},Ki,{dataTransfer:0}),Dm=Je(Lm),Um=ue({},xs,{relatedTarget:0}),Po=Je(Um),$m=ue({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),zm=Je($m),Bm=ue({},gn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fm=Je(Bm),Wm=ue({},gn,{data:0}),Gu=Je(Wm),Vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hm[t])?!!e[t]:!1}function Ul(){return Km}var Gm=ue({},xs,{key:function(t){if(t.key){var e=Vm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jm=Je(Gm),Qm=ue({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ju=Je(Qm),Ym=ue({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),Xm=Je(Ym),Zm=ue({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ey=Je(Zm),ty=ue({},Ki,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ry=Je(ty),ny=[9,13,27,32],$l=Tt&&"CompositionEvent"in window,$n=null;Tt&&"documentMode"in document&&($n=document.documentMode);var sy=Tt&&"TextEvent"in window&&!$n,bh=Tt&&(!$l||$n&&8<$n&&11>=$n),Qu=" ",Yu=!1;function kh(t,e){switch(t){case"keyup":return ny.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fr=!1;function iy(t,e){switch(t){case"compositionend":return Eh(e);case"keypress":return e.which!==32?null:(Yu=!0,Qu);case"textInput":return t=e.data,t===Qu&&Yu?null:t;default:return null}}function oy(t,e){if(Fr)return t==="compositionend"||!$l&&kh(t,e)?(t=Sh(),ni=Ll=Ft=null,Fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bh&&e.locale!=="ko"?null:e.data;default:return null}}var ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ay[t.type]:e==="textarea"}function jh(t,e,r,n){nh(n),e=_i(e,"onChange"),0<e.length&&(r=new Dl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var zn=null,es=null;function ly(t){Dh(t,0)}function Gi(t){var e=qr(t);if(Qd(e))return t}function uy(t,e){if(t==="change")return e}var Ph=!1;if(Tt){var Co;if(Tt){var Ro="oninput"in document;if(!Ro){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),Ro=typeof Zu.oninput=="function"}Co=Ro}else Co=!1;Ph=Co&&(!document.documentMode||9<document.documentMode)}function ec(){zn&&(zn.detachEvent("onpropertychange",Ch),es=zn=null)}function Ch(t){if(t.propertyName==="value"&&Gi(es)){var e=[];jh(e,es,t,Ol(t)),ah(ly,e)}}function cy(t,e,r){t==="focusin"?(ec(),zn=e,es=r,zn.attachEvent("onpropertychange",Ch)):t==="focusout"&&ec()}function dy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gi(es)}function hy(t,e){if(t==="click")return Gi(e)}function fy(t,e){if(t==="input"||t==="change")return Gi(e)}function py(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pt=typeof Object.is=="function"?Object.is:py;function ts(t,e){if(pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!aa.call(e,s)||!pt(t[s],e[s]))return!1}return!0}function tc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rc(t,e){var r=tc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tc(r)}}function Rh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Th(){for(var t=window,e=fi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=fi(t.document)}return e}function zl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gy(t){var e=Th(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Rh(r.ownerDocument.documentElement,r)){if(n!==null&&zl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=rc(r,i);var o=rc(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var my=Tt&&"documentMode"in document&&11>=document.documentMode,Wr=null,ja=null,Bn=null,Pa=!1;function nc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Pa||Wr==null||Wr!==fi(n)||(n=Wr,"selectionStart"in n&&zl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bn&&ts(Bn,n)||(Bn=n,n=_i(ja,"onSelect"),0<n.length&&(e=new Dl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wr)))}function Ns(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Vr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},To={},Oh={};Tt&&(Oh=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Ji(t){if(To[t])return To[t];if(!Vr[t])return t;var e=Vr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Oh)return To[t]=e[r];return t}var Ih=Ji("animationend"),Ah=Ji("animationiteration"),Nh=Ji("animationstart"),Mh=Ji("transitionend"),Lh=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(t,e){Lh.set(t,e),Pr(e,[t])}for(var Oo=0;Oo<sc.length;Oo++){var Io=sc[Oo],yy=Io.toLowerCase(),vy=Io[0].toUpperCase()+Io.slice(1);rr(yy,"on"+vy)}rr(Ih,"onAnimationEnd");rr(Ah,"onAnimationIteration");rr(Nh,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(Mh,"onTransitionEnd");on("onMouseEnter",["mouseout","mouseover"]);on("onMouseLeave",["mouseout","mouseover"]);on("onPointerEnter",["pointerout","pointerover"]);on("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function ic(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ym(n,e,void 0,t),t.currentTarget=null}function Dh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ic(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ic(s,a,u),i=l}}}if(gi)throw t=Sa,gi=!1,Sa=null,t}function ee(t,e){var r=e[Ia];r===void 0&&(r=e[Ia]=new Set);var n=t+"__bubble";r.has(n)||(Uh(e,t,2,!1),r.add(n))}function Ao(t,e,r){var n=0;e&&(n|=4),Uh(r,t,n,e)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function rs(t){if(!t[Ms]){t[Ms]=!0,qd.forEach(function(r){r!=="selectionchange"&&(wy.has(r)||Ao(r,!1,t),Ao(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ms]||(e[Ms]=!0,Ao("selectionchange",!1,e))}}function Uh(t,e,r,n){switch(xh(e)){case 1:var s=Am;break;case 4:s=Nm;break;default:s=Ml}r=s.bind(null,e,r,t),s=void 0,!xa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function No(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=mr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}ah(function(){var u=i,d=Ol(r),h=[];e:{var f=Lh.get(t);if(f!==void 0){var m=Dl,w=t;switch(t){case"keypress":if(si(r)===0)break e;case"keydown":case"keyup":m=Jm;break;case"focusin":w="focus",m=Po;break;case"focusout":w="blur",m=Po;break;case"beforeblur":case"afterblur":m=Po;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Xm;break;case Ih:case Ah:case Nh:m=zm;break;case Mh:m=ey;break;case"scroll":m=Mm;break;case"wheel":m=ry;break;case"copy":case"cut":case"paste":m=Fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ju}var v=(e&4)!==0,S=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,y;p!==null;){y=p;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=Qn(p,g),_!=null&&v.push(ns(p,_,y)))),S)break;p=p.return}0<v.length&&(f=new m(f,w,null,r,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==wa&&(w=r.relatedTarget||r.fromElement)&&(mr(w)||w[Ot]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=u,w=w?mr(w):null,w!==null&&(S=Cr(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=Ku,_="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ju,_="onPointerLeave",g="onPointerEnter",p="pointer"),S=m==null?f:qr(m),y=w==null?f:qr(w),f=new v(_,p+"leave",m,r,d),f.target=S,f.relatedTarget=y,_=null,mr(d)===u&&(v=new v(g,p+"enter",w,r,d),v.target=y,v.relatedTarget=S,_=v),S=_,m&&w)t:{for(v=m,g=w,p=0,y=v;y;y=Or(y))p++;for(y=0,_=g;_;_=Or(_))y++;for(;0<p-y;)v=Or(v),p--;for(;0<y-p;)g=Or(g),y--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=Or(v),g=Or(g)}v=null}else v=null;m!==null&&oc(h,f,m,v,!1),w!==null&&S!==null&&oc(h,S,w,v,!0)}}e:{if(f=u?qr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=uy;else if(Xu(f))if(Ph)k=fy;else{k=dy;var P=cy}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=hy);if(k&&(k=k(t,u))){jh(h,k,r,d);break e}P&&P(t,f,u),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&pa(f,"number",f.value)}switch(P=u?qr(u):window,t){case"focusin":(Xu(P)||P.contentEditable==="true")&&(Wr=P,ja=u,Bn=null);break;case"focusout":Bn=ja=Wr=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,nc(h,r,d);break;case"selectionchange":if(my)break;case"keydown":case"keyup":nc(h,r,d)}var C;if($l)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Fr?kh(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(bh&&r.locale!=="ko"&&(Fr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Fr&&(C=Sh()):(Ft=d,Ll="value"in Ft?Ft.value:Ft.textContent,Fr=!0)),P=_i(u,j),0<P.length&&(j=new Gu(j,t,null,r,d),h.push({event:j,listeners:P}),C?j.data=C:(C=Eh(r),C!==null&&(j.data=C)))),(C=sy?iy(t,r):oy(t,r))&&(u=_i(u,"onBeforeInput"),0<u.length&&(d=new Gu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=C))}Dh(h,e)})}function ns(t,e,r){return{instance:t,listener:e,currentTarget:r}}function _i(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qn(t,r),i!=null&&n.unshift(ns(t,i,s)),i=Qn(t,e),i!=null&&n.push(ns(t,i,s))),t=t.return}return n}function Or(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oc(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Qn(r,i),l!=null&&o.unshift(ns(r,l,a))):s||(l=Qn(r,i),l!=null&&o.push(ns(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var _y=/\r\n?/g,xy=/\u0000|\uFFFD/g;function ac(t){return(typeof t=="string"?t:""+t).replace(_y,`
`).replace(xy,"")}function Ls(t,e,r){if(e=ac(e),ac(t)!==e&&r)throw Error(T(425))}function xi(){}var Ca=null,Ra=null;function Ta(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oa=typeof setTimeout=="function"?setTimeout:void 0,Sy=typeof clearTimeout=="function"?clearTimeout:void 0,lc=typeof Promise=="function"?Promise:void 0,by=typeof queueMicrotask=="function"?queueMicrotask:typeof lc<"u"?function(t){return lc.resolve(null).then(t).catch(ky)}:Oa;function ky(t){setTimeout(function(){throw t})}function Mo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Zn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Zn(e)}function Gt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var mn=Math.random().toString(36).slice(2),wt="__reactFiber$"+mn,ss="__reactProps$"+mn,Ot="__reactContainer$"+mn,Ia="__reactEvents$"+mn,Ey="__reactListeners$"+mn,jy="__reactHandles$"+mn;function mr(t){var e=t[wt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ot]||r[wt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=uc(t);t!==null;){if(r=t[wt])return r;t=uc(t)}return e}t=r,r=t.parentNode}return null}function Ss(t){return t=t[wt]||t[Ot],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Qi(t){return t[ss]||null}var Aa=[],Hr=-1;function nr(t){return{current:t}}function re(t){0>Hr||(t.current=Aa[Hr],Aa[Hr]=null,Hr--)}function Z(t,e){Hr++,Aa[Hr]=t.current,t.current=e}var tr={},Re=nr(tr),De=nr(!1),Sr=tr;function an(t,e){var r=t.type.contextTypes;if(!r)return tr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(t){return t=t.childContextTypes,t!=null}function Si(){re(De),re(Re)}function cc(t,e,r){if(Re.current!==tr)throw Error(T(168));Z(Re,e),Z(De,r)}function $h(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(T(108,cm(t)||"Unknown",s));return ue({},r,n)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tr,Sr=Re.current,Z(Re,t),Z(De,De.current),!0}function dc(t,e,r){var n=t.stateNode;if(!n)throw Error(T(169));r?(t=$h(t,e,Sr),n.__reactInternalMemoizedMergedChildContext=t,re(De),re(Re),Z(Re,t)):re(De),Z(De,r)}var jt=null,Yi=!1,Lo=!1;function zh(t){jt===null?jt=[t]:jt.push(t)}function Py(t){Yi=!0,zh(t)}function sr(){if(!Lo&&jt!==null){Lo=!0;var t=0,e=Q;try{var r=jt;for(Q=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}jt=null,Yi=!1}catch(s){throw jt!==null&&(jt=jt.slice(t+1)),dh(Il,sr),s}finally{Q=e,Lo=!1}}return null}var Kr=[],Gr=0,ki=null,Ei=0,Ye=[],Xe=0,br=null,Pt=1,Ct="";function cr(t,e){Kr[Gr++]=Ei,Kr[Gr++]=ki,ki=t,Ei=e}function Bh(t,e,r){Ye[Xe++]=Pt,Ye[Xe++]=Ct,Ye[Xe++]=br,br=t;var n=Pt;t=Ct;var s=32-ht(n)-1;n&=~(1<<s),r+=1;var i=32-ht(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Pt=1<<32-ht(e)+s|r<<s|n,Ct=i+t}else Pt=1<<i|r<<s|n,Ct=t}function Bl(t){t.return!==null&&(cr(t,1),Bh(t,1,0))}function Fl(t){for(;t===ki;)ki=Kr[--Gr],Kr[Gr]=null,Ei=Kr[--Gr],Kr[Gr]=null;for(;t===br;)br=Ye[--Xe],Ye[Xe]=null,Ct=Ye[--Xe],Ye[Xe]=null,Pt=Ye[--Xe],Ye[Xe]=null}var He=null,qe=null,ne=!1,dt=null;function Fh(t,e){var r=et(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function hc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,He=t,qe=Gt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,He=t,qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=br!==null?{id:Pt,overflow:Ct}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=et(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,He=t,qe=null,!0):!1;default:return!1}}function Na(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ma(t){if(ne){var e=qe;if(e){var r=e;if(!hc(t,e)){if(Na(t))throw Error(T(418));e=Gt(r.nextSibling);var n=He;e&&hc(t,e)?Fh(n,r):(t.flags=t.flags&-4097|2,ne=!1,He=t)}}else{if(Na(t))throw Error(T(418));t.flags=t.flags&-4097|2,ne=!1,He=t}}}function fc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;He=t}function Ds(t){if(t!==He)return!1;if(!ne)return fc(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ta(t.type,t.memoizedProps)),e&&(e=qe)){if(Na(t))throw Wh(),Error(T(418));for(;e;)Fh(t,e),e=Gt(e.nextSibling)}if(fc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){qe=Gt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}qe=null}}else qe=He?Gt(t.stateNode.nextSibling):null;return!0}function Wh(){for(var t=qe;t;)t=Gt(t.nextSibling)}function ln(){qe=He=null,ne=!1}function Wl(t){dt===null?dt=[t]:dt.push(t)}var Cy=Nt.ReactCurrentBatchConfig;function Cn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,t))}return t}function Us(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pc(t){var e=t._init;return e(t._payload)}function Vh(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Xt(g,p),g.index=0,g.sibling=null,g}function i(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,_){return p===null||p.tag!==6?(p=Wo(y,g.mode,_),p.return=g,p):(p=s(p,y),p.return=g,p)}function l(g,p,y,_){var k=y.type;return k===Br?d(g,p,y.props.children,_,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dt&&pc(k)===p.type)?(_=s(p,y.props),_.ref=Cn(g,p,y),_.return=g,_):(_=di(y.type,y.key,y.props,null,g.mode,_),_.ref=Cn(g,p,y),_.return=g,_)}function u(g,p,y,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Vo(y,g.mode,_),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function d(g,p,y,_,k){return p===null||p.tag!==7?(p=xr(y,g.mode,_,k),p.return=g,p):(p=s(p,y),p.return=g,p)}function h(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Wo(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ps:return y=di(p.type,p.key,p.props,null,g.mode,y),y.ref=Cn(g,null,p),y.return=g,y;case zr:return p=Vo(p,g.mode,y),p.return=g,p;case Dt:var _=p._init;return h(g,_(p._payload),y)}if(In(p)||bn(p))return p=xr(p,g.mode,y,null),p.return=g,p;Us(g,p)}return null}function f(g,p,y,_){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(g,p,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ps:return y.key===k?l(g,p,y,_):null;case zr:return y.key===k?u(g,p,y,_):null;case Dt:return k=y._init,f(g,p,k(y._payload),_)}if(In(y)||bn(y))return k!==null?null:d(g,p,y,_,null);Us(g,y)}return null}function m(g,p,y,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,a(p,g,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ps:return g=g.get(_.key===null?y:_.key)||null,l(p,g,_,k);case zr:return g=g.get(_.key===null?y:_.key)||null,u(p,g,_,k);case Dt:var P=_._init;return m(g,p,y,P(_._payload),k)}if(In(_)||bn(_))return g=g.get(y)||null,d(p,g,_,k,null);Us(p,_)}return null}function w(g,p,y,_){for(var k=null,P=null,C=p,j=p=0,E=null;C!==null&&j<y.length;j++){C.index>j?(E=C,C=null):E=C.sibling;var R=f(g,C,y[j],_);if(R===null){C===null&&(C=E);break}t&&C&&R.alternate===null&&e(g,C),p=i(R,p,j),P===null?k=R:P.sibling=R,P=R,C=E}if(j===y.length)return r(g,C),ne&&cr(g,j),k;if(C===null){for(;j<y.length;j++)C=h(g,y[j],_),C!==null&&(p=i(C,p,j),P===null?k=C:P.sibling=C,P=C);return ne&&cr(g,j),k}for(C=n(g,C);j<y.length;j++)E=m(C,g,j,y[j],_),E!==null&&(t&&E.alternate!==null&&C.delete(E.key===null?j:E.key),p=i(E,p,j),P===null?k=E:P.sibling=E,P=E);return t&&C.forEach(function(D){return e(g,D)}),ne&&cr(g,j),k}function v(g,p,y,_){var k=bn(y);if(typeof k!="function")throw Error(T(150));if(y=k.call(y),y==null)throw Error(T(151));for(var P=k=null,C=p,j=p=0,E=null,R=y.next();C!==null&&!R.done;j++,R=y.next()){C.index>j?(E=C,C=null):E=C.sibling;var D=f(g,C,R.value,_);if(D===null){C===null&&(C=E);break}t&&C&&D.alternate===null&&e(g,C),p=i(D,p,j),P===null?k=D:P.sibling=D,P=D,C=E}if(R.done)return r(g,C),ne&&cr(g,j),k;if(C===null){for(;!R.done;j++,R=y.next())R=h(g,R.value,_),R!==null&&(p=i(R,p,j),P===null?k=R:P.sibling=R,P=R);return ne&&cr(g,j),k}for(C=n(g,C);!R.done;j++,R=y.next())R=m(C,g,j,R.value,_),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?j:R.key),p=i(R,p,j),P===null?k=R:P.sibling=R,P=R);return t&&C.forEach(function(L){return e(g,L)}),ne&&cr(g,j),k}function S(g,p,y,_){if(typeof y=="object"&&y!==null&&y.type===Br&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ps:e:{for(var k=y.key,P=p;P!==null;){if(P.key===k){if(k=y.type,k===Br){if(P.tag===7){r(g,P.sibling),p=s(P,y.props.children),p.return=g,g=p;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dt&&pc(k)===P.type){r(g,P.sibling),p=s(P,y.props),p.ref=Cn(g,P,y),p.return=g,g=p;break e}r(g,P);break}else e(g,P);P=P.sibling}y.type===Br?(p=xr(y.props.children,g.mode,_,y.key),p.return=g,g=p):(_=di(y.type,y.key,y.props,null,g.mode,_),_.ref=Cn(g,p,y),_.return=g,g=_)}return o(g);case zr:e:{for(P=y.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=Vo(y,g.mode,_),p.return=g,g=p}return o(g);case Dt:return P=y._init,S(g,p,P(y._payload),_)}if(In(y))return w(g,p,y,_);if(bn(y))return v(g,p,y,_);Us(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,y),p.return=g,g=p):(r(g,p),p=Wo(y,g.mode,_),p.return=g,g=p),o(g)):r(g,p)}return S}var un=Vh(!0),qh=Vh(!1),ji=nr(null),Pi=null,Jr=null,Vl=null;function ql(){Vl=Jr=Pi=null}function Hl(t){var e=ji.current;re(ji),t._currentValue=e}function La(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function rn(t,e){Pi=t,Vl=Jr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function rt(t){var e=t._currentValue;if(Vl!==t)if(t={context:t,memoizedValue:e,next:null},Jr===null){if(Pi===null)throw Error(T(308));Jr=t,Pi.dependencies={lanes:0,firstContext:t}}else Jr=Jr.next=t;return e}var yr=null;function Kl(t){yr===null?yr=[t]:yr.push(t)}function Hh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Kl(e)):(r.next=s.next,s.next=r),e.interleaved=r,It(t,n)}function It(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ut=!1;function Gl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,It(t,r)}return s=n.interleaved,s===null?(e.next=e,Kl(n)):(e.next=s.next,s.next=e),n.interleaved=e,It(t,r)}function ii(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Al(t,r)}}function gc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ci(t,e,r,n){var s=t.updateQueue;Ut=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(f=e,m=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=ue({},h,f);break e;case 2:Ut=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Er|=o,t.lanes=o,t.memoizedState=h}}function mc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var bs={},xt=nr(bs),is=nr(bs),os=nr(bs);function vr(t){if(t===bs)throw Error(T(174));return t}function Jl(t,e){switch(Z(os,e),Z(is,t),Z(xt,bs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ma(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ma(e,t)}re(xt),Z(xt,e)}function cn(){re(xt),re(is),re(os)}function Gh(t){vr(os.current);var e=vr(xt.current),r=ma(e,t.type);e!==r&&(Z(is,t),Z(xt,r))}function Ql(t){is.current===t&&(re(xt),re(is))}var ae=nr(0);function Ri(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Do=[];function Yl(){for(var t=0;t<Do.length;t++)Do[t]._workInProgressVersionPrimary=null;Do.length=0}var oi=Nt.ReactCurrentDispatcher,Uo=Nt.ReactCurrentBatchConfig,kr=0,le=null,ve=null,_e=null,Ti=!1,Fn=!1,as=0,Ry=0;function je(){throw Error(T(321))}function Xl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!pt(t[r],e[r]))return!1;return!0}function Zl(t,e,r,n,s,i){if(kr=i,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oi.current=t===null||t.memoizedState===null?Ay:Ny,t=r(n,s),Fn){i=0;do{if(Fn=!1,as=0,25<=i)throw Error(T(301));i+=1,_e=ve=null,e.updateQueue=null,oi.current=My,t=r(n,s)}while(Fn)}if(oi.current=Oi,e=ve!==null&&ve.next!==null,kr=0,_e=ve=le=null,Ti=!1,e)throw Error(T(300));return t}function eu(){var t=as!==0;return as=0,t}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?le.memoizedState=_e=t:_e=_e.next=t,_e}function nt(){if(ve===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var e=_e===null?le.memoizedState:_e.next;if(e!==null)_e=e,ve=t;else{if(t===null)throw Error(T(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},_e===null?le.memoizedState=_e=t:_e=_e.next=t}return _e}function ls(t,e){return typeof e=="function"?e(t):e}function $o(t){var e=nt(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=ve,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((kr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,le.lanes|=d,Er|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,pt(n,e.memoizedState)||(Le=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,le.lanes|=i,Er|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function zo(t){var e=nt(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);pt(i,e.memoizedState)||(Le=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Jh(){}function Qh(t,e){var r=le,n=nt(),s=e(),i=!pt(n.memoizedState,s);if(i&&(n.memoizedState=s,Le=!0),n=n.queue,tu(Zh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||_e!==null&&_e.memoizedState.tag&1){if(r.flags|=2048,us(9,Xh.bind(null,r,n,s,e),void 0,null),xe===null)throw Error(T(349));kr&30||Yh(r,e,s)}return s}function Yh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Xh(t,e,r,n){e.value=r,e.getSnapshot=n,ef(e)&&tf(t)}function Zh(t,e,r){return r(function(){ef(e)&&tf(t)})}function ef(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pt(t,r)}catch{return!0}}function tf(t){var e=It(t,1);e!==null&&ft(e,t,1,-1)}function yc(t){var e=yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},e.queue=t,t=t.dispatch=Iy.bind(null,le,t),[e.memoizedState,t]}function us(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function rf(){return nt().memoizedState}function ai(t,e,r,n){var s=yt();le.flags|=t,s.memoizedState=us(1|e,r,void 0,n===void 0?null:n)}function Xi(t,e,r,n){var s=nt();n=n===void 0?null:n;var i=void 0;if(ve!==null){var o=ve.memoizedState;if(i=o.destroy,n!==null&&Xl(n,o.deps)){s.memoizedState=us(e,r,i,n);return}}le.flags|=t,s.memoizedState=us(1|e,r,i,n)}function vc(t,e){return ai(8390656,8,t,e)}function tu(t,e){return Xi(2048,8,t,e)}function nf(t,e){return Xi(4,2,t,e)}function sf(t,e){return Xi(4,4,t,e)}function of(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function af(t,e,r){return r=r!=null?r.concat([t]):null,Xi(4,4,of.bind(null,e,t),r)}function ru(){}function lf(t,e){var r=nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function uf(t,e){var r=nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function cf(t,e,r){return kr&21?(pt(r,e)||(r=ph(),le.lanes|=r,Er|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=r)}function Ty(t,e){var r=Q;Q=r!==0&&4>r?r:4,t(!0);var n=Uo.transition;Uo.transition={};try{t(!1),e()}finally{Q=r,Uo.transition=n}}function df(){return nt().memoizedState}function Oy(t,e,r){var n=Yt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hf(t))ff(e,r);else if(r=Hh(t,e,r,n),r!==null){var s=Ie();ft(r,t,n,s),pf(r,e,n)}}function Iy(t,e,r){var n=Yt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hf(t))ff(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,pt(a,o)){var l=e.interleaved;l===null?(s.next=s,Kl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Hh(t,e,s,n),r!==null&&(s=Ie(),ft(r,t,n,s),pf(r,e,n))}}function hf(t){var e=t.alternate;return t===le||e!==null&&e===le}function ff(t,e){Fn=Ti=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function pf(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Al(t,r)}}var Oi={readContext:rt,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},Ay={readContext:rt,useCallback:function(t,e){return yt().memoizedState=[t,e===void 0?null:e],t},useContext:rt,useEffect:vc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ai(4194308,4,of.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ai(4194308,4,t,e)},useInsertionEffect:function(t,e){return ai(4,2,t,e)},useMemo:function(t,e){var r=yt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=yt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Oy.bind(null,le,t),[n.memoizedState,t]},useRef:function(t){var e=yt();return t={current:t},e.memoizedState=t},useState:yc,useDebugValue:ru,useDeferredValue:function(t){return yt().memoizedState=t},useTransition:function(){var t=yc(!1),e=t[0];return t=Ty.bind(null,t[1]),yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=le,s=yt();if(ne){if(r===void 0)throw Error(T(407));r=r()}else{if(r=e(),xe===null)throw Error(T(349));kr&30||Yh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,vc(Zh.bind(null,n,i,t),[t]),n.flags|=2048,us(9,Xh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=yt(),e=xe.identifierPrefix;if(ne){var r=Ct,n=Pt;r=(n&~(1<<32-ht(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=as++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ry++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ny={readContext:rt,useCallback:lf,useContext:rt,useEffect:tu,useImperativeHandle:af,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:uf,useReducer:$o,useRef:rf,useState:function(){return $o(ls)},useDebugValue:ru,useDeferredValue:function(t){var e=nt();return cf(e,ve.memoizedState,t)},useTransition:function(){var t=$o(ls)[0],e=nt().memoizedState;return[t,e]},useMutableSource:Jh,useSyncExternalStore:Qh,useId:df,unstable_isNewReconciler:!1},My={readContext:rt,useCallback:lf,useContext:rt,useEffect:tu,useImperativeHandle:af,useInsertionEffect:nf,useLayoutEffect:sf,useMemo:uf,useReducer:zo,useRef:rf,useState:function(){return zo(ls)},useDebugValue:ru,useDeferredValue:function(t){var e=nt();return ve===null?e.memoizedState=t:cf(e,ve.memoizedState,t)},useTransition:function(){var t=zo(ls)[0],e=nt().memoizedState;return[t,e]},useMutableSource:Jh,useSyncExternalStore:Qh,useId:df,unstable_isNewReconciler:!1};function at(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Da(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ue({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Zi={isMounted:function(t){return(t=t._reactInternals)?Cr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ie(),s=Yt(t),i=Rt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Jt(t,i,s),e!==null&&(ft(e,t,s,n),ii(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ie(),s=Yt(t),i=Rt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Jt(t,i,s),e!==null&&(ft(e,t,s,n),ii(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ie(),n=Yt(t),s=Rt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Jt(t,s,n),e!==null&&(ft(e,t,n,r),ii(e,t,n))}};function wc(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ts(r,n)||!ts(s,i):!0}function gf(t,e,r){var n=!1,s=tr,i=e.contextType;return typeof i=="object"&&i!==null?i=rt(i):(s=Ue(e)?Sr:Re.current,n=e.contextTypes,i=(n=n!=null)?an(t,s):tr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function _c(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Zi.enqueueReplaceState(e,e.state,null)}function Ua(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Gl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=rt(i):(i=Ue(e)?Sr:Re.current,s.context=an(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Da(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Zi.enqueueReplaceState(s,s.state,null),Ci(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function dn(t,e){try{var r="",n=e;do r+=um(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Bo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function $a(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ly=typeof WeakMap=="function"?WeakMap:Map;function mf(t,e,r){r=Rt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ai||(Ai=!0,Ja=n),$a(t,e)},r}function yf(t,e,r){r=Rt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){$a(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$a(t,e),typeof n!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function xc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Ly;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Qy.bind(null,t,e,r),e.then(t,t))}function Sc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Rt(-1,1),e.tag=2,Jt(r,e,1))),r.lanes|=1),t)}var Dy=Nt.ReactCurrentOwner,Le=!1;function Te(t,e,r,n){e.child=t===null?qh(e,null,r,n):un(e,t.child,r,n)}function kc(t,e,r,n,s){r=r.render;var i=e.ref;return rn(e,s),n=Zl(t,e,r,n,i,s),r=eu(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,At(t,e,s)):(ne&&r&&Bl(e),e.flags|=1,Te(t,e,n,s),e.child)}function Ec(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!cu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,vf(t,e,i,n,s)):(t=di(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ts,r(o,n)&&t.ref===e.ref)return At(t,e,s)}return e.flags|=1,t=Xt(i,n),t.ref=e.ref,t.return=e,e.child=t}function vf(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ts(i,n)&&t.ref===e.ref)if(Le=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,At(t,e,s)}return za(t,e,r,n,s)}function wf(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Yr,Fe),Fe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Yr,Fe),Fe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(Yr,Fe),Fe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Z(Yr,Fe),Fe|=n;return Te(t,e,s,r),e.child}function _f(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function za(t,e,r,n,s){var i=Ue(r)?Sr:Re.current;return i=an(e,i),rn(e,s),r=Zl(t,e,r,n,i,s),n=eu(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,At(t,e,s)):(ne&&n&&Bl(e),e.flags|=1,Te(t,e,r,s),e.child)}function jc(t,e,r,n,s){if(Ue(r)){var i=!0;bi(e)}else i=!1;if(rn(e,s),e.stateNode===null)li(t,e),gf(e,r,n),Ua(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=Ue(r)?Sr:Re.current,u=an(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&_c(e,o,n,u),Ut=!1;var f=e.memoizedState;o.state=f,Ci(e,n,o,s),l=e.memoizedState,a!==n||f!==l||De.current||Ut?(typeof d=="function"&&(Da(e,r,d,n),l=e.memoizedState),(a=Ut||wc(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Kh(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:at(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=rt(l):(l=Ue(r)?Sr:Re.current,l=an(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&_c(e,o,n,l),Ut=!1,f=e.memoizedState,o.state=f,Ci(e,n,o,s);var w=e.memoizedState;a!==h||f!==w||De.current||Ut?(typeof m=="function"&&(Da(e,r,m,n),w=e.memoizedState),(u=Ut||wc(e,r,u,n,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),o.props=n,o.state=w,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ba(t,e,r,n,i,s)}function Ba(t,e,r,n,s,i){_f(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&dc(e,r,!1),At(t,e,i);n=e.stateNode,Dy.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=un(e,t.child,null,i),e.child=un(e,null,a,i)):Te(t,e,a,i),e.memoizedState=n.state,s&&dc(e,r,!0),e.child}function xf(t){var e=t.stateNode;e.pendingContext?cc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cc(t,e.context,!1),Jl(t,e.containerInfo)}function Pc(t,e,r,n,s){return ln(),Wl(s),e.flags|=256,Te(t,e,r,n),e.child}var Fa={dehydrated:null,treeContext:null,retryLane:0};function Wa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sf(t,e,r){var n=e.pendingProps,s=ae.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(ae,s&1),t===null)return Ma(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ro(o,n,0,null),t=xr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wa(r),e.memoizedState=Fa,t):nu(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Uy(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Xt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Xt(a,i):(i=xr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Wa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Fa,n}return i=t.child,t=i.sibling,n=Xt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function nu(t,e){return e=ro({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $s(t,e,r,n){return n!==null&&Wl(n),un(e,t.child,null,r),t=nu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Uy(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Bo(Error(T(422))),$s(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=ro({mode:"visible",children:n.children},s,0,null),i=xr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&un(e,t.child,null,o),e.child.memoizedState=Wa(o),e.memoizedState=Fa,i);if(!(e.mode&1))return $s(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(T(419)),n=Bo(i,n,void 0),$s(t,e,o,n)}if(a=(o&t.childLanes)!==0,Le||a){if(n=xe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,It(t,s),ft(n,t,s,-1))}return uu(),n=Bo(Error(T(421))),$s(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Yy.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qe=Gt(s.nextSibling),He=e,ne=!0,dt=null,t!==null&&(Ye[Xe++]=Pt,Ye[Xe++]=Ct,Ye[Xe++]=br,Pt=t.id,Ct=t.overflow,br=e),e=nu(e,n.children),e.flags|=4096,e)}function Cc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),La(t.return,e,r)}function Fo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function bf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Te(t,e,n.children,r),n=ae.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cc(t,r,e);else if(t.tag===19)Cc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Z(ae,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ri(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Fo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ri(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Fo(e,!0,r,null,i);break;case"together":Fo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function li(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function At(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Er|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,r=Xt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Xt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function $y(t,e,r){switch(e.tag){case 3:xf(e),ln();break;case 5:Gh(e);break;case 1:Ue(e.type)&&bi(e);break;case 4:Jl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Z(ji,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Z(ae,ae.current&1),e.flags|=128,null):r&e.child.childLanes?Sf(t,e,r):(Z(ae,ae.current&1),t=At(t,e,r),t!==null?t.sibling:null);Z(ae,ae.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return bf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ae,ae.current),n)break;return null;case 22:case 23:return e.lanes=0,wf(t,e,r)}return At(t,e,r)}var kf,Va,Ef,jf;kf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Va=function(){};Ef=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,vr(xt.current);var i=null;switch(r){case"input":s=ha(t,s),n=ha(t,n),i=[];break;case"select":s=ue({},s,{value:void 0}),n=ue({},n,{value:void 0}),i=[];break;case"textarea":s=ga(t,s),n=ga(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xi)}ya(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ee("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};jf=function(t,e,r,n){r!==n&&(e.flags|=4)};function Rn(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function zy(t,e,r){var n=e.pendingProps;switch(Fl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return Ue(e.type)&&Si(),Pe(e),null;case 3:return n=e.stateNode,cn(),re(De),re(Re),Yl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ds(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dt!==null&&(Xa(dt),dt=null))),Va(t,e),Pe(e),null;case 5:Ql(e);var s=vr(os.current);if(r=e.type,t!==null&&e.stateNode!=null)Ef(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(T(166));return Pe(e),null}if(t=vr(xt.current),Ds(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[wt]=e,n[ss]=i,t=(e.mode&1)!==0,r){case"dialog":ee("cancel",n),ee("close",n);break;case"iframe":case"object":case"embed":ee("load",n);break;case"video":case"audio":for(s=0;s<Nn.length;s++)ee(Nn[s],n);break;case"source":ee("error",n);break;case"img":case"image":case"link":ee("error",n),ee("load",n);break;case"details":ee("toggle",n);break;case"input":Du(n,i),ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ee("invalid",n);break;case"textarea":$u(n,i),ee("invalid",n)}ya(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,a,t),s=["children",""+a]):Gn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ee("scroll",n)}switch(r){case"input":Cs(n),Uu(n,i,!0);break;case"textarea":Cs(n),zu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[wt]=e,t[ss]=n,kf(t,e,!1,!1),e.stateNode=t;e:{switch(o=va(r,n),r){case"dialog":ee("cancel",t),ee("close",t),s=n;break;case"iframe":case"object":case"embed":ee("load",t),s=n;break;case"video":case"audio":for(s=0;s<Nn.length;s++)ee(Nn[s],t);s=n;break;case"source":ee("error",t),s=n;break;case"img":case"image":case"link":ee("error",t),ee("load",t),s=n;break;case"details":ee("toggle",t),s=n;break;case"input":Du(t,n),s=ha(t,n),ee("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ue({},n,{value:void 0}),ee("invalid",t);break;case"textarea":$u(t,n),s=ga(t,n),ee("invalid",t);break;default:s=n}ya(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?rh(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eh(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Jn(t,l):typeof l=="number"&&Jn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ee("scroll",t):l!=null&&Pl(t,i,l,o))}switch(r){case"input":Cs(t),Uu(t,n,!1);break;case"textarea":Cs(t),zu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+er(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Xr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Xr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pe(e),null;case 6:if(t&&e.stateNode!=null)jf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(T(166));if(r=vr(os.current),vr(xt.current),Ds(e)){if(n=e.stateNode,r=e.memoizedProps,n[wt]=e,(i=n.nodeValue!==r)&&(t=He,t!==null))switch(t.tag){case 3:Ls(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ls(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wt]=e,e.stateNode=n}return Pe(e),null;case 13:if(re(ae),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&qe!==null&&e.mode&1&&!(e.flags&128))Wh(),ln(),e.flags|=98560,i=!1;else if(i=Ds(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[wt]=e}else ln(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),i=!1}else dt!==null&&(Xa(dt),dt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ae.current&1?we===0&&(we=3):uu())),e.updateQueue!==null&&(e.flags|=4),Pe(e),null);case 4:return cn(),Va(t,e),t===null&&rs(e.stateNode.containerInfo),Pe(e),null;case 10:return Hl(e.type._context),Pe(e),null;case 17:return Ue(e.type)&&Si(),Pe(e),null;case 19:if(re(ae),i=e.memoizedState,i===null)return Pe(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Rn(i,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ri(t),o!==null){for(e.flags|=128,Rn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Z(ae,ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&de()>hn&&(e.flags|=128,n=!0,Rn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ri(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Rn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return Pe(e),null}else 2*de()-i.renderingStartTime>hn&&r!==1073741824&&(e.flags|=128,n=!0,Rn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=de(),e.sibling=null,r=ae.current,Z(ae,n?r&1|2:r&1),e):(Pe(e),null);case 22:case 23:return lu(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Fe&1073741824&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function By(t,e){switch(Fl(e),e.tag){case 1:return Ue(e.type)&&Si(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cn(),re(De),re(Re),Yl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ql(e),null;case 13:if(re(ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));ln()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(ae),null;case 4:return cn(),null;case 10:return Hl(e.type._context),null;case 22:case 23:return lu(),null;case 24:return null;default:return null}}var zs=!1,Ce=!1,Fy=typeof WeakSet=="function"?WeakSet:Set,N=null;function Qr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(t,e,n)}else r.current=null}function qa(t,e,r){try{r()}catch(n){ce(t,e,n)}}var Rc=!1;function Wy(t,e){if(Ca=vi,t=Th(),zl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ra={focusedElem:t,selectionRange:r},vi=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,S=w.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:at(e.type,v),S);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){ce(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return w=Rc,Rc=!1,w}function Wn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qa(e,r,i)}s=s.next}while(s!==n)}}function eo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ha(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Pf(t){var e=t.alternate;e!==null&&(t.alternate=null,Pf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wt],delete e[ss],delete e[Ia],delete e[Ey],delete e[jy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cf(t){return t.tag===5||t.tag===3||t.tag===4}function Tc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ka(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xi));else if(n!==4&&(t=t.child,t!==null))for(Ka(t,e,r),t=t.sibling;t!==null;)Ka(t,e,r),t=t.sibling}function Ga(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ga(t,e,r),t=t.sibling;t!==null;)Ga(t,e,r),t=t.sibling}var be=null,ut=!1;function Mt(t,e,r){for(r=r.child;r!==null;)Rf(t,e,r),r=r.sibling}function Rf(t,e,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Hi,r)}catch{}switch(r.tag){case 5:Ce||Qr(r,e);case 6:var n=be,s=ut;be=null,Mt(t,e,r),be=n,ut=s,be!==null&&(ut?(t=be,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(ut?(t=be,r=r.stateNode,t.nodeType===8?Mo(t.parentNode,r):t.nodeType===1&&Mo(t,r),Zn(t)):Mo(be,r.stateNode));break;case 4:n=be,s=ut,be=r.stateNode.containerInfo,ut=!0,Mt(t,e,r),be=n,ut=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qa(r,e,o),s=s.next}while(s!==n)}Mt(t,e,r);break;case 1:if(!Ce&&(Qr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ce(r,e,a)}Mt(t,e,r);break;case 21:Mt(t,e,r);break;case 22:r.mode&1?(Ce=(n=Ce)||r.memoizedState!==null,Mt(t,e,r),Ce=n):Mt(t,e,r);break;default:Mt(t,e,r)}}function Oc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Fy),e.forEach(function(n){var s=Xy.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function it(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,ut=!1;break e;case 3:be=a.stateNode.containerInfo,ut=!0;break e;case 4:be=a.stateNode.containerInfo,ut=!0;break e}a=a.return}if(be===null)throw Error(T(160));Rf(i,o,s),be=null,ut=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ce(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tf(e,t),e=e.sibling}function Tf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(it(e,t),mt(t),n&4){try{Wn(3,t,t.return),eo(3,t)}catch(v){ce(t,t.return,v)}try{Wn(5,t,t.return)}catch(v){ce(t,t.return,v)}}break;case 1:it(e,t),mt(t),n&512&&r!==null&&Qr(r,r.return);break;case 5:if(it(e,t),mt(t),n&512&&r!==null&&Qr(r,r.return),t.flags&32){var s=t.stateNode;try{Jn(s,"")}catch(v){ce(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Yd(s,i),va(a,o);var u=va(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?rh(s,h):d==="dangerouslySetInnerHTML"?eh(s,h):d==="children"?Jn(s,h):Pl(s,d,h,u)}switch(a){case"input":fa(s,i);break;case"textarea":Xd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Xr(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Xr(s,!!i.multiple,i.defaultValue,!0):Xr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ss]=i}catch(v){ce(t,t.return,v)}}break;case 6:if(it(e,t),mt(t),n&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ce(t,t.return,v)}}break;case 3:if(it(e,t),mt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zn(e.containerInfo)}catch(v){ce(t,t.return,v)}break;case 4:it(e,t),mt(t);break;case 13:it(e,t),mt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ou=de())),n&4&&Oc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ce=(u=Ce)||d,it(e,t),Ce=u):it(e,t),mt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(N=t,d=t.child;d!==null;){for(h=N=d;N!==null;){switch(f=N,m=f.child,f.tag){case 0:case 11:case 14:case 15:Wn(4,f,f.return);break;case 1:Qr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){ce(n,r,v)}}break;case 5:Qr(f,f.return);break;case 22:if(f.memoizedState!==null){Ac(h);continue}}m!==null?(m.return=f,N=m):Ac(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=th("display",o))}catch(v){ce(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ce(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:it(e,t),mt(t),n&4&&Oc(t);break;case 21:break;default:it(e,t),mt(t)}}function mt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Cf(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Jn(s,""),n.flags&=-33);var i=Tc(t);Ga(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Tc(t);Ka(t,a,o);break;default:throw Error(T(161))}}catch(l){ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vy(t,e,r){N=t,Of(t)}function Of(t,e,r){for(var n=(t.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||zs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ce;a=zs;var u=Ce;if(zs=o,(Ce=l)&&!u)for(N=s;N!==null;)o=N,l=o.child,o.tag===22&&o.memoizedState!==null?Nc(s):l!==null?(l.return=o,N=l):Nc(s);for(;i!==null;)N=i,Of(i),i=i.sibling;N=s,zs=a,Ce=u}Ic(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):Ic(t)}}function Ic(t){for(;N!==null;){var e=N;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ce||eo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ce)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:at(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mc(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mc(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Zn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ce||e.flags&512&&Ha(e)}catch(f){ce(e,e.return,f)}}if(e===t){N=null;break}if(r=e.sibling,r!==null){r.return=e.return,N=r;break}N=e.return}}function Ac(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var r=e.sibling;if(r!==null){r.return=e.return,N=r;break}N=e.return}}function Nc(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{eo(4,e)}catch(l){ce(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){ce(e,s,l)}}var i=e.return;try{Ha(e)}catch(l){ce(e,i,l)}break;case 5:var o=e.return;try{Ha(e)}catch(l){ce(e,o,l)}}}catch(l){ce(e,e.return,l)}if(e===t){N=null;break}var a=e.sibling;if(a!==null){a.return=e.return,N=a;break}N=e.return}}var qy=Math.ceil,Ii=Nt.ReactCurrentDispatcher,su=Nt.ReactCurrentOwner,tt=Nt.ReactCurrentBatchConfig,G=0,xe=null,ge=null,ke=0,Fe=0,Yr=nr(0),we=0,cs=null,Er=0,to=0,iu=0,Vn=null,Me=null,ou=0,hn=1/0,kt=null,Ai=!1,Ja=null,Qt=null,Bs=!1,Wt=null,Ni=0,qn=0,Qa=null,ui=-1,ci=0;function Ie(){return G&6?de():ui!==-1?ui:ui=de()}function Yt(t){return t.mode&1?G&2&&ke!==0?ke&-ke:Cy.transition!==null?(ci===0&&(ci=ph()),ci):(t=Q,t!==0||(t=window.event,t=t===void 0?16:xh(t.type)),t):1}function ft(t,e,r,n){if(50<qn)throw qn=0,Qa=null,Error(T(185));_s(t,r,n),(!(G&2)||t!==xe)&&(t===xe&&(!(G&2)&&(to|=r),we===4&&zt(t,ke)),$e(t,n),r===1&&G===0&&!(e.mode&1)&&(hn=de()+500,Yi&&sr()))}function $e(t,e){var r=t.callbackNode;Cm(t,e);var n=yi(t,t===xe?ke:0);if(n===0)r!==null&&Wu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Wu(r),e===1)t.tag===0?Py(Mc.bind(null,t)):zh(Mc.bind(null,t)),by(function(){!(G&6)&&sr()}),r=null;else{switch(gh(n)){case 1:r=Il;break;case 4:r=hh;break;case 16:r=mi;break;case 536870912:r=fh;break;default:r=mi}r=$f(r,If.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function If(t,e){if(ui=-1,ci=0,G&6)throw Error(T(327));var r=t.callbackNode;if(nn()&&t.callbackNode!==r)return null;var n=yi(t,t===xe?ke:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Mi(t,n);else{e=n;var s=G;G|=2;var i=Nf();(xe!==t||ke!==e)&&(kt=null,hn=de()+500,_r(t,e));do try{Gy();break}catch(a){Af(t,a)}while(!0);ql(),Ii.current=i,G=s,ge!==null?e=0:(xe=null,ke=0,e=we)}if(e!==0){if(e===2&&(s=ba(t),s!==0&&(n=s,e=Ya(t,s))),e===1)throw r=cs,_r(t,0),zt(t,n),$e(t,de()),r;if(e===6)zt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Hy(s)&&(e=Mi(t,n),e===2&&(i=ba(t),i!==0&&(n=i,e=Ya(t,i))),e===1))throw r=cs,_r(t,0),zt(t,n),$e(t,de()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(T(345));case 2:dr(t,Me,kt);break;case 3:if(zt(t,n),(n&130023424)===n&&(e=ou+500-de(),10<e)){if(yi(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ie(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Oa(dr.bind(null,t,Me,kt),e);break}dr(t,Me,kt);break;case 4:if(zt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-ht(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qy(n/1960))-n,10<n){t.timeoutHandle=Oa(dr.bind(null,t,Me,kt),n);break}dr(t,Me,kt);break;case 5:dr(t,Me,kt);break;default:throw Error(T(329))}}}return $e(t,de()),t.callbackNode===r?If.bind(null,t):null}function Ya(t,e){var r=Vn;return t.current.memoizedState.isDehydrated&&(_r(t,e).flags|=256),t=Mi(t,e),t!==2&&(e=Me,Me=r,e!==null&&Xa(e)),t}function Xa(t){Me===null?Me=t:Me.push.apply(Me,t)}function Hy(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!pt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zt(t,e){for(e&=~iu,e&=~to,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ht(e),n=1<<r;t[r]=-1,e&=~n}}function Mc(t){if(G&6)throw Error(T(327));nn();var e=yi(t,0);if(!(e&1))return $e(t,de()),null;var r=Mi(t,e);if(t.tag!==0&&r===2){var n=ba(t);n!==0&&(e=n,r=Ya(t,n))}if(r===1)throw r=cs,_r(t,0),zt(t,e),$e(t,de()),r;if(r===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dr(t,Me,kt),$e(t,de()),null}function au(t,e){var r=G;G|=1;try{return t(e)}finally{G=r,G===0&&(hn=de()+500,Yi&&sr())}}function jr(t){Wt!==null&&Wt.tag===0&&!(G&6)&&nn();var e=G;G|=1;var r=tt.transition,n=Q;try{if(tt.transition=null,Q=1,t)return t()}finally{Q=n,tt.transition=r,G=e,!(G&6)&&sr()}}function lu(){Fe=Yr.current,re(Yr)}function _r(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Sy(r)),ge!==null)for(r=ge.return;r!==null;){var n=r;switch(Fl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Si();break;case 3:cn(),re(De),re(Re),Yl();break;case 5:Ql(n);break;case 4:cn();break;case 13:re(ae);break;case 19:re(ae);break;case 10:Hl(n.type._context);break;case 22:case 23:lu()}r=r.return}if(xe=t,ge=t=Xt(t.current,null),ke=Fe=e,we=0,cs=null,iu=to=Er=0,Me=Vn=null,yr!==null){for(e=0;e<yr.length;e++)if(r=yr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}yr=null}return t}function Af(t,e){do{var r=ge;try{if(ql(),oi.current=Oi,Ti){for(var n=le.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ti=!1}if(kr=0,_e=ve=le=null,Fn=!1,as=0,su.current=null,r===null||r.return===null){we=1,cs=e,ge=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Sc(o);if(m!==null){m.flags&=-257,bc(m,o,a,i,e),m.mode&1&&xc(i,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){xc(i,u,e),uu();break e}l=Error(T(426))}}else if(ne&&a.mode&1){var S=Sc(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),bc(S,o,a,i,e),Wl(dn(l,a));break e}}i=l=dn(l,a),we!==4&&(we=2),Vn===null?Vn=[i]:Vn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=mf(i,l,e);gc(i,g);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qt===null||!Qt.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=yf(i,a,e);gc(i,_);break e}}i=i.return}while(i!==null)}Lf(r)}catch(k){e=k,ge===r&&r!==null&&(ge=r=r.return);continue}break}while(!0)}function Nf(){var t=Ii.current;return Ii.current=Oi,t===null?Oi:t}function uu(){(we===0||we===3||we===2)&&(we=4),xe===null||!(Er&268435455)&&!(to&268435455)||zt(xe,ke)}function Mi(t,e){var r=G;G|=2;var n=Nf();(xe!==t||ke!==e)&&(kt=null,_r(t,e));do try{Ky();break}catch(s){Af(t,s)}while(!0);if(ql(),G=r,Ii.current=n,ge!==null)throw Error(T(261));return xe=null,ke=0,we}function Ky(){for(;ge!==null;)Mf(ge)}function Gy(){for(;ge!==null&&!wm();)Mf(ge)}function Mf(t){var e=Uf(t.alternate,t,Fe);t.memoizedProps=t.pendingProps,e===null?Lf(t):ge=e,su.current=null}function Lf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=By(r,e),r!==null){r.flags&=32767,ge=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,ge=null;return}}else if(r=zy(r,e,Fe),r!==null){ge=r;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);we===0&&(we=5)}function dr(t,e,r){var n=Q,s=tt.transition;try{tt.transition=null,Q=1,Jy(t,e,r,n)}finally{tt.transition=s,Q=n}return null}function Jy(t,e,r,n){do nn();while(Wt!==null);if(G&6)throw Error(T(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Rm(t,i),t===xe&&(ge=xe=null,ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bs||(Bs=!0,$f(mi,function(){return nn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=tt.transition,tt.transition=null;var o=Q;Q=1;var a=G;G|=4,su.current=null,Wy(t,r),Tf(r,t),gy(Ra),vi=!!Ca,Ra=Ca=null,t.current=r,Vy(r),_m(),G=a,Q=o,tt.transition=i}else t.current=r;if(Bs&&(Bs=!1,Wt=t,Ni=s),i=t.pendingLanes,i===0&&(Qt=null),bm(r.stateNode),$e(t,de()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ai)throw Ai=!1,t=Ja,Ja=null,t;return Ni&1&&t.tag!==0&&nn(),i=t.pendingLanes,i&1?t===Qa?qn++:(qn=0,Qa=t):qn=0,sr(),null}function nn(){if(Wt!==null){var t=gh(Ni),e=tt.transition,r=Q;try{if(tt.transition=null,Q=16>t?16:t,Wt===null)var n=!1;else{if(t=Wt,Wt=null,Ni=0,G&6)throw Error(T(331));var s=G;for(G|=4,N=t.current;N!==null;){var i=N,o=i.child;if(N.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(N=u;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:Wn(8,d,i)}var h=d.child;if(h!==null)h.return=d,N=h;else for(;N!==null;){d=N;var f=d.sibling,m=d.return;if(Pf(d),d===u){N=null;break}if(f!==null){f.return=m,N=f;break}N=m}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}N=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,N=o;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,N=g;break e}N=i.return}}var p=t.current;for(N=p;N!==null;){o=N;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,N=y;else e:for(o=p;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:eo(9,a)}}catch(k){ce(a,a.return,k)}if(a===o){N=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,N=_;break e}N=a.return}}if(G=s,sr(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Hi,t)}catch{}n=!0}return n}finally{Q=r,tt.transition=e}}return!1}function Lc(t,e,r){e=dn(r,e),e=mf(t,e,1),t=Jt(t,e,1),e=Ie(),t!==null&&(_s(t,1,e),$e(t,e))}function ce(t,e,r){if(t.tag===3)Lc(t,t,r);else for(;e!==null;){if(e.tag===3){Lc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qt===null||!Qt.has(n))){t=dn(r,t),t=yf(e,t,1),e=Jt(e,t,1),t=Ie(),e!==null&&(_s(e,1,t),$e(e,t));break}}e=e.return}}function Qy(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ie(),t.pingedLanes|=t.suspendedLanes&r,xe===t&&(ke&r)===r&&(we===4||we===3&&(ke&130023424)===ke&&500>de()-ou?_r(t,0):iu|=r),$e(t,e)}function Df(t,e){e===0&&(t.mode&1?(e=Os,Os<<=1,!(Os&130023424)&&(Os=4194304)):e=1);var r=Ie();t=It(t,e),t!==null&&(_s(t,e,r),$e(t,r))}function Yy(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Df(t,r)}function Xy(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(e),Df(t,r)}var Uf;Uf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||De.current)Le=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Le=!1,$y(t,e,r);Le=!!(t.flags&131072)}else Le=!1,ne&&e.flags&1048576&&Bh(e,Ei,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;li(t,e),t=e.pendingProps;var s=an(e,Re.current);rn(e,r),s=Zl(null,e,n,t,s,r);var i=eu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ue(n)?(i=!0,bi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gl(e),s.updater=Zi,e.stateNode=s,s._reactInternals=e,Ua(e,n,t,r),e=Ba(null,e,n,!0,i,r)):(e.tag=0,ne&&i&&Bl(e),Te(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(li(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=e0(n),t=at(n,t),s){case 0:e=za(null,e,n,t,r);break e;case 1:e=jc(null,e,n,t,r);break e;case 11:e=kc(null,e,n,t,r);break e;case 14:e=Ec(null,e,n,at(n.type,t),r);break e}throw Error(T(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),za(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),jc(t,e,n,s,r);case 3:e:{if(xf(e),t===null)throw Error(T(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Kh(t,e),Ci(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=dn(Error(T(423)),e),e=Pc(t,e,n,r,s);break e}else if(n!==s){s=dn(Error(T(424)),e),e=Pc(t,e,n,r,s);break e}else for(qe=Gt(e.stateNode.containerInfo.firstChild),He=e,ne=!0,dt=null,r=qh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ln(),n===s){e=At(t,e,r);break e}Te(t,e,n,r)}e=e.child}return e;case 5:return Gh(e),t===null&&Ma(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ta(n,s)?o=null:i!==null&&Ta(n,i)&&(e.flags|=32),_f(t,e),Te(t,e,o,r),e.child;case 6:return t===null&&Ma(e),null;case 13:return Sf(t,e,r);case 4:return Jl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=un(e,null,n,r):Te(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),kc(t,e,n,s,r);case 7:return Te(t,e,e.pendingProps,r),e.child;case 8:return Te(t,e,e.pendingProps.children,r),e.child;case 12:return Te(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Z(ji,n._currentValue),n._currentValue=o,i!==null)if(pt(i.value,o)){if(i.children===s.children&&!De.current){e=At(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Rt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),La(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),La(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Te(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,rn(e,r),s=rt(s),n=n(s),e.flags|=1,Te(t,e,n,r),e.child;case 14:return n=e.type,s=at(n,e.pendingProps),s=at(n.type,s),Ec(t,e,n,s,r);case 15:return vf(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:at(n,s),li(t,e),e.tag=1,Ue(n)?(t=!0,bi(e)):t=!1,rn(e,r),gf(e,n,s),Ua(e,n,s,r),Ba(null,e,n,!0,t,r);case 19:return bf(t,e,r);case 22:return wf(t,e,r)}throw Error(T(156,e.tag))};function $f(t,e){return dh(t,e)}function Zy(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(t,e,r,n){return new Zy(t,e,r,n)}function cu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function e0(t){if(typeof t=="function")return cu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rl)return 11;if(t===Tl)return 14}return 2}function Xt(t,e){var r=t.alternate;return r===null?(r=et(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function di(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")cu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Br:return xr(r.children,s,i,e);case Cl:o=8,s|=8;break;case la:return t=et(12,r,e,s|2),t.elementType=la,t.lanes=i,t;case ua:return t=et(13,r,e,s),t.elementType=ua,t.lanes=i,t;case ca:return t=et(19,r,e,s),t.elementType=ca,t.lanes=i,t;case Gd:return ro(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hd:o=10;break e;case Kd:o=9;break e;case Rl:o=11;break e;case Tl:o=14;break e;case Dt:o=16,n=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=et(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function xr(t,e,r,n){return t=et(7,t,n,e),t.lanes=r,t}function ro(t,e,r,n){return t=et(22,t,n,e),t.elementType=Gd,t.lanes=r,t.stateNode={isHidden:!1},t}function Wo(t,e,r){return t=et(6,t,null,e),t.lanes=r,t}function Vo(t,e,r){return e=et(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function t0(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function du(t,e,r,n,s,i,o,a,l){return t=new t0(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=et(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(i),t}function r0(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function zf(t){if(!t)return tr;t=t._reactInternals;e:{if(Cr(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ue(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var r=t.type;if(Ue(r))return $h(t,r,e)}return e}function Bf(t,e,r,n,s,i,o,a,l){return t=du(r,n,!0,t,s,i,o,a,l),t.context=zf(null),r=t.current,n=Ie(),s=Yt(r),i=Rt(n,s),i.callback=e??null,Jt(r,i,s),t.current.lanes=s,_s(t,s,n),$e(t,n),t}function no(t,e,r,n){var s=e.current,i=Ie(),o=Yt(s);return r=zf(r),e.context===null?e.context=r:e.pendingContext=r,e=Rt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Jt(s,e,o),t!==null&&(ft(t,s,o,i),ii(t,s,o)),o}function Li(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function hu(t,e){Dc(t,e),(t=t.alternate)&&Dc(t,e)}function n0(){return null}var Ff=typeof reportError=="function"?reportError:function(t){console.error(t)};function fu(t){this._internalRoot=t}so.prototype.render=fu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));no(t,e,null,null)};so.prototype.unmount=fu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jr(function(){no(null,t,null,null)}),e[Ot]=null}};function so(t){this._internalRoot=t}so.prototype.unstable_scheduleHydration=function(t){if(t){var e=vh();t={blockedOn:null,target:t,priority:e};for(var r=0;r<$t.length&&e!==0&&e<$t[r].priority;r++);$t.splice(r,0,t),r===0&&_h(t)}};function pu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function io(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uc(){}function s0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Li(o);i.call(u)}}var o=Bf(e,n,t,0,null,!1,!1,"",Uc);return t._reactRootContainer=o,t[Ot]=o.current,rs(t.nodeType===8?t.parentNode:t),jr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Li(l);a.call(u)}}var l=du(t,0,!1,null,null,!1,!1,"",Uc);return t._reactRootContainer=l,t[Ot]=l.current,rs(t.nodeType===8?t.parentNode:t),jr(function(){no(e,l,r,n)}),l}function oo(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Li(o);a.call(l)}}no(e,o,t,s)}else o=s0(r,e,t,s,n);return Li(o)}mh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=An(e.pendingLanes);r!==0&&(Al(e,r|1),$e(e,de()),!(G&6)&&(hn=de()+500,sr()))}break;case 13:jr(function(){var n=It(t,1);if(n!==null){var s=Ie();ft(n,t,1,s)}}),hu(t,1)}};Nl=function(t){if(t.tag===13){var e=It(t,134217728);if(e!==null){var r=Ie();ft(e,t,134217728,r)}hu(t,134217728)}};yh=function(t){if(t.tag===13){var e=Yt(t),r=It(t,e);if(r!==null){var n=Ie();ft(r,t,e,n)}hu(t,e)}};vh=function(){return Q};wh=function(t,e){var r=Q;try{return Q=t,e()}finally{Q=r}};_a=function(t,e,r){switch(e){case"input":if(fa(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Qi(n);if(!s)throw Error(T(90));Qd(n),fa(n,s)}}}break;case"textarea":Xd(t,r);break;case"select":e=r.value,e!=null&&Xr(t,!!r.multiple,e,!1)}};ih=au;oh=jr;var i0={usingClientEntryPoint:!1,Events:[Ss,qr,Qi,nh,sh,au]},Tn={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o0={bundleType:Tn.bundleType,version:Tn.version,rendererPackageName:Tn.rendererPackageName,rendererConfig:Tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uh(t),t===null?null:t.stateNode},findFiberByHostInstance:Tn.findFiberByHostInstance||n0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{Hi=Fs.inject(o0),_t=Fs}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i0;Ge.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pu(e))throw Error(T(200));return r0(t,e,null,r)};Ge.createRoot=function(t,e){if(!pu(t))throw Error(T(299));var r=!1,n="",s=Ff;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=du(t,1,!1,null,null,r,!1,n,s),t[Ot]=e.current,rs(t.nodeType===8?t.parentNode:t),new fu(e)};Ge.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=uh(e),t=t===null?null:t.stateNode,t};Ge.flushSync=function(t){return jr(t)};Ge.hydrate=function(t,e,r){if(!io(e))throw Error(T(200));return oo(null,t,e,!0,r)};Ge.hydrateRoot=function(t,e,r){if(!pu(t))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Ff;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Bf(e,null,t,1,r??null,s,!1,i,o),t[Ot]=e.current,rs(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new so(e)};Ge.render=function(t,e,r){if(!io(e))throw Error(T(200));return oo(null,t,e,!1,r)};Ge.unmountComponentAtNode=function(t){if(!io(t))throw Error(T(40));return t._reactRootContainer?(jr(function(){oo(null,null,t,!1,function(){t._reactRootContainer=null,t[Ot]=null})}),!0):!1};Ge.unstable_batchedUpdates=au;Ge.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!io(r))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return oo(t,e,r,!1,n)};Ge.version="18.3.1-next-f1338f8080-20240426";function Wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wf)}catch(t){console.error(t)}}Wf(),Fd.exports=Ge;var a0=Fd.exports,$c=a0;oa.createRoot=$c.createRoot,oa.hydrateRoot=$c.hydrateRoot;const l0="modulepreload",u0=function(t){return"/"+t},zc={},me=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=u0(l),l in zc)return;zc[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":l0,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ds.apply(this,arguments)}var Vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vt||(Vt={}));const Bc="popstate";function c0(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return Za("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Di(s)}return h0(e,r,null,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d0(){return Math.random().toString(36).substr(2,8)}function Fc(t,e){return{usr:t.state,key:t.key,idx:e}}function Za(t,e,r,n){return r===void 0&&(r=null),ds({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yn(e):e,{state:r,key:e&&e.key||n||d0()})}function Di(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function h0(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Vt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ds({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Vt.Pop;let S=d(),g=S==null?null:S-u;u=S,l&&l({action:a,location:v.location,delta:g})}function f(S,g){a=Vt.Push;let p=Za(v.location,S,g);u=d()+1;let y=Fc(p,u),_=v.createHref(p);try{o.pushState(y,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}i&&l&&l({action:a,location:v.location,delta:1})}function m(S,g){a=Vt.Replace;let p=Za(v.location,S,g);u=d();let y=Fc(p,u),_=v.createHref(p);o.replaceState(y,"",_),i&&l&&l({action:a,location:v.location,delta:0})}function w(S){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof S=="string"?S:Di(S);return p=p.replace(/ $/,"%20"),he(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Bc,h),l=S,()=>{s.removeEventListener(Bc,h),l=null}},createHref(S){return e(s,S)},createURL:w,encodeLocation(S){let g=w(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(S){return o.go(S)}};return v}var Wc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wc||(Wc={}));function f0(t,e,r){return r===void 0&&(r="/"),p0(t,e,r)}function p0(t,e,r,n){let s=typeof e=="string"?yn(e):e,i=mu(s.pathname||"/",r);if(i==null)return null;let o=Vf(t);g0(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=P0(i);a=k0(o[l],u)}return a}function Vf(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(he(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Zt([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(he(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vf(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:S0(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of qf(i.path))s(i,o,l)}),e}function qf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=qf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function g0(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:b0(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const m0=/^:[\w-]+$/,y0=3,v0=2,w0=1,_0=10,x0=-2,Vc=t=>t==="*";function S0(t,e){let r=t.split("/"),n=r.length;return r.some(Vc)&&(n+=x0),e&&(n+=v0),r.filter(s=>!Vc(s)).reduce((s,i)=>s+(m0.test(i)?y0:i===""?w0:_0),n)}function b0(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function k0(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=E0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Zt([i,h.pathname]),pathnameBase:I0(Zt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Zt([i,h.pathnameBase]))}return o}function E0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=j0(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[h];return m&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function j0(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),gu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function P0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R0=t=>C0.test(t);function T0(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?yn(t):t,i;if(r)if(R0(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),gu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=qc(r.substring(1),"/"):i=qc(r,e)}else i=e;return{pathname:i,search:A0(n),hash:N0(s)}}function qc(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function qo(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O0(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function yu(t,e){let r=O0(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function vu(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=yn(t):(s=ds({},t),he(!s.pathname||!s.pathname.includes("?"),qo("?","pathname","search",s)),he(!s.pathname||!s.pathname.includes("#"),qo("#","pathname","hash",s)),he(!s.search||!s.search.includes("#"),qo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=T0(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Zt=t=>t.join("/").replace(/\/\/+/g,"/"),I0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function M0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Hf=["post","put","patch","delete"];new Set(Hf);const L0=["get",...Hf];new Set(L0);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hs.apply(this,arguments)}const wu=x.createContext(null),D0=x.createContext(null),ir=x.createContext(null),ao=x.createContext(null),St=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Kf=x.createContext(null);function U0(t,e){let{relative:r}=e===void 0?{}:e;vn()||he(!1);let{basename:n,navigator:s}=x.useContext(ir),{hash:i,pathname:o,search:a}=Jf(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Zt([n,o])),s.createHref({pathname:l,search:a,hash:i})}function vn(){return x.useContext(ao)!=null}function Rr(){return vn()||he(!1),x.useContext(ao).location}function Gf(t){x.useContext(ir).static||x.useLayoutEffect(t)}function wn(){let{isDataRoute:t}=x.useContext(St);return t?Z0():$0()}function $0(){vn()||he(!1);let t=x.useContext(wu),{basename:e,future:r,navigator:n}=x.useContext(ir),{matches:s}=x.useContext(St),{pathname:i}=Rr(),o=JSON.stringify(yu(s,r.v7_relativeSplatPath)),a=x.useRef(!1);return Gf(()=>{a.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=vu(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zt([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}const z0=x.createContext(null);function B0(t){let e=x.useContext(St).outlet;return e&&x.createElement(z0.Provider,{value:t},e)}function Gx(){let{matches:t}=x.useContext(St),e=t[t.length-1];return e?e.params:{}}function Jf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(ir),{matches:s}=x.useContext(St),{pathname:i}=Rr(),o=JSON.stringify(yu(s,n.v7_relativeSplatPath));return x.useMemo(()=>vu(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function F0(t,e){return W0(t,e)}function W0(t,e,r,n){vn()||he(!1);let{navigator:s}=x.useContext(ir),{matches:i}=x.useContext(St),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Rr(),d;if(e){var h;let S=typeof e=="string"?yn(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||he(!1),d=S}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=f0(t,{pathname:m}),v=G0(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Zt([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Zt([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,n);return e&&v?x.createElement(ao.Provider,{value:{location:hs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vt.Pop}},v):v}function V0(){let t=X0(),e=M0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:s},r):null,null)}const q0=x.createElement(V0,null);class H0 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(St.Provider,{value:this.props.routeContext},x.createElement(Kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K0(t){let{routeContext:e,match:r,children:n}=t,s=x.useContext(wu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(St.Provider,{value:e},n)}function G0(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||he(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,w=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,w=!1,v=null,S=null;r&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||q0,l&&(u<0&&f===0?(ev("route-fallback"),w=!0,S=null):u===f&&(w=!0,S=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),p=()=>{let y;return m?y=v:w?y=S:h.route.Component?y=x.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,x.createElement(K0,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(H0,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var Qf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Qf||{}),Yf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yf||{});function J0(t){let e=x.useContext(wu);return e||he(!1),e}function Q0(t){let e=x.useContext(D0);return e||he(!1),e}function Y0(t){let e=x.useContext(St);return e||he(!1),e}function Xf(t){let e=Y0(),r=e.matches[e.matches.length-1];return r.route.id||he(!1),r.route.id}function X0(){var t;let e=x.useContext(Kf),r=Q0(),n=Xf();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Z0(){let{router:t}=J0(Qf.UseNavigateStable),e=Xf(Yf.UseNavigateStable),r=x.useRef(!1);return Gf(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,hs({fromRouteId:e},i)))},[t,e])}const Hc={};function ev(t,e,r){Hc[t]||(Hc[t]=!0)}function tv(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function el(t){let{to:e,replace:r,state:n,relative:s}=t;vn()||he(!1);let{future:i,static:o}=x.useContext(ir),{matches:a}=x.useContext(St),{pathname:l}=Rr(),u=wn(),d=vu(e,yu(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function rv(t){return B0(t.context)}function te(t){he(!1)}function nv(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Vt.Pop,navigator:i,static:o=!1,future:a}=t;vn()&&he(!1);let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:hs({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=yn(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:w="default"}=n,v=x.useMemo(()=>{let S=mu(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:m,key:w},navigationType:s}},[l,d,h,f,m,w,s]);return v==null?null:x.createElement(ir.Provider,{value:u},x.createElement(ao.Provider,{children:r,value:v}))}function sv(t){let{children:e,location:r}=t;return F0(tl(e),r)}new Promise(()=>{});function tl(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,s)=>{if(!x.isValidElement(n))return;let i=[...e,s];if(n.type===x.Fragment){r.push.apply(r,tl(n.props.children,i));return}n.type!==te&&he(!1),!n.props.index||!n.props.children||he(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=tl(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rl.apply(this,arguments)}function iv(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function ov(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function av(t,e){return t.button===0&&(!e||e==="_self")&&!ov(t)}function nl(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function lv(t,e){let r=nl(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const uv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cv="6";try{window.__reactRouterVersion=cv}catch{}const dv="startTransition",Kc=Qg[dv];function hv(t){let{basename:e,children:r,future:n,window:s}=t,i=x.useRef();i.current==null&&(i.current=c0({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(h=>{u&&Kc?Kc(()=>l(h)):l(h)},[l,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>tv(n),[n]),x.createElement(nv,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=x.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=iv(e,uv),{basename:m}=x.useContext(ir),w,v=!1;if(typeof u=="string"&&pv.test(u)&&(w=u,fv))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=mu(_.pathname,m);_.origin===y.origin&&k!=null?u=k+_.search+_.hash:v=!0}catch{}let S=U0(u,{relative:s}),g=gv(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function p(y){n&&n(y),y.defaultPrevented||g(y)}return x.createElement("a",rl({},f,{href:w||S,onClick:v||i?n:p,ref:r,target:l}))});var Gc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gc||(Gc={}));var Jc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jc||(Jc={}));function gv(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=wn(),u=Rr(),d=Jf(t,{relative:o});return x.useCallback(h=>{if(av(h,r)){h.preventDefault();let f=n!==void 0?n:Di(u)===Di(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,t,i,o,a])}function mv(t){let e=x.useRef(nl(t)),r=x.useRef(!1),n=Rr(),s=x.useMemo(()=>lv(n.search,r.current?null:e.current),[n.search]),i=wn(),o=x.useCallback((a,l)=>{const u=nl(typeof a=="function"?a(s):a);r.current=!0,i("?"+u,l)},[i,s]);return[s,o]}var sl=function(t,e){return sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},sl(t,e)};function Zf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sl(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ui=function(){return Ui=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ui.apply(this,arguments)};function _n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function ep(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function tp(t,e){return function(r,n){e(r,n,t)}}function rp(t,e,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,m=r.length-1;m>=0;m--){var w={};for(var v in n)w[v]=v==="access"?{}:n[v];for(var v in n.access)w.access[v]=n.access[v];w.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var S=(0,r[m])(a==="accessor"?{get:d.get,set:d.set}:d[l],w);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(h=o(S.get))&&(d.get=h),(h=o(S.set))&&(d.set=h),(h=o(S.init))&&s.unshift(h)}else(h=o(S))&&(a==="field"?s.unshift(h):d[l]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function np(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function sp(t){return typeof t=="symbol"?t:"".concat(t)}function ip(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function op(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function M(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function ap(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var lo=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function lp(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lo(e,t,r)}function $i(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _u(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function up(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_u(arguments[e]));return t}function cp(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function dp(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function fn(t){return this instanceof fn?(this.v=t,this):new fn(t)}function hp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(w){return Promise.resolve(w).then(m,h)}}function a(m,w){n[m]&&(s[m]=function(v){return new Promise(function(S,g){i.push([m,v,S,g])>1||l(m,v)})},w&&(s[m]=w(s[m])))}function l(m,w){try{u(n[m](w))}catch(v){f(i[0][3],v)}}function u(m){m.value instanceof fn?Promise.resolve(m.value.v).then(d,h):f(i[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function f(m,w){m(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function fp(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:fn(t[s](o)),done:!1}:i?i(o):o}:i}}function pp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof $i=="function"?$i(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function gp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var yv=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},il=function(t){return il=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},il(t)};function mp(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=il(t),n=0;n<r.length;n++)r[n]!=="default"&&lo(e,t,r[n]);return yv(e,t),e}function yp(t){return t&&t.__esModule?t:{default:t}}function vp(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function wp(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function _p(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function xp(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var vv=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Sp(t){function e(i){t.error=t.hasError?new vv(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function bp(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const wv={__extends:Zf,__assign:Ui,__rest:_n,__decorate:ep,__param:tp,__esDecorate:rp,__runInitializers:np,__propKey:sp,__setFunctionName:ip,__metadata:op,__awaiter:M,__generator:ap,__createBinding:lo,__exportStar:lp,__values:$i,__read:_u,__spread:up,__spreadArrays:cp,__spreadArray:dp,__await:fn,__asyncGenerator:hp,__asyncDelegator:fp,__asyncValues:pp,__makeTemplateObject:gp,__importStar:mp,__importDefault:yp,__classPrivateFieldGet:vp,__classPrivateFieldSet:wp,__classPrivateFieldIn:_p,__addDisposableResource:xp,__disposeResources:Sp,__rewriteRelativeImportExtension:bp},_v=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:xp,get __assign(){return Ui},__asyncDelegator:fp,__asyncGenerator:hp,__asyncValues:pp,__await:fn,__awaiter:M,__classPrivateFieldGet:vp,__classPrivateFieldIn:_p,__classPrivateFieldSet:wp,__createBinding:lo,__decorate:ep,__disposeResources:Sp,__esDecorate:rp,__exportStar:lp,__extends:Zf,__generator:ap,__importDefault:yp,__importStar:mp,__makeTemplateObject:gp,__metadata:op,__param:tp,__propKey:sp,__read:_u,__rest:_n,__rewriteRelativeImportExtension:bp,__runInitializers:np,__setFunctionName:ip,__spread:up,__spreadArray:dp,__spreadArrays:cp,__values:$i,default:wv},Symbol.toStringTag,{value:"Module"})),xv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class xu extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Sv extends xu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Qc extends xu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Yc extends xu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ol;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ol||(ol={}));class bv{constructor(e,{headers:r={},customFetch:n,region:s=ol.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=xv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return M(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const w=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,w.searchParams.set("forceFunctionRegion",m));let v;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let S=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(S=o.signal,d.addEventListener("abort",()=>o.abort())):S=o.signal);const g=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:v,signal:S}).catch(k=>{throw new Sv(k)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new Qc(g);if(!g.ok)throw new Yc(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield g.json():y==="application/octet-stream"||y==="application/pdf"?_=yield g.blob():y==="text/event-stream"?_=g:y==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Yc||a instanceof Qc?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Oe={};const xn=Ng(_v);var Ws={},Vs={},qs={},Hs={},Ks={},Gs={},Xc;function kp(){if(Xc)return Gs;Xc=1,Object.defineProperty(Gs,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Gs.default=t,Gs}var Zc;function Ep(){if(Zc)return Ks;Zc=1,Object.defineProperty(Ks,"__esModule",{value:!0});const e=xn.__importDefault(kp());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,h,f;let m=null,w=null,v=null,S=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const k=await l.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?w=k:w=JSON.parse(k))}const y=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&_&&_.length>1&&(v=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(m={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,v=null,S=406,g="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const y=await l.text();try{m=JSON.parse(y),Array.isArray(m)&&l.status===404&&(w=[],m=null,S=200,g="OK")}catch{l.status===404&&y===""?(S=204,g="No Content"):m={message:y}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,S=200,g="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:w,count:v,status:S,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,d,h,f,m,w;let v="";const S=l==null?void 0:l.cause;if(S){const g=(u=S==null?void 0:S.message)!==null&&u!==void 0?u:"",p=(d=S==null?void 0:S.code)!==null&&d!==void 0?d:"";v=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,v+=`

Caused by: ${(f=S==null?void 0:S.name)!==null&&f!==void 0?f:"Error"}: ${g}`,p&&(v+=` (${p})`),S!=null&&S.stack&&(v+=`
${S.stack}`)}else v=(m=l==null?void 0:l.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(w=l==null?void 0:l.name)!==null&&w!==void 0?w:"FetchError"}: ${l==null?void 0:l.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return Ks.default=r,Ks}var ed;function jp(){if(ed)return Hs;ed=1,Object.defineProperty(Hs,"__esModule",{value:!0});const e=xn.__importDefault(Ep());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Hs.default=r,Hs}var td;function Su(){if(td)return qs;td=1,Object.defineProperty(qs,"__esModule",{value:!0});const e=xn.__importDefault(jp()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return qs.default=n,qs}var rd;function Pp(){if(rd)return Vs;rd=1,Object.defineProperty(Vs,"__esModule",{value:!0});const e=xn.__importDefault(Su());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Vs.default=r,Vs}var nd;function kv(){if(nd)return Ws;nd=1,Object.defineProperty(Ws,"__esModule",{value:!0});const t=xn,e=t.__importDefault(Pp()),r=t.__importDefault(Su());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let m;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([v,S])=>S!==void 0).map(([v,S])=>[v,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([v,S])=>{f.searchParams.append(v,S)})):(h="POST",m=o);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:w,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ws.default=n,Ws}Object.defineProperty(Oe,"__esModule",{value:!0});var Cp=Oe.PostgrestError=Up=Oe.PostgrestBuilder=Lp=Oe.PostgrestTransformBuilder=Np=Oe.PostgrestFilterBuilder=Ip=Oe.PostgrestQueryBuilder=Tp=Oe.PostgrestClient=void 0;const Sn=xn,Rp=Sn.__importDefault(kv());var Tp=Oe.PostgrestClient=Rp.default;const Op=Sn.__importDefault(Pp());var Ip=Oe.PostgrestQueryBuilder=Op.default;const Ap=Sn.__importDefault(Su());var Np=Oe.PostgrestFilterBuilder=Ap.default;const Mp=Sn.__importDefault(jp());var Lp=Oe.PostgrestTransformBuilder=Mp.default;const Dp=Sn.__importDefault(Ep());var Up=Oe.PostgrestBuilder=Dp.default;const $p=Sn.__importDefault(kp());Cp=Oe.PostgrestError=$p.default;var zp=Oe.default={PostgrestClient:Rp.default,PostgrestQueryBuilder:Op.default,PostgrestFilterBuilder:Ap.default,PostgrestTransformBuilder:Mp.default,PostgrestBuilder:Dp.default,PostgrestError:$p.default};const Ev=Td({__proto__:null,get PostgrestBuilder(){return Up},get PostgrestClient(){return Tp},get PostgrestError(){return Cp},get PostgrestFilterBuilder(){return Np},get PostgrestQueryBuilder(){return Ip},get PostgrestTransformBuilder(){return Lp},default:zp},[Oe]),{PostgrestClient:jv,PostgrestQueryBuilder:Jx,PostgrestFilterBuilder:Qx,PostgrestTransformBuilder:Yx,PostgrestBuilder:Xx,PostgrestError:Zx}=zp||Ev;class Pv{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Cv="2.86.0",Rv=`realtime-js/${Cv}`,Bp="1.0.0",Tv="2.0.0",sd=Bp,al=1e4,Ov=1e3,Iv=100;var fr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fr||(fr={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var ct;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ct||(ct={}));var ll;(function(t){t.websocket="websocket"})(ll||(ll={}));var pr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pr||(pr={}));class Av{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let w=new DataView(m),v=0;w.setUint8(v++,this.KINDS.userBroadcastPush),w.setUint8(v++,l.length),w.setUint8(v++,a.length),w.setUint8(v++,o.length),w.setUint8(v++,u.length),w.setUint8(v++,h.length),w.setUint8(v++,r),Array.from(l,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(a,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(u,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(h,g=>w.setUint8(v++,g.charCodeAt(0)));var S=new Uint8Array(m.byteLength+n.byteLength);return S.set(new Uint8Array(m),0),S.set(new Uint8Array(n),m.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,w={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Fp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const id=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Nv(o,t,e,s),i),{}):{}},Nv=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Wp(i,o):ul(o)},Wp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Uv(e,r)}switch(t){case X.bool:return Mv(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Lv(e);case X.json:case X.jsonb:return Dv(e);case X.timestamp:return $v(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return ul(e);default:return ul(e)}},ul=t=>t,Mv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Lv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Dv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Uv=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Wp(e,a))}return t},$v=t=>typeof t=="string"?t.replace(" ","T"):t,Vp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ho{constructor(e,r,n={},s=al){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var od;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(od||(od={}));class Hn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Hn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(S=>S.presence_ref),m=h.map(S=>S.presence_ref),w=d.filter(S=>m.indexOf(S.presence_ref)<0),v=h.filter(S=>f.indexOf(S.presence_ref)<0);w.length>0&&(a[u]=w),v.length>0&&(l[u]=v)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ad;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ad||(ad={}));var Kn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Kn||(Kn={}));var Et;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Et||(Et={}));class bu{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ho(this,ct.join,this.params,this.timeout),this.rejoinTimer=new Fp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Hn(this),this.broadcastEndpointURL=Vp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Kn.PRESENCE]&&this.bindings[Kn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Et.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Et.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket.setAuth(),m===void 0){e==null||e(Et.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,S=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,g=[];for(let p=0;p<S;p++){const y=v[p],{filter:{event:_,schema:k,table:P,filter:C}}=y,j=m&&m[p];if(j&&j.event===_&&j.schema===k&&j.table===P&&j.filter===C)g.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=ye.errored,e==null||e(Et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Et.SUBSCRIBED);return}}).receive("error",m=>{this.state=ye.errored,e==null||e(Et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ye.joined&&e===Kn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ho(this,ct.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ye.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ho(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Iv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=ct;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,v,S;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(v=m.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var w,v,S,g,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,k=(w=m.filter)===null||w===void 0?void 0:w.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:v,table:S,commit_timestamp:g,type:p,errors:y}=w;f=Object.assign(Object.assign({},{schema:v,table:S,commit_timestamp:g,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(w))}m.callback(f,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&bu.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ct.close,{},e)}_onError(e){this._on(ct.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=id(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=id(e.columns,e.old_record)),r}}const Ko=()=>{},Js={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zv=[1e3,2e3,5e3,1e4],Bv=1e4,Fv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wv{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=al,this.transport=null,this.heartbeatIntervalMs=Js.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ko,this.ref=0,this.reconnectTimer=null,this.vsn=sd,this.logger=Ko,this.conn=null,this.sendBuffer=[],this.serializer=new Av,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ll.websocket}`,this.httpEndpoint=Vp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fr.connecting:return pr.Connecting;case fr.open:return pr.Open;case fr.closing:return pr.Closing;default:return pr.Closed}}isConnected(){return this.connectionState()===pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new bu(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ov,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Js.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===fr.open||this.conn.readyState===fr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ct.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Fv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Rv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ct.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Fp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Js.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,d,h,f,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:al,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Js.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Ko,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:sd,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:w=>zv[w-1]||Bv,this.vsn){case Bp:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(w,v)=>v(JSON.stringify(w)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(w,v)=>v(JSON.parse(w));break;case Tv:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class uo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Vv extends uo{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cl extends uo{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const ku=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),qv=()=>Response,dl=t=>{if(Array.isArray(t))return t.map(r=>dl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=dl(n)}),e},Hv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kv=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Go=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Gv=(t,e,r)=>M(void 0,void 0,void 0,function*(){const n=yield qv();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Vv(Go(s),i,o))}).catch(s=>{e(new cl(Go(s),s))}):e(new cl(Go(t),t))}),Jv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Hv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ks(t,e,r,n,s,i){return M(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Jv(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Gv(l,a,n))})})}function fs(t,e,r,n){return M(this,void 0,void 0,function*(){return ks(t,"GET",e,r,n)})}function lt(t,e,r,n,s){return M(this,void 0,void 0,function*(){return ks(t,"POST",e,n,s,r)})}function hl(t,e,r,n,s){return M(this,void 0,void 0,function*(){return ks(t,"PUT",e,n,s,r)})}function Qv(t,e,r,n){return M(this,void 0,void 0,function*(){return ks(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Eu(t,e,r,n,s){return M(this,void 0,void 0,function*(){return ks(t,"DELETE",e,n,s,r)})}class Yv{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return M(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oe(e))return{data:null,error:e};throw e}})}}var qp;class Xv{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[qp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Yv(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return M(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oe(e))return{data:null,error:e};throw e}})}}qp=Symbol.toStringTag;const Zv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ld={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ew{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=ku(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return M(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ld),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?hl:lt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}upload(e,r,n){return M(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return M(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:ld.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield hl(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return M(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield lt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new uo("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}update(e,r,n){return M(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return M(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}copy(e,r,n){return M(this,void 0,void 0,function*(){try{return{data:{path:(yield lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return M(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield lt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return M(this,void 0,void 0,function*(){try{const s=yield lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>fs(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Xv(l,this.shouldThrowOnError)}info(e){return M(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield fs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}exists(e){return M(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Qv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n)&&n instanceof cl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return M(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}list(e,r,n){return M(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Zv),r),{prefix:e||""});return{data:yield lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}listV2(e,r){return M(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield lt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Hp="2.86.0",Kp={"X-Client-Info":`storage-js/${Hp}`};class tw{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kp),r),this.fetch=ku(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return M(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield fs(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}getBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}createBucket(e){return M(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield lt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oe(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return M(this,void 0,void 0,function*(){try{return{data:yield hl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ps=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rw(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function nw(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function sw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=rw(t.baseUrl,n,s),l=await nw(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,w=m==null?void 0:m.error;throw new ps((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Qs(t){return t.join("")}var iw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Qs(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qs(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qs(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qs(t.namespace)}`}),!0}catch(e){if(e instanceof ps&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ps&&r.status===409)return;throw r}}};function Ir(t){return t.join("")}var ow=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ir(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ps&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ps&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},aw=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=sw({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new iw(this.client,e),this.tableOps=new ow(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class lw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kp),r),this.fetch=ku(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}listBuckets(e){return M(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield fs(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}from(e){if(!Kv(e))throw new uo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new aw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>M(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const ju={"X-Client-Info":`storage-js/${Hp}`,"Content-Type":"application/json"};class Gp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function We(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Jo extends Gp{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class uw extends Gp{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var ud;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ud||(ud={}));const Pu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},cd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dw=(t,e,r)=>M(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Jo(cd(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Jo(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Jo(a,s,o))}}else e(new uw(cd(t),t))}),hw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(cw(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function fw(t,e,r,n,s,i){return M(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,hw(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>dw(l,a,n))})})}function Ve(t,e,r,n,s){return M(this,void 0,void 0,function*(){return fw(t,"POST",e,n,s,r)})}class pw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ju),r),this.fetch=Pu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return M(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}getIndex(e,r){return M(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}listIndexes(e){return M(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return M(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}})}}class gw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ju),r),this.fetch=Pu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return M(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ve(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}getVectors(e){return M(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}listVectors(e){return M(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ve(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}queryVectors(e){return M(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}deleteVectors(e){return M(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ve(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}}class mw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ju),r),this.fetch=Pu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return M(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}getBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Ve(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}listBuckets(){return M(this,arguments,void 0,function*(e={}){try{return{data:yield Ve(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}deleteBucket(e){return M(this,void 0,void 0,function*(){try{return{data:(yield Ve(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}})}}class yw extends mw{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new vw(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return M(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return M(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return M(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return M(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class vw extends pw{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return M(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return M(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return M(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return M(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ww(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ww extends gw{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return M(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return M(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return M(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return M(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return M(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class _w extends tw{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new ew(this.url,this.headers,e,this.fetch)}get vectors(){return new yw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lw(this.url+"/iceberg",this.headers,this.fetch)}}const xw="2.86.0";let Mn="";typeof Deno<"u"?Mn="deno":typeof document<"u"?Mn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mn="react-native":Mn="node";const Sw={"X-Client-Info":`supabase-js-${Mn}/${xw}`},bw={headers:Sw},kw={schema:"public"},Ew={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jw={},Pw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Cw=()=>Headers,Rw=(t,e,r)=>{const n=Pw(r),s=Cw();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Tw(t){return t.endsWith("/")?t:t+"/"}function Ow(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Iw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Tw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Jp="2.86.0",Ur=30*1e3,fl=3,Qo=fl*Ur,Aw="http://localhost:9999",Nw="supabase.auth.token",Mw={"X-Client-Info":`gotrue-js/${Jp}`},pl="X-Supabase-Api-Version",Qp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dw=10*60*1e3;class gs extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Uw extends gs{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $w(t){return U(t)&&t.name==="AuthApiError"}class gr extends gs{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class or extends gs{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Be extends or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zw(t){return U(t)&&t.name==="AuthSessionMissingError"}class Ar extends or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ys extends or{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xs extends or{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Bw(t){return U(t)&&t.name==="AuthImplicitGrantRedirectError"}class dd extends or{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gl extends or{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Yo(t){return U(t)&&t.name==="AuthRetryableFetchError"}class hd extends or{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ml extends or{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fd=` 	
\r=`.split(""),Fw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fd.length;e+=1)t[fd[e].charCodeAt(0)]=-2;for(let e=0;e<zi.length;e+=1)t[zi[e].charCodeAt(0)]=e;return t})();function pd(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zi[n]),e.queuedBits-=6}}function Yp(t,e,r){const n=Fw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function gd(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{qw(o,n,r)};for(let o=0;o<t.length;o+=1)Yp(t.charCodeAt(o),s,i);return e.join("")}function Ww(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Vw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ww(n,e)}}function qw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function sn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Yp(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Hw(t){const e=[];return Vw(t,r=>e.push(r)),new Uint8Array(e)}function wr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>pd(s,r,n)),pd(null,r,n),e.join("")}function Kw(t){return Math.round(Date.now()/1e3)+t}function Gw(){return Symbol("auth-callback")}const Se=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},Xp=()=>{if(!Se())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function Jw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Zp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Qw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$r=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ur=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lt=async(t,e)=>{await t.removeItem(e)};class co{constructor(){this.promise=new co.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}co.promiseConstructor=Promise;function Xo(t){const e=t.split(".");if(e.length!==3)throw new ml("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Lw.test(e[n]))throw new ml("JWT not in base64url format");return{header:JSON.parse(gd(e[0])),payload:JSON.parse(gd(e[1])),signature:sn(e[2]),raw:{header:e[0],payload:e[1]}}}async function Yw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Xw(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Zw(t){return("0"+t.toString(16)).substr(-2)}function e_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Zw).join("")}async function t_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function r_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await t_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nr(t,e,r=!1){const n=e_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await $r(t,`${e}-code-verifier`,s);const i=await r_(n);return[i,n===i?"plain":"s256"]}const n_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function s_(t){const e=t.headers.get(pl);if(!e||!e.match(n_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function i_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function o_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mr(t){if(!a_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function l_(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function md(t){return JSON.parse(JSON.stringify(t))}const hr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),u_=[502,503,504];async function yd(t){var e;if(!Qw(t))throw new gl(hr(t),0);if(u_.includes(t.status))throw new gl(hr(t),t.status);let r;try{r=await t.json()}catch(i){throw new gr(hr(i),i)}let n;const s=s_(t);if(s&&s.getTime()>=Qp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hd(hr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Be}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new hd(hr(r),t.status,r.weak_password.reasons);throw new Uw(hr(r),t.status||500,n)}const c_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[pl]||(i[pl]=Qp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await d_(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function d_(t,e,r,n,s,i){const o=c_(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new gl(hr(l),0)}if(a.ok||await yd(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await yd(l)}}function ot(t){var e;let r=null;p_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Kw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function vd(t){const e=ot(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function h_(t){return{data:t,error:null}}function f_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=_n(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function wd(t){return t}function p_(t){return t.access_token&&t.refresh_token&&t.expires_in}const ea=["global","local","others"];class g_{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Zp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ea[0]){if(ea.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ea.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=_n(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:f_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wd});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);u[`${S}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Mr(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Mr(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Bt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Mr(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Mr(e.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Mr(e.userId),Mr(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wd});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);u[`${S}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(U(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}}function _d(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Lr={debug:!!(globalThis&&Xp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class m_ extends eg{}async function y_(t,e,r){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new m_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function v_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function w_(t){return parseInt(t,16)}function __(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function x_(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=tg(t.address),w=d?`${d}://${n}`:n,v=t.statement?`${t.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${m}

${v}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);p+=`
- ${y}`}g+=p}return`${S}
${g}`}class pe extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Bi extends pe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function S_({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new pe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(rg(o)){if(i.rp.id!==o)return new pe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function b_({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new pe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(rg(n)){if(r.rpId!==n)return new pe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class k_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const E_=new k_;function j_(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=_n(t,["challenge","user","excludeCredentials"]),i=sn(e).buffer,o=Object.assign(Object.assign({},r),{id:sn(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:sn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function P_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=_n(t,["challenge","allowCredentials"]),s=sn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:sn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function C_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:wr(new Uint8Array(t.response.attestationObject)),clientDataJSON:wr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function R_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:wr(new Uint8Array(s.authenticatorData)),clientDataJSON:wr(new Uint8Array(s.clientDataJSON)),signature:wr(new Uint8Array(s.signature)),userHandle:s.userHandle?wr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function xd(){var t,e;return!!(Se()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function T_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bi("Browser returned unexpected credential type",e)}:{data:null,error:new Bi("Empty credential response",e)}}catch(e){return{data:null,error:S_({error:e,options:t})}}}async function O_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Bi("Browser returned unexpected credential type",e)}:{data:null,error:new Bi("Empty credential response",e)}}catch(e){return{data:null,error:b_({error:e,options:t})}}}const I_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},A_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Fi(a,o):n[i]=Fi(o)}else n[i]=o}return n}function N_(t,e){return Fi(I_,t,e||{})}function M_(t,e){return Fi(A_,t,e||{})}class L_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??E_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=N_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await T_({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=M_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await O_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new gr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new gs("rpId is required for WebAuthn authentication")};try{if(!xd())return{data:null,error:new gr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new gr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new gs("rpId is required for WebAuthn registration")};try{if(!xd())return{data:null,error:new gr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new gr("Unexpected error in register",o)}}}}v_();const D_={url:Aw,storageKey:Nw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Sd(t,e,r){return await r()}const Dr={};class ms{get jwks(){var e,r;return(r=(e=Dr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Dr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},D_),e);if(this.storageKey=i.storageKey,this.instanceID=(r=ms.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ms.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Se()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new g_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Zp(i.fetch),this.lock=i.lock||Sd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Se()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=y_:this.lock=Sd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new L_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Xp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_d(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_d(this.memoryStorage)),Se()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Se()&&(r=Jw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Se()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Bw(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?this._returnResult({error:r}):this._returnResult({error:new gr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ot}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Nr(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:w},xform:ot})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ot})}else throw new Ys("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:vd})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:vd})}else throw new Ys("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Ar;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,d,h,f;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:v,wallet:S,statement:g,options:p}=e;let y;if(Se())if(typeof S=="object")y=S;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")y=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=S}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),k=await y.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=tg(k[0]);let C=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const E=await y.request({method:"eth_chainId"});C=w_(E)}const j={domain:_.host,address:P,statement:g,uri:_.href,version:"1",chainId:C,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=x_(j),w=await y.request({method:"personal_sign",params:[__(m),P]})}try{const{data:v,error:S}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:w},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ot});if(S)throw S;if(!v||!v.session||!v.user){const g=new Ar;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:S})}catch(v){if(U(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,d,h,f,m;let w,v;if("message"in e)w=e.message,v=e.signature;else{const{chain:S,wallet:g,statement:p,options:y}=e;let _;if(Se())if(typeof g=="object")_=g;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))_=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const k=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const P=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let C;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")C=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)C=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const P=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=P}}try{const{data:S,error:g}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:wr(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ot});if(g)throw g;if(!S||!S.session||!S.user){const p=new Ar;return this._returnResult({data:{user:null,session:null},error:p})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:g})}catch(S){if(U(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ot});if(await Lt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Ar;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ot}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Ar;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Nr(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ys("You must provide either an email or phone number.")}catch(a){if(U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ot});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Nr(this.storage,this.storageKey));const u=await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:h_});return!((i=u.data)===null||i===void 0)&&i.url&&Se()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Be;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Ys("You must provide either an email or phone number and a type")}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Qo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ur(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Zo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=l_(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Be}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Bt})})}catch(r){if(U(r))return zw(r)&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Be;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Nr(this.storage,this.storageKey));const{data:u,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Bt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(U(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Be;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Xo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(U(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Be;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Se())throw new Xs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dd("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Xs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Ur&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:v,error:S}=await this._getUser(i);if(S)throw S;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(U(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!($w(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Gw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(U(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Se()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(U(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,h=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ot}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Ar}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Xw(async s=>(s>0&&await Yw(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ot})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Yo(i)&&Date.now()+o-n<Ur})}catch(n){if(this._debug(r,"error",n),U(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Se()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ur(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await $r(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Zo()}else if(s&&!s.user&&!s.user){const o=await ur(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Lt(this.storage,this.storageKey+"-user"),await $r(this.storage,this.storageKey,s)):s.user=Zo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Qo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Yo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Be;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new co;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Be;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),U(i)){const o={data:null,error:i};return Yo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await $r(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=md(s);await $r(this.storage,this.storageKey,i)}else{const s=md(r);await $r(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Lt(this.storage,this.storageKey),await Lt(this.storage,this.storageKey+"-code-verifier"),await Lt(this.storage,this.storageKey+"-user"),this.userStorage&&await Lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Se()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ur);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ur);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ur}ms, refresh threshold is ${fl} ticks`),s<=fl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof eg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Se()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Nr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?C_(e.webauthn.credential_response):R_(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:j_(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:P_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Xo(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await z(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Be})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Be});const o=await z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Se()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Be});const o=await z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Se()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Be})})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Be})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Dw>s)return n;const{data:i,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return this._returnResult({data:null,error:w});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Xo(n);r!=null&&r.allowExpired||i_(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=o_(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Hw(`${a}.${l}`)))throw new ml("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}}ms.nextInstanceID={};const U_=ms;class $_ extends U_{constructor(e){super(e)}}class z_{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Iw(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:kw,realtime:jw,auth:Object.assign(Object.assign({},Ew),{storageKey:l}),global:bw},d=Ow(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Rw(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new jv(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new _w(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new bv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:d},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $_({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Wv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const B_=(t,e,r)=>new z_(t,e,r);function F_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}F_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W_=void 0,V_=void 0;throw new Error("Missing Supabase environment variables");const B=B_(W_,V_),ng=x.createContext(null),q_=60*1e3,H_=5*60*1e3;function K_({children:t}){const[e,r]=x.useState(null),[n,s]=x.useState(null),[i,o]=x.useState(null),[a,l]=x.useState(!0),[u,d]=x.useState(null),[h,f]=x.useState(!1),m=x.useRef(null),w=x.useRef(Date.now()),v=x.useCallback(()=>{w.current=Date.now()},[]);async function S(j){if(!j){s(null),o(null);return}try{const{data:E,error:R}=await B.from("profiles").select("*").eq("id",j.id).single();if(R){console.error("Error fetching profile:",R),d(R);return}s(E);const{data:D}=await B.from("resources").select("*").eq("user_id",j.id).maybeSingle();o(D),d(null)}catch(E){console.error("Error in fetchUserData:",E),d(E)}}const g=x.useCallback(async()=>{try{const{data:{session:j},error:E}=await B.auth.getSession();if(E){console.error("Session check error:",E);return}if(!j){console.log("Session expired, logging out"),await p();return}const R=j.expires_at*1e3,D=Date.now(),L=R-D;if(L<=0)await p();else if(L<=H_){f(!0);const{data:I,error:K}=await B.auth.refreshSession();K||!I.session?console.warn("Failed to refresh session:",K):(console.log("Session refreshed successfully"),f(!1))}else f(!1)}catch(j){console.error("Session check failed:",j)}},[]);async function p(){r(null),s(null),o(null),f(!1),await B.auth.signOut();const j=window.location.pathname;j!=="/login"&&j!=="/register"&&(window.location.href="/login?expired=true")}const y=x.useCallback(()=>{m.current&&clearInterval(m.current),m.current=setInterval(()=>{g()},q_);const j=()=>{document.visibilityState==="visible"&&g()};document.addEventListener("visibilitychange",j);const E=["mousedown","keydown","touchstart","scroll"];return E.forEach(R=>{document.addEventListener(R,v,{passive:!0})}),()=>{m.current&&clearInterval(m.current),document.removeEventListener("visibilitychange",j),E.forEach(R=>{document.removeEventListener(R,v)})}},[g,v]);x.useEffect(()=>{let j=!0,E=null;async function R(){try{const{data:{session:L},error:I}=await B.auth.getSession();I&&(console.error("Session error:",I),j&&d(I)),j&&(r((L==null?void 0:L.user)??null),l(!1),L!=null&&L.user&&(S(L.user),E=y()))}catch(L){console.error("Auth initialization error:",L),j&&(d(L),l(!1))}}R();const{data:{subscription:D}}=B.auth.onAuthStateChange(async(L,I)=>{j&&(r((I==null?void 0:I.user)??null),l(!1),I!=null&&I.user?(S(I.user),E&&E(),E=y()):(s(null),o(null),E&&(E(),E=null)),L==="SIGNED_OUT"?f(!1):L==="TOKEN_REFRESHED"&&(console.log("Token refreshed"),f(!1)))});return()=>{j=!1,D.unsubscribe(),E&&E()}},[y]);async function _(){try{await B.auth.signOut(),r(null),s(null),o(null),f(!1)}catch(j){console.error("Sign out error:",j),d(j)}}async function k(){e&&await S(e)}async function P(){try{const{data:j,error:E}=await B.auth.refreshSession();return E?(console.error("Manual session refresh failed:",E),!1):j.session?(f(!1),!0):!1}catch(j){return console.error("Session refresh error:",j),!1}}const C={user:e,profile:n,role:(n==null?void 0:n.role)||"viewer",linkedResource:i,isLoading:a,error:u,signOut:_,refreshUserData:k,refreshSession:P,isAuthenticated:!!e,sessionExpiring:h};return c.jsx(ng.Provider,{value:C,children:t})}function Cu(){const t=x.useContext(ng);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const sg=x.createContext(null);function G_({children:t}){const[e,r]=x.useState(null),[n,s]=x.useState(!0),[i,o]=x.useState(null);x.useEffect(()=>{let d=!0;async function h(){try{const{data:f,error:m}=await B.from("projects").select("*").eq("reference","AMSF001").single();m?(console.error("Error fetching project:",m),d&&o(m)):d&&(r(f),o(null))}catch(f){console.error("Project fetch error:",f),d&&o(f)}finally{d&&s(!1)}}return h(),()=>{d=!1}},[]);async function a(d){s(!0),o(null);try{const{data:h,error:f}=await B.from("projects").select("*").eq("reference",d).single();f?(console.error("Error switching project:",f),o(f)):r(h)}catch(h){console.error("Project switch error:",h),o(h)}finally{s(!1)}}async function l(){if(e)try{const{data:d,error:h}=await B.from("projects").select("*").eq("id",e.id).single();h?(console.error("Error refreshing project:",h),o(h)):r(d)}catch(d){console.error("Project refresh error:",d),o(d)}}const u={currentProject:e,projectId:(e==null?void 0:e.id)||null,projectRef:(e==null?void 0:e.reference)||null,projectName:(e==null?void 0:e.name)||null,isLoading:n,error:i,switchProject:a,refreshProject:l};return c.jsx(sg.Provider,{value:u,children:t})}function ig(){const t=x.useContext(sg);if(!t)throw new Error("useProject must be used within a ProjectProvider");return t}const og=x.createContext();function J_({children:t}){const[e,r]=x.useState(!1),[n,s]=x.useState(null),[i,o]=x.useState([]);x.useEffect(()=>{a(),l()},[]);async function a(){const{data:{user:v}}=await B.auth.getUser();if(v){const{data:S}=await B.from("profiles").select("role").eq("id",v.id).single();S&&s(S.role)}}async function l(){const{data:v}=await B.from("profiles").select("id").eq("is_test_user",!0);v&&o(v.map(S=>S.id))}const u=n==="admin"||n==="supplier_pm";function d(){u&&r(v=>!v)}function h(v){return i.includes(v)}function f(v,S="user_id"){return!v||e?v:v.filter(g=>!i.includes(g[S]))}function m(v){return!v||e?v:v.filter(S=>!S.is_test_content)}const w={showTestUsers:e,setShowTestUsers:r,toggleTestUsers:d,canToggleTestUsers:u,testUserIds:i,isTestUser:h,filterTestContent:f,filterByTestFlag:m,userRole:n};return c.jsx(og.Provider,{value:w,children:t})}function Q_(){const t=x.useContext(og);if(!t)throw new Error("useTestUsers must be used within a TestUserProvider");return t}const ag=x.createContext();function Y_(){return x.useContext(ag)}function X_({children:t}){const[e,r]=x.useState([]),[n,s]=x.useState(0),[i,o]=x.useState(0),[a,l]=x.useState(!0),[u,d]=x.useState(null),[h,f]=x.useState(null),m=k=>["admin","supplier_pm","customer_pm"].includes(k),w=x.useCallback(async(k,P)=>{try{let C=[];if(m(P)){const{data:j}=await B.from("timesheets").select("id, hours_worked, hours, work_date, date").eq("status","Submitted"),{data:E}=await B.from("expenses").select("id, amount, category, reason, resource_name, chargeable_to_customer").eq("status","Submitted"),{data:R}=await B.from("deliverables").select("id, name, deliverable_ref").eq("status","Submitted"),{data:D}=await B.from("milestone_certificates").select("id, milestone_id").eq("status","Submitted");j&&j.forEach(L=>{C.push({id:`ts-${L.id}`,type:"timesheet",notification_type:"action",title:"Timesheet Submitted",message:`Timesheet (${L.hours_worked||L.hours||0}h) pending approval`,action_url:"/timesheets",created_at:new Date().toISOString(),is_read:!1,is_actioned:!1})}),E&&E.forEach(L=>{const I=L.chargeable_to_customer!==!1;C.push({id:`exp-${L.id}`,type:"expense",notification_type:"action",title:"Expense Submitted",message:`${L.resource_name||"Unknown"} expense (${parseFloat(L.amount||0).toFixed(2)}) pending validation`,action_url:"/expenses",created_at:new Date().toISOString(),is_read:!1,is_actioned:!1,isChargeable:I})}),R&&R.forEach(L=>{C.push({id:`del-${L.id}`,type:"deliverable",notification_type:"action",title:"Deliverable Submitted",message:`${L.deliverable_ref}: ${L.name} pending review`,action_url:"/deliverables",created_at:new Date().toISOString(),is_read:!1,is_actioned:!1})}),D&&D.forEach(L=>{C.push({id:`cert-${L.id}`,type:"certificate",notification_type:"action",title:"Certificate Submitted",message:"Milestone certificate pending approval",action_url:"/milestones",created_at:new Date().toISOString(),is_read:!1,is_actioned:!1})})}else{const{data:j}=await B.from("timesheets").select("id, hours_worked, hours, work_date, date, resource_id").eq("status","Submitted").eq("user_id",k),{data:E}=await B.from("expenses").select("id, amount, category, reason, resource_name").eq("status","Submitted").eq("created_by",k);j&&j.forEach(R=>{C.push({id:`ts-${R.id}`,type:"timesheet",notification_type:"action",title:"Timesheet Submitted",message:`Your timesheet for ${R.hours_worked||R.hours||0}h is pending approval`,action_url:"/timesheets",created_at:new Date().toISOString(),is_read:!1,is_actioned:!1})}),E&&E.forEach(R=>{C.push({id:`exp-${R.id}`,type:"expense",notification_type:"action",title:"Expense Submitted",message:`Your expense (${parseFloat(R.amount||0).toFixed(2)}) is pending validation`,action_url:"/expenses",created_at:new Date().toISOString(),is_read:!1,is_actioned:!1})})}return{count:C.length,items:C}}catch(C){return console.error("Error fetching pending workflow count:",C),{count:0,items:[]}}},[]),v=x.useCallback(async()=>{try{const{data:{user:k}}=await B.auth.getUser();if(!k){r([]),s(0),o(0),l(!1);return}d(k.id);const{data:P}=await B.from("profiles").select("role").eq("id",k.id).single(),C=(P==null?void 0:P.role)||"viewer";f(C);const{count:j,items:E}=await w(k.id,C);r(E),s(j),o(j)}catch(k){console.error("Error in fetchNotifications:",k)}finally{l(!1)}},[w]),S=x.useCallback(async k=>{r(P=>P.map(C=>C.id===k?{...C,is_read:!0}:C)),s(P=>Math.max(0,P-1))},[]),g=x.useCallback(async k=>{r(P=>P.map(C=>C.id===k?{...C,is_actioned:!0,is_read:!0}:C)),s(P=>Math.max(0,P-1)),o(P=>Math.max(0,P-1))},[]),p=x.useCallback(async()=>{r(k=>k.map(P=>({...P,is_read:!0}))),s(0)},[]),y=x.useCallback(async k=>{const P=e.find(C=>C.id===k);P&&(r(C=>C.filter(j=>j.id!==k)),P.is_read||s(C=>Math.max(0,C-1)),P.notification_type==="action"&&!P.is_actioned&&o(C=>Math.max(0,C-1)))},[e]);x.useEffect(()=>{v();const k=setInterval(()=>{v()},3e4);return()=>clearInterval(k)},[v]),x.useEffect(()=>{const{data:{subscription:k}}=B.auth.onAuthStateChange((P,C)=>{P==="SIGNED_IN"?v():P==="SIGNED_OUT"&&(r([]),s(0),o(0),d(null),f(null))});return()=>k.unsubscribe()},[v]);const _={notifications:e,unreadCount:n,actionCount:i,loading:a,fetchNotifications:v,markAsRead:S,markAsActioned:g,markAllAsRead:p,dismissNotification:y};return c.jsx(ag.Provider,{value:_,children:t})}const lg=x.createContext(null);function Z_({children:t}){const{user:e,profile:r,linkedResource:n,role:s}=Cu(),{projectId:i,projectName:o,projectRef:a,currentProject:l}=ig(),[u,d]=x.useState(!1),[h,f]=x.useState([]),[m,w]=x.useState(!1),[v,S]=x.useState(null),g=x.useCallback(()=>l?{reference:a||(l==null?void 0:l.reference),name:o||(l==null?void 0:l.name),description:(l==null?void 0:l.description)||null}:null,[l,a,o]),p=x.useCallback(()=>{var j;return{name:(r==null?void 0:r.full_name)||((j=e==null?void 0:e.email)==null?void 0:j.split("@")[0])||"User",email:e==null?void 0:e.email,role:s||(r==null?void 0:r.role)||"unknown",linkedResourceName:(n==null?void 0:n.name)||null,linkedResourceId:(n==null?void 0:n.id)||null}},[e,r,n,s]),y=x.useCallback(async()=>{var E;if(!i)return null;const j=[];try{const{data:R}=await B.from("projects").select("name, code, total_budget, start_date, end_date").eq("id",i).single();R&&j.push(`Project: ${R.name} (${R.code})
Budget: ${((E=R.total_budget)==null?void 0:E.toLocaleString())||0}
Timeline: ${R.start_date} to ${R.end_date}`);const{data:D}=await B.from("milestones").select("id, name, status, progress_percent, planned_end_date").eq("project_id",i).order("planned_end_date",{ascending:!0});if((D==null?void 0:D.length)>0){const I=D.filter(O=>O.status==="Completed").length,K=D.filter(O=>O.status==="In Progress").length,se=Math.round(D.reduce((O,$)=>O+($.progress_percent||0),0)/D.length);j.push(`Milestones: ${D.length} total (${I} completed, ${K} in progress)
Average Progress: ${se}%`);const A=new Date().toISOString().split("T")[0],J=D.filter(O=>O.planned_end_date<A&&O.status!=="Completed");J.length>0&&j.push(`Overdue Milestones: ${J.map(O=>O.name).join(", ")}`)}const{data:L}=await B.from("deliverables").select("id, status").eq("project_id",i);if((L==null?void 0:L.length)>0){const I={};L.forEach(K=>{I[K.status]=(I[K.status]||0)+1}),j.push(`Deliverables: ${L.length} total
Status breakdown: ${Object.entries(I).map(([K,se])=>`${K}: ${se}`).join(", ")}`)}if(s==="admin"||s==="supplier_pm"){const{data:I}=await B.from("timesheets").select("hours_worked, status").eq("project_id",i);if((I==null?void 0:I.length)>0){const K=I.reduce((A,J)=>A+(J.hours_worked||0),0),se=I.filter(A=>A.status==="Submitted").length;j.push(`Timesheets: ${K.toFixed(1)} total hours logged
Pending approval: ${se} entries`)}}else if(n!=null&&n.id){const{data:I}=await B.from("timesheets").select("hours_worked, status").eq("resource_id",n.id);if((I==null?void 0:I.length)>0){const K=I.reduce((se,A)=>se+(A.hours_worked||0),0);j.push(`Your Timesheets: ${K.toFixed(1)} hours logged`)}}if(s==="admin"||s==="supplier_pm"){const{data:I}=await B.from("expenses").select("amount, status, is_chargeable").eq("project_id",i);if((I==null?void 0:I.length)>0){const K=I.reduce((A,J)=>A+(J.amount||0),0),se=I.filter(A=>A.status==="Submitted").length;j.push(`Expenses: ${K.toLocaleString()} total claimed
Pending validation: ${se} entries`)}}if(s==="admin"||s==="supplier_pm"||s==="customer_pm"){const{data:I}=await B.from("resources").select("id, name, days_allocated, days_used").eq("project_id",i);if((I==null?void 0:I.length)>0){const K=I.reduce((se,A)=>se+(A.days_allocated||0),0);j.push(`Resources: ${I.length} team members
Total days allocated: ${K}`)}}return j.join(`

`)}catch(R){return console.error("Error fetching data context:",R),null}},[i,s,n]),_=x.useCallback(async j=>{if(!j.trim()||m)return;const E={role:"user",content:j.trim()};f(R=>[...R,E]),w(!0),S(null);try{const R=g(),D=p(),L=await y(),I=[...h.slice(-9),E].map(A=>({role:A.role,content:A.content})),K=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:I,projectContext:R,userContext:D,dataContext:L})});if(!K.ok)throw new Error("Failed to get response");const se=await K.json();f(A=>[...A,{role:"assistant",content:se.message}])}catch(R){console.error("Chat error:",R),S("Failed to send message. Please try again."),f(D=>D.slice(0,-1))}finally{w(!1)}},[h,m,g,p,y]),k=x.useCallback(()=>{f([]),S(null)},[]),P=x.useCallback(()=>{d(j=>!j)},[]),C={isOpen:u,setIsOpen:d,toggleChat:P,messages:h,isLoading:m,error:v,sendMessage:_,clearChat:k};return c.jsx(lg.Provider,{value:C,children:t})}function e1(){const t=x.useContext(lg);if(!t)throw new Error("useChat must be used within a ChatProvider");return t}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),W=(t,e)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>x.createElement("svg",{ref:d,...t1,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${r1(t)}`,a].join(" "),...u},[...e.map(([h,f])=>x.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=W("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=W("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=W("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=W("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=W("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=W("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=W("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=W("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=W("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=W("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=W("GanttChart",[["path",{d:"M8 6h10",key:"9lnwnk"}],["path",{d:"M6 12h9",key:"1g9pqf"}],["path",{d:"M11 18h7",key:"c8dzvl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=W("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=W("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=W("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=W("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=W("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=W("Milestone",[["path",{d:"M18 6H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h13l4-3.5L18 6Z",key:"1mp5s7"}],["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=W("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=W("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=W("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=W("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=W("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=W("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=W("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class R1 extends kl.Component{constructor(r){super(r);vo(this,"handleReload",()=>{window.location.reload()});vo(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r),console.error("Component stack:",n.componentStack),this.setState({errorInfo:n})}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:c.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"3rem",backgroundColor:"#fef2f2",borderRadius:"12px",margin:"1rem",border:"1px solid #fecaca"},children:[c.jsx(ug,{size:48,style:{color:"#dc2626",marginBottom:"1rem"}}),c.jsx("h2",{style:{color:"#991b1b",margin:"0 0 0.5rem 0",fontSize:"1.25rem",fontWeight:"600"},children:"Something went wrong"}),c.jsx("p",{style:{color:"#64748b",margin:"0 0 1.5rem 0",textAlign:"center",maxWidth:"400px"},children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred. Please try again."}),c.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[c.jsx("button",{onClick:this.handleReset,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1.25rem",backgroundColor:"white",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Try Again"}),c.jsxs("button",{onClick:this.handleReload,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.625rem 1.25rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:[c.jsx(vl,{size:16}),"Reload Page"]})]})]}):this.props.children}}function Ru({message:t,size:e="medium",fullPage:r=!1}){const n={small:{icon:16,text:"0.75rem",padding:"0.5rem"},medium:{icon:24,text:"0.875rem",padding:"1.5rem"},large:{icon:40,text:"1rem",padding:"3rem"}},s=n[e]||n.medium,i={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:s.padding,...r&&{minHeight:"60vh"}},o={animation:"spin 1s linear infinite",color:"#3b82f6"},a={marginTop:"0.75rem",color:"#64748b",fontSize:s.text};return c.jsxs("div",{style:i,children:[c.jsx("style",{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `}),c.jsx(dg,{size:s.icon,style:o}),t&&c.jsx("p",{style:a,children:t})]})}const T1={background:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite"};function Ze({width:t="100%",height:e="1rem",style:r={},className:n=""}){return c.jsxs(c.Fragment,{children:[c.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: 200% 0; }
          100% { background-position: -200% 0; }
        }
      `}),c.jsx("div",{className:n,style:{width:t,height:e,borderRadius:"4px",...T1,...r}})]})}function wl({width:t="100%",lines:e=1}){return c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:Array.from({length:e}).map((r,n)=>c.jsx(Ze,{width:n===e-1&&e>1?"70%":t,height:"1rem"},n))})}function O1(){return c.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"1rem"},children:[c.jsx(Ze,{width:"48px",height:"48px",style:{borderRadius:"12px"}}),c.jsxs("div",{style:{flex:1},children:[c.jsx(Ze,{width:"60%",height:"0.875rem",style:{marginBottom:"0.5rem"}}),c.jsx(Ze,{width:"40%",height:"1.5rem"})]})]})}function I1({columns:t=6}){return c.jsx("tr",{children:Array.from({length:t}).map((e,r)=>c.jsx("td",{style:{padding:"0.75rem 1rem"},children:c.jsx(Ze,{width:r===0?"80%":r===t-1?"60px":"70%",height:"1rem"})},r))})}function ia({hasHeader:t=!0}){return c.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[t&&c.jsx(Ze,{width:"40%",height:"1.5rem",style:{marginBottom:"1rem"}}),c.jsx(wl,{lines:3})]})}function Ln({type:t="text",count:e=1,...r}){return(()=>{switch(t){case"text":return c.jsx(wl,{...r});case"stat-card":case"stats":return c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:Array.from({length:e}).map((s,i)=>c.jsx(O1,{},i))});case"table":return c.jsx("div",{className:"card",children:c.jsxs("table",{children:[c.jsx("thead",{children:c.jsx("tr",{children:Array.from({length:r.columns||6}).map((s,i)=>c.jsx("th",{style:{padding:"0.75rem 1rem"},children:c.jsx(Ze,{width:"60%",height:"0.875rem"})},i))})}),c.jsx("tbody",{children:Array.from({length:r.rows||5}).map((s,i)=>c.jsx(I1,{columns:r.columns||6},i))})]})});case"card":return c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Array.from({length:e}).map((s,i)=>c.jsx(ia,{...r},i))});case"page":return c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx(Ze,{width:"200px",height:"1.75rem",style:{marginBottom:"0.5rem"}}),c.jsx(Ze,{width:"300px",height:"1rem"})]}),c.jsx(Ze,{width:"120px",height:"40px",style:{borderRadius:"8px"}})]}),c.jsx(Ln,{type:"stats",count:4}),c.jsx(Ln,{type:"table",rows:8,columns:6})]});case"detail":return c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[c.jsx(Ze,{width:"80px",height:"36px",style:{borderRadius:"8px"}}),c.jsx(Ze,{width:"250px",height:"1.75rem"})]}),c.jsx(Ln,{type:"stats",count:4}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx(ia,{}),c.jsx(ia,{})]}),c.jsx(Ln,{type:"table",rows:5,columns:5})]});default:return c.jsx(wl,{...r})}})()}function Zs({icon:t,label:e,value:r,subtext:n,color:s="#3b82f6",borderColor:i,backgroundColor:o,style:a={},onClick:l}){const u={...i&&{borderLeft:`4px solid ${i}`},...o&&{backgroundColor:o},...l&&{cursor:"pointer"},...a};return c.jsxs("div",{className:"stat-card",style:u,onClick:l,role:l?"button":void 0,tabIndex:l?0:void 0,children:[c.jsxs("div",{className:"stat-label",children:[t&&c.jsx(t,{size:20,style:{color:s}}),e]}),c.jsx("div",{className:"stat-value",style:{color:s},children:r}),n&&c.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:n})]})}function A1({icon:t,title:e,subtitle:r,children:n,style:s={}}){return c.jsxs("div",{className:"page-header",style:s,children:[c.jsxs("div",{className:"page-title",children:[t&&c.jsx(t,{size:28}),c.jsxs("div",{children:[c.jsx("h1",{children:e}),r&&c.jsx("p",{children:r})]})]}),n&&c.jsx("div",{className:"page-actions",children:n})]})}const kd={Completed:{bg:"#dcfce7",color:"#16a34a"},"In Progress":{bg:"#dbeafe",color:"#2563eb"},"Not Started":{bg:"#f1f5f9",color:"#64748b"},Approved:{bg:"#dcfce7",color:"#16a34a"},Submitted:{bg:"#fef3c7",color:"#d97706"},Draft:{bg:"#f1f5f9",color:"#64748b"},Rejected:{bg:"#fee2e2",color:"#dc2626"},Validated:{bg:"#dcfce7",color:"#16a34a"},Delivered:{bg:"#dcfce7",color:"#16a34a"},"Under Review":{bg:"#fef3c7",color:"#d97706"},"Rework Required":{bg:"#fee2e2",color:"#dc2626"},Signed:{bg:"#dcfce7",color:"#16a34a"},"Pending Customer Signature":{bg:"#fef3c7",color:"#d97706"},"Pending Supplier Signature":{bg:"#dbeafe",color:"#2563eb"},High:{bg:"#fee2e2",color:"#dc2626"},Medium:{bg:"#fef3c7",color:"#d97706"},Low:{bg:"#dcfce7",color:"#16a34a"},Active:{bg:"#dcfce7",color:"#16a34a"},Inactive:{bg:"#f1f5f9",color:"#64748b"},Yes:{bg:"#dcfce7",color:"#16a34a"},No:{bg:"#f1f5f9",color:"#64748b"}};function N1({status:t,size:e="medium",customStyle:r,style:n={}}){if(!t)return null;const s=r||kd[t]||kd["Not Started"],i={small:{padding:"0.15rem 0.4rem",fontSize:"0.75rem"},medium:{padding:"0.25rem 0.5rem",fontSize:"0.85rem"},large:{padding:"0.35rem 0.75rem",fontSize:"0.95rem"}};return c.jsx("span",{style:{display:"inline-block",borderRadius:"4px",fontWeight:"500",whiteSpace:"nowrap",backgroundColor:s.bg,color:s.color,...i[e],...n},children:t})}const Ed={success:{icon:i1,bgColor:"#dcfce7",borderColor:"#86efac",textColor:"#166534",iconColor:"#16a34a"},error:{icon:C1,bgColor:"#fee2e2",borderColor:"#fecaca",textColor:"#991b1b",iconColor:"#dc2626"},warning:{icon:ug,bgColor:"#fef3c7",borderColor:"#fde68a",textColor:"#92400e",iconColor:"#d97706"},info:{icon:p1,bgColor:"#dbeafe",borderColor:"#93c5fd",textColor:"#1e40af",iconColor:"#3b82f6"}};function M1({id:t,message:e,type:r="info",duration:n=4e3,onClose:s}){const i=Ed[r]||Ed.info,o=i.icon;return x.useEffect(()=>{if(n>0){const a=setTimeout(()=>{s(t)},n);return()=>clearTimeout(a)}},[t,n,s]),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1rem",backgroundColor:i.bgColor,border:`1px solid ${i.borderColor}`,borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",minWidth:"300px",maxWidth:"450px",animation:"slideIn 0.3s ease-out"},children:[c.jsx(o,{size:20,style:{color:i.iconColor,flexShrink:0}}),c.jsx("span",{style:{color:i.textColor,fontSize:"0.875rem",fontWeight:"500",flex:1},children:e}),c.jsx("button",{onClick:()=>s(t),style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",color:i.textColor,opacity:.7,borderRadius:"4px"},onMouseEnter:a=>a.target.style.opacity=1,onMouseLeave:a=>a.target.style.opacity=.7,children:c.jsx(vs,{size:16})})]})}function L1({toasts:t,removeToast:e}){return t.length===0?null:c.jsxs("div",{style:{position:"fixed",top:"1rem",right:"1rem",zIndex:9999,display:"flex",flexDirection:"column",gap:"0.5rem"},children:[c.jsx("style",{children:`
          @keyframes slideIn {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
        `}),t.map(r=>c.jsx(M1,{id:r.id,message:r.message,type:r.type,duration:r.duration,onClose:e},r.id))]})}const fg=x.createContext(null),D1=4e3;function U1({children:t}){const[e,r]=x.useState([]),n=x.useCallback(d=>{r(h=>h.filter(f=>f.id!==d))},[]),s=x.useCallback((d,h="info",f=D1)=>{const m=Date.now()+Math.random(),w={id:m,message:d,type:h,duration:f};return r(v=>[...v,w]),m},[]),i=x.useCallback((d,h)=>s(d,"success",h),[s]),o=x.useCallback((d,h)=>s(d,"error",h||6e3),[s]),a=x.useCallback((d,h)=>s(d,"warning",h),[s]),l=x.useCallback((d,h)=>s(d,"info",h),[s]),u={showToast:s,showSuccess:i,showError:o,showWarning:a,showInfo:l,removeToast:n};return c.jsxs(fg.Provider,{value:u,children:[t,c.jsx(L1,{toasts:e,removeToast:n})]})}function $1(){const t=x.useContext(fg);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function z1(){const{isOpen:t,toggleChat:e,messages:r,isLoading:n,error:s,sendMessage:i,clearChat:o}=e1(),[a,l]=x.useState(""),u=x.useRef(null),d=x.useRef(null);x.useEffect(()=>{var v;(v=u.current)==null||v.scrollIntoView({behavior:"smooth"})},[r]),x.useEffect(()=>{t&&setTimeout(()=>{var v;return(v=d.current)==null?void 0:v.focus()},100)},[t]);const h=v=>{v.preventDefault(),a.trim()&&!n&&(i(a),l(""))},f=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),h(v))},m={role:"assistant",content:`Hello! I'm your AMSF001 Project Assistant. I can help you with:

 **Using the app** - How to navigate, submit timesheets, review deliverables, etc.
 **Your project data** - Ask about milestones, budgets, team utilization, and more
 **Your permissions** - What actions you can perform in your role

How can I help you today?`},w=r.length===0?[m]:r;return c.jsxs(c.Fragment,{children:[c.jsx("button",{className:`chat-toggle-btn ${t?"chat-open":""}`,onClick:e,"aria-label":t?"Close chat":"Open AI assistant",children:t?c.jsx(vs,{size:24}):c.jsxs(c.Fragment,{children:[c.jsx(w1,{size:24}),c.jsx(k1,{className:"chat-sparkle",size:12})]})}),c.jsxs("div",{className:`chat-panel ${t?"chat-panel-open":""}`,children:[c.jsxs("div",{className:"chat-header",children:[c.jsxs("div",{className:"chat-header-title",children:[c.jsx(na,{size:20}),c.jsx("span",{children:"Project Assistant"})]}),c.jsxs("div",{className:"chat-header-actions",children:[r.length>0&&c.jsx("button",{className:"chat-clear-btn",onClick:o,title:"Clear chat",children:c.jsx(E1,{size:16})}),c.jsx("button",{className:"chat-close-btn",onClick:e,"aria-label":"Close chat",children:c.jsx(vs,{size:20})})]})]}),c.jsxs("div",{className:"chat-messages",children:[w.map((v,S)=>c.jsxs("div",{className:`chat-message ${v.role==="user"?"chat-message-user":"chat-message-assistant"}`,children:[c.jsx("div",{className:"chat-message-avatar",children:v.role==="user"?c.jsx(j1,{size:16}):c.jsx(na,{size:16})}),c.jsx("div",{className:"chat-message-content",children:c.jsx(B1,{content:v.content})})]},S)),n&&c.jsxs("div",{className:"chat-message chat-message-assistant",children:[c.jsx("div",{className:"chat-message-avatar",children:c.jsx(na,{size:16})}),c.jsxs("div",{className:"chat-message-content chat-typing",children:[c.jsx(dg,{className:"chat-typing-icon",size:16}),c.jsx("span",{children:"Thinking..."})]})]}),s&&c.jsx("div",{className:"chat-error",children:s}),c.jsx("div",{ref:u})]}),c.jsxs("form",{className:"chat-input-form",onSubmit:h,children:[c.jsx("textarea",{ref:d,className:"chat-input",value:a,onChange:v=>l(v.target.value),onKeyDown:f,placeholder:"Ask me anything about the project...",rows:1,disabled:n}),c.jsx("button",{type:"submit",className:"chat-send-btn",disabled:!a.trim()||n,"aria-label":"Send message",children:c.jsx(S1,{size:18})})]}),c.jsx("div",{className:"chat-footer",children:"Powered by Claude AI"})]})]})}function B1({content:t}){const e=t.split(`
`);return c.jsx("div",{className:"chat-message-text",children:e.map((r,n)=>{if(r.startsWith(" ")||r.startsWith("- ")){const s=r.substring(2);return c.jsxs("div",{className:"chat-bullet",children:[c.jsx("span",{className:"chat-bullet-dot",children:""}),c.jsx("span",{dangerouslySetInnerHTML:{__html:jd(s)}})]},n)}return r.trim()===""?c.jsx("div",{className:"chat-line-break"},n):c.jsx("p",{dangerouslySetInnerHTML:{__html:jd(r)}},n)})})}function jd(t){return t.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>")}function F1(){const[t,e]=x.useState(!1),r=x.useRef(null),n=wn(),{notifications:s,unreadCount:i,actionCount:o,loading:a,markAsRead:l,markAsActioned:u,markAllAsRead:d,dismissNotification:h}=Y_();x.useEffect(()=>{function _(k){r.current&&!r.current.contains(k.target)&&e(!1)}return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const f=_=>{switch(_){case"timesheet":return c.jsx(ys,{size:16});case"expense":return c.jsx(hg,{size:16});case"deliverable":return c.jsx(cg,{size:16});case"certificate":return c.jsx(Wi,{size:16});default:return c.jsx(ra,{size:16})}},m=_=>_.notification_type==="action"?_.is_actioned?"#10b981":"#f59e0b":"#3b82f6",w=async _=>{_.is_read||await l(_.id),_.action_url&&(n(_.action_url),e(!1))},v=async(_,k)=>{_.stopPropagation(),await u(k.id),k.action_url&&(n(k.action_url),e(!1))},S=async(_,k)=>{_.stopPropagation(),await h(k.id)},g=_=>{const k=new Date(_),C=new Date-k,j=Math.floor(C/6e4),E=Math.floor(C/36e5),R=Math.floor(C/864e5);return j<1?"Just now":j<60?`${j}m ago`:E<24?`${E}h ago`:R<7?`${R}d ago`:k.toLocaleDateString("en-GB",{day:"numeric",month:"short"})},p=s.slice(0,10),y=s.filter(_=>_.notification_type==="action"&&!_.is_actioned);return c.jsxs("div",{className:"notification-bell-container",ref:r,style:{position:"relative"},children:[c.jsxs("button",{onClick:()=>e(!t),style:{position:"relative",background:"none",border:"none",cursor:"pointer",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s",backgroundColor:t?"#f1f5f9":"transparent"},onMouseEnter:_=>_.target.style.backgroundColor="#f1f5f9",onMouseLeave:_=>_.target.style.backgroundColor=t?"#f1f5f9":"transparent",title:`${o} actions pending`,children:[c.jsx(ra,{size:22,color:"#64748b"}),(i>0||o>0)&&c.jsx("span",{style:{position:"absolute",top:"2px",right:"2px",backgroundColor:o>0?"#ef4444":"#3b82f6",color:"white",fontSize:"11px",fontWeight:"600",minWidth:"18px",height:"18px",borderRadius:"9px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 4px"},children:o>0?o:i})]}),t&&c.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"8px",width:"380px",maxHeight:"500px",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.15)",border:"1px solid #e2e8f0",zIndex:1e3,overflow:"hidden"},children:[c.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"600"},children:"Notifications"}),o>0&&c.jsxs("p",{style:{margin:"4px 0 0",fontSize:"13px",color:"#f59e0b"},children:[o," action",o!==1?"s":""," required"]})]}),i>0&&c.jsx("button",{onClick:d,style:{background:"none",border:"none",color:"#3b82f6",fontSize:"13px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},children:"Mark all read"})]}),y.length>0&&c.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#fffbeb",borderBottom:"1px solid #fef3c7"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[c.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#f59e0b",animation:"pulse 2s infinite"}}),c.jsx("span",{style:{fontWeight:"600",fontSize:"13px",color:"#92400e"},children:"Actions Requiring Attention"})]}),c.jsxs("button",{onClick:()=>{n("/workflow-summary"),e(!1)},style:{width:"100%",padding:"8px 12px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:["View Workflow Summary",c.jsx(a1,{size:16})]})]}),c.jsx("div",{style:{maxHeight:"350px",overflowY:"auto"},children:a?c.jsx("div",{style:{padding:"32px",textAlign:"center",color:"#64748b"},children:"Loading..."}):p.length===0?c.jsxs("div",{style:{padding:"32px",textAlign:"center",color:"#64748b"},children:[c.jsx(ra,{size:32,style:{marginBottom:"8px",opacity:.5}}),c.jsx("p",{style:{margin:0},children:"No notifications"})]}):p.map(_=>c.jsx("div",{onClick:()=>w(_),style:{padding:"12px 16px",borderBottom:"1px solid #f1f5f9",cursor:"pointer",backgroundColor:_.is_read?"white":"#f8fafc",transition:"background-color 0.15s"},onMouseEnter:k=>k.currentTarget.style.backgroundColor="#f1f5f9",onMouseLeave:k=>k.currentTarget.style.backgroundColor=_.is_read?"white":"#f8fafc",children:c.jsxs("div",{style:{display:"flex",gap:"12px"},children:[c.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",backgroundColor:_.notification_type==="action"&&!_.is_actioned?"#fef3c7":"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",color:m(_),flexShrink:0},children:f(_.category)}),c.jsxs("div",{style:{flex:1,minWidth:0},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"8px"},children:[c.jsx("span",{style:{fontWeight:_.is_read?"400":"600",fontSize:"14px",color:"#1e293b"},children:_.title}),c.jsx("span",{style:{fontSize:"12px",color:"#94a3b8",flexShrink:0},children:g(_.created_at)})]}),c.jsx("p",{style:{margin:"4px 0 0",fontSize:"13px",color:"#64748b",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.message}),c.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"8px"},children:[_.notification_type==="action"&&!_.is_actioned&&_.action_label&&c.jsx("button",{onClick:k=>v(k,_),style:{padding:"4px 12px",fontSize:"12px",fontWeight:"500",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:_.action_label}),_.notification_type==="info"&&c.jsxs("button",{onClick:k=>S(k,_),style:{padding:"4px 8px",fontSize:"12px",backgroundColor:"transparent",color:"#64748b",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(vs,{size:12}),"Dismiss"]}),_.is_actioned&&c.jsxs("span",{style:{padding:"4px 8px",fontSize:"12px",color:"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:[c.jsx(o1,{size:12}),"Completed"]})]})]})]})},_.id))}),s.length>10&&c.jsx("div",{style:{padding:"12px 16px",borderTop:"1px solid #e2e8f0",textAlign:"center"},children:c.jsx("button",{onClick:()=>{n("/workflow-summary"),e(!1)},style:{background:"none",border:"none",color:"#3b82f6",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"View all notifications"})})]}),c.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
      `})]})}const b={ADMIN:"admin",SUPPLIER_PM:"supplier_pm",CUSTOMER_PM:"customer_pm",CONTRIBUTOR:"contributor",VIEWER:"viewer"};function q(t,e){return e.includes(t)}function eS(t){return q(t,[b.ADMIN,b.SUPPLIER_PM])}function pg(t){return q(t,[b.CONTRIBUTOR,b.SUPPLIER_PM,b.ADMIN])}function gg(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function W1(t){return q(t,[b.CUSTOMER_PM,b.ADMIN])}function tS(t,e,r,n){var u;if(q(t,[b.ADMIN,b.SUPPLIER_PM]))return!0;let s,i,o;return typeof e=="object"&&e!==null?(s=e.status,i=e.created_by||((u=e.resource)==null?void 0:u.user_id),o=r):(s=e,i=r,o=n),i===o&&(s==="Draft"||s==="Rejected")}function rS(t,e,r,n){var l;if(t===b.ADMIN||t===b.SUPPLIER_PM)return!0;let s,i,o;return typeof e=="object"&&e!==null?(s=e.status,i=e.created_by||((l=e.resource)==null?void 0:l.user_id),o=r):(s=e,i=r,o=n),i===o&&s==="Draft"}function nS(t,e,r,n){var l;let s,i,o;return typeof e=="object"&&e!==null?(s=e.status,i=e.created_by||((l=e.resource)==null?void 0:l.user_id),o=r):(s=e,i=r,o=n),s!=="Draft"&&s!=="Rejected"?!1:q(t,[b.ADMIN,b.SUPPLIER_PM])?!0:i===o&&pg(t)}function V1(t){return q(t,[b.CONTRIBUTOR,b.SUPPLIER_PM,b.ADMIN])}function q1(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function sS(t,e,r){let n,s;return typeof e=="object"&&e!==null?(n=e.status,s=e.chargeable||e.chargeable_to_customer):(n=e,s=r),n!=="Submitted"?!1:t===b.ADMIN?!0:s?t===b.CUSTOMER_PM:t===b.SUPPLIER_PM}function H1(t){return q(t,[b.CUSTOMER_PM,b.ADMIN])}function K1(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function iS(t,e,r,n){if(q(t,[b.ADMIN,b.SUPPLIER_PM]))return!0;let s,i,o;return typeof e=="object"&&e!==null?(s=e.status,i=e.created_by,o=r):(s=e,i=r,o=n),i===o&&(s==="Draft"||s==="Rejected")}function oS(t,e,r,n){if(t===b.ADMIN||t===b.SUPPLIER_PM)return!0;let s,i,o;return typeof e=="object"&&e!==null?(s=e.status,i=e.created_by,o=r):(s=e,i=r,o=n),i===o&&s==="Draft"}function G1(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function J1(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function Q1(t){return t===b.ADMIN}function Y1(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function X1(t){return q(t,[b.CUSTOMER_PM,b.SUPPLIER_PM,b.ADMIN])}function Z1(t){return q(t,[b.CUSTOMER_PM,b.SUPPLIER_PM,b.ADMIN])}function aS(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function lS(t,e,r){var n;return q(t,[b.CUSTOMER_PM,b.SUPPLIER_PM,b.ADMIN])?!0:t===b.CONTRIBUTOR?(e==null?void 0:e.assigned_to)===r||((n=e==null?void 0:e.resource)==null?void 0:n.user_id)===r:!1}function ex(t){return q(t,[b.CUSTOMER_PM,b.ADMIN])}function uS(t){return q(t,[b.CONTRIBUTOR,b.SUPPLIER_PM,b.ADMIN])}function ho(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function cS(t){return ho(t)}function dS(t){return ho(t)}function hS(t){return ho(t)}function fo(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function fS(t){return fo(t)}function pS(t){return fo(t)}function gS(t){return fo(t)}function Tu(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function mS(t){return Tu(t)}function yS(t){return Tu(t)}function tx(t){return t===b.ADMIN}function rx(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function vS(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function mg(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function nx(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function po(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function wS(t){return po(t)}function _S(t){return po(t)}function xS(t){return po(t)}function sx(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function ix(t){return q(t,[b.CUSTOMER_PM,b.ADMIN])}function SS(t){return q(t,[b.CUSTOMER_PM,b.SUPPLIER_PM,b.ADMIN])}function ox(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function bS(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function ax(t){return t===b.ADMIN}function kS(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function lx(t){return q(t,[b.CUSTOMER_PM,b.SUPPLIER_PM,b.ADMIN])}function ux(t){return q(t,[b.CUSTOMER_PM,b.SUPPLIER_PM,b.ADMIN])}function cx(t){return q(t,[b.SUPPLIER_PM,b.ADMIN])}function ES(t){return mg(t)}function jS(t){return q(t,[b.CUSTOMER_PM,b.SUPPLIER_PM,b.ADMIN])}function dx(t,e,r){return!e||!Array.isArray(e)?[]:gg(t)?e:e.filter(n=>n.user_id===r)}function PS(t,e){return!t||!Array.isArray(t)?null:t.find(r=>r.user_id===e)||null}function hx(t,e,r){const n=dx(t,e,r);return n.length===0?null:n.find(i=>i.user_id===r)||n[0]}function CS(t,e,r){const n=hx(t,e,r);return(n==null?void 0:n.id)||null}function fx(t){const e={admin:{label:"Admin",color:"#7c3aed",bg:"#f3e8ff"},supplier_pm:{label:"Supplier PM",color:"#059669",bg:"#d1fae5"},customer_pm:{label:"Customer PM",color:"#d97706",bg:"#fef3c7"},contributor:{label:"Contributor",color:"#2563eb",bg:"#dbeafe"},viewer:{label:"Viewer",color:"#64748b",bg:"#f1f5f9"}};return e[t]||e.viewer}function px(t){return fx(t).label}const RS=[{value:"viewer",label:"Viewer",color:"#64748b",bg:"#f1f5f9"},{value:"contributor",label:"Contributor",color:"#2563eb",bg:"#dbeafe"},{value:"customer_pm",label:"Customer PM",color:"#d97706",bg:"#fef3c7"},{value:"supplier_pm",label:"Supplier PM",color:"#059669",bg:"#d1fae5"},{value:"admin",label:"Admin",color:"#7c3aed",bg:"#f3e8ff"}];function TS(t){return{role:t,roleLabel:px(t),timesheets:{canAdd:pg(t),canAddForOthers:gg(t),canApprove:W1(t)},expenses:{canAdd:V1(t),canAddForOthers:q1(t),canValidateChargeable:H1(t),canValidateNonChargeable:K1(t)},milestones:{canCreate:G1(t),canEdit:J1(t),canDelete:Q1(t),canUseGantt:Y1(t)},deliverables:{canCreate:X1(t),canEdit:Z1(t),canReview:ex(t)},kpis:{canManage:ho(t)},qualityStandards:{canManage:fo(t)},resources:{canManage:Tu(t),canDelete:tx(t),canSeeCostPrice:rx(t),canSeeMargins:mg(t)},partners:{canView:nx(t),canManage:po(t)},certificates:{canSignAsSupplier:sx(t),canSignAsCustomer:ix(t)},admin:{canAccessSettings:ox(t),canManageUsers:ax(t),canViewWorkflowSummary:lx(t)},invoicing:{canGenerateCustomerInvoice:ux(t),canGenerateThirdPartyInvoice:cx(t)}}}const go={workflowSummary:{id:"workflowSummary",path:"/workflow-summary",icon:u1,label:"Workflow Summary",allowedRoles:[b.ADMIN,b.SUPPLIER_PM,b.CUSTOMER_PM,b.CONTRIBUTOR],readOnlyRoles:[]},dashboard:{id:"dashboard",path:"/dashboard",icon:m1,label:"Dashboard",allowedRoles:[b.ADMIN,b.SUPPLIER_PM,b.CUSTOMER_PM,b.VIEWER],readOnlyRoles:[b.VIEWER]},reports:{id:"reports",path:"/reports",icon:cg,label:"Reports",allowedRoles:[b.ADMIN,b.SUPPLIER_PM,b.CUSTOMER_PM],readOnlyRoles:[]},gantt:{id:"gantt",path:"/gantt",icon:h1,label:"Gantt Chart",allowedRoles:[b.ADMIN,b.SUPPLIER_PM,b.CUSTOMER_PM,b.VIEWER],readOnlyRoles:[b.VIEWER,b.CUSTOMER_PM]},milestones:{id:"milestones",path:"/milestones",icon:_1,label:"Milestones",allowedRoles:[b.ADMIN,b.SUPPLIER_PM,b.CUSTOMER_PM,b.VIEWER],readOnlyRoles:[b.VIEWER]},deliverables:{id:"deliverables",path:"/deliverables",icon:yl,label:"Deliverables",allowedRoles:[b.ADMIN,b.SUPPLIER_PM,b.CUSTOMER_PM,b.CONTRIBUTOR,b.VIEWER],readOnlyRoles:[b.VIEWER]},kpis:{id:"kpis",path:"/kpis",icon:hi,label:"KPIs",allowedRoles:[b.ADMIN,b.SUPPLIER_PM,b.CUSTOMER_PM,b.VIEWER],readOnlyRoles:[b.VIEWER,b.CUSTOMER_PM]},qualityStandards:{id:"qualityStandards",path:"/quality-standards",icon:Wi,label:"Quality Standards",allowedRoles:[b.ADMIN,b.SUPPLIER_PM,b.CUSTOMER_PM,b.VIEWER],readOnlyRoles:[b.VIEWER,b.CUSTOMER_PM]},resources:{id:"resources",path:"/resources",icon:P1,label:"Resources",allowedRoles:[b.ADMIN,b.SUPPLIER_PM],readOnlyRoles:[]},timesheets:{id:"timesheets",path:"/timesheets",icon:ys,label:"Timesheets",allowedRoles:[b.ADMIN,b.SUPPLIER_PM,b.CUSTOMER_PM,b.CONTRIBUTOR],readOnlyRoles:[]},expenses:{id:"expenses",path:"/expenses",icon:hg,label:"Expenses",allowedRoles:[b.ADMIN,b.SUPPLIER_PM,b.CUSTOMER_PM,b.CONTRIBUTOR],readOnlyRoles:[]},partners:{id:"partners",path:"/partners",icon:s1,label:"Partners",allowedRoles:[b.ADMIN,b.SUPPLIER_PM],readOnlyRoles:[]},users:{id:"users",path:"/users",icon:l1,label:"Users",allowedRoles:[b.ADMIN,b.SUPPLIER_PM],readOnlyRoles:[b.SUPPLIER_PM]},settings:{id:"settings",path:"/settings",icon:b1,label:"Settings",allowedRoles:[b.ADMIN,b.SUPPLIER_PM],readOnlyRoles:[]}},Vi={[b.ADMIN]:["workflowSummary","dashboard","reports","gantt","milestones","deliverables","kpis","qualityStandards","resources","timesheets","expenses","partners","users","settings"],[b.SUPPLIER_PM]:["workflowSummary","dashboard","reports","gantt","milestones","deliverables","kpis","qualityStandards","resources","timesheets","expenses","partners","users","settings"],[b.CUSTOMER_PM]:["workflowSummary","dashboard","reports","gantt","milestones","deliverables","kpis","qualityStandards","timesheets","expenses"],[b.CONTRIBUTOR]:["workflowSummary","timesheets","expenses","deliverables"],[b.VIEWER]:["dashboard","gantt","milestones","deliverables","kpis","qualityStandards"]};function gx(t){return(Vi[t]||Vi[b.VIEWER]).map(r=>{var n;return(n=go[r])==null?void 0:n.path}).filter(Boolean)}function yg(t){return(Vi[t]||Vi[b.VIEWER]).map(r=>go[r]).filter(r=>r&&r.allowedRoles.includes(t))}function Pd(t,e){var n;const r=go[e];return r?((n=r.readOnlyRoles)==null?void 0:n.includes(t))||!1:!0}function mx(t){return t!==b.VIEWER}function yx(t){return Object.values(go).find(e=>e.path===t)||null}function vx(t){const e=yx(t);return(e==null?void 0:e.id)||null}function wx(t,e){const r=yg(t);if(!e||!Array.isArray(e)||e.length===0)return r;const n={};r.forEach(i=>{n[i.path]=i});const s=[];return e.forEach(i=>{n[i]&&(s.push(n[i]),delete n[i])}),Object.values(n).forEach(i=>{s.push(i)}),s}function _x(t,e){if(!e||e.length===0)return!0;const r=gx(t);return e.length!==r.length?!1:e.every((n,s)=>n===r[s])}const Cd={[b.ADMIN]:{label:"Administrator",shortLabel:"Admin",color:"#7c3aed",bg:"#f3e8ff",description:"Full system access"},[b.SUPPLIER_PM]:{label:"Supplier PM",shortLabel:"Supplier PM",color:"#059669",bg:"#d1fae5",description:"Manage resources, partners, and invoices"},[b.CUSTOMER_PM]:{label:"Customer PM",shortLabel:"Customer PM",color:"#d97706",bg:"#fef3c7",description:"Approve timesheets and validate expenses"},[b.CONTRIBUTOR]:{label:"Contributor",shortLabel:"Contributor",color:"#2563eb",bg:"#dbeafe",description:"Submit timesheets and expenses"},[b.VIEWER]:{label:"Viewer",shortLabel:"Viewer",color:"#64748b",bg:"#f1f5f9",description:"Read-only access to reports"}};function xx(t){return Cd[t]||Cd[b.VIEWER]}function Sx({children:t}){const e=Rr(),r=wn(),{showSuccess:n,showError:s}=$1(),{user:i,profile:o,role:a,signOut:l}=Cu(),[u,d]=x.useState(!0),[h,f]=x.useState(null),[m,w]=x.useState(null),[v,S]=x.useState(null),g=x.useRef(null),p=x.useMemo(()=>xx(a),[a]),y=x.useMemo(()=>o&&(o.full_name||o.email||(i==null?void 0:i.email))||"User",[o,i]),_=x.useMemo(()=>{if(!o)return"U";if(o.full_name){const A=o.full_name.split(" ");return A.length>=2?A[0][0]+A[A.length-1][0]:o.full_name[0].toUpperCase()}return y[0].toUpperCase()},[o,y]);x.useEffect(()=>{o!=null&&o.nav_order&&Array.isArray(o.nav_order)&&f(o.nav_order)},[o]);async function k(){await l(),r("/login")}const P=x.useMemo(()=>mx(a),[a]),C=x.useMemo(()=>h&&!_x(a,h),[a,h]),j=x.useMemo(()=>{const A=yg(a);return h&&h.length>0?wx(a,h):A},[a,h]),E=x.useMemo(()=>{const A=vx(e.pathname);return A?Pd(a,A):!1},[a,e.pathname]);function R(A,J){P&&(g.current=A.target,w(J),setTimeout(()=>{g.current&&(g.current.style.opacity="0.5")},0))}function D(A,J){P&&J!==m&&S(J)}function L(A){P&&A.preventDefault()}function I(){if(P){if(g.current&&(g.current.style.opacity="1"),m!==null&&v!==null&&m!==v){const A=[...j],J=A[m];A.splice(m,1),A.splice(v,0,J);const O=A.map($=>$.path);f(O),K(O)}w(null),S(null),g.current=null}}async function K(A){if(i)try{const{error:J}=await B.from("profiles").update({nav_order:A}).eq("id",i.id);J&&(console.error("Error saving nav order:",J),s("Failed to save menu order"))}catch(J){console.error("Error saving nav order:",J),s("Failed to save menu order")}}async function se(){if(i)try{const{error:A}=await B.from("profiles").update({nav_order:null}).eq("id",i.id);if(A){console.error("Error resetting nav order:",A),s("Failed to reset menu order");return}f(null),n("Menu order reset to default")}catch(A){console.error("Error resetting nav order:",A),s("Failed to reset menu order")}}return c.jsxs("div",{style:{display:"flex",minHeight:"100vh",backgroundColor:"#f8fafc"},children:[c.jsxs("aside",{style:{width:u?"260px":"70px",backgroundColor:"white",borderRight:"1px solid #e2e8f0",transition:"width 0.3s ease",display:"flex",flexDirection:"column",position:"fixed",height:"100vh",zIndex:50},children:[c.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[u&&c.jsxs("div",{children:[c.jsx("h2",{style:{margin:0,fontSize:"1.125rem",fontWeight:"700",color:"#0f172a"},children:"AMSF001"}),c.jsx("span",{style:{fontSize:"0.75rem",color:"#64748b"},children:"Project Tracker"})]}),c.jsx("button",{onClick:()=>d(!u),style:{padding:"0.5rem",borderRadius:"6px",border:"none",backgroundColor:"#f1f5f9",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:u?c.jsx(vs,{size:20}):c.jsx(v1,{size:20})})]}),c.jsx("nav",{style:{flex:1,padding:"0.5rem",overflowY:"auto"},children:j.map((A,J)=>{const O=A.icon,$=e.pathname===A.path||A.path!=="/dashboard"&&e.pathname.startsWith(A.path),F=m===J,Y=v===J,ie=Pd(a,A.id);return c.jsx("div",{draggable:P,onDragStart:st=>R(st,J),onDragEnter:st=>D(st,J),onDragOver:L,onDragEnd:I,style:{position:"relative",marginBottom:"0.25rem",borderTop:Y&&m>J?"2px solid #10b981":"2px solid transparent",borderBottom:Y&&m<J?"2px solid #10b981":"2px solid transparent",transition:"border-color 0.15s ease"},children:c.jsxs(vt,{to:A.path,style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:u?"0.75rem 1rem":"0.75rem",borderRadius:"8px",textDecoration:"none",color:$?"#10b981":"#64748b",backgroundColor:$?"#f0fdf4":F?"#f1f5f9":"transparent",fontWeight:$?"600":"500",justifyContent:u?"flex-start":"center",transition:"all 0.15s ease",cursor:P?"grab":"pointer"},children:[u&&P&&c.jsx(f1,{size:14,style:{color:"#cbd5e1",marginRight:"-0.25rem",flexShrink:0}}),c.jsx(O,{size:20}),u&&c.jsx("span",{style:{flex:1},children:A.label}),u&&ie&&c.jsx("span",{style:{fontSize:"0.6rem",padding:"0.125rem 0.375rem",backgroundColor:"#f1f5f9",color:"#64748b",borderRadius:"4px",fontWeight:"500"},children:"VIEW"})]})},A.path)})}),u&&P&&C&&c.jsx("div",{style:{padding:"0.5rem 1rem",borderTop:"1px solid #e2e8f0"},children:c.jsxs("button",{onClick:se,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.5rem",backgroundColor:"#f8fafc",color:"#64748b",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500",transition:"all 0.15s ease"},onMouseEnter:A=>{A.currentTarget.style.backgroundColor="#f1f5f9",A.currentTarget.style.color="#475569"},onMouseLeave:A=>{A.currentTarget.style.backgroundColor="#f8fafc",A.currentTarget.style.color="#64748b"},children:[c.jsx(x1,{size:14}),"Reset Menu Order"]})}),c.jsx("div",{style:{padding:"1rem",borderTop:"1px solid #e2e8f0",backgroundColor:"#f8fafc"},children:c.jsxs("button",{onClick:k,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:u?"flex-start":"center",gap:"0.75rem",padding:"0.75rem",backgroundColor:"#fef2f2",color:"#ef4444",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:[c.jsx(y1,{size:20}),u&&c.jsx("span",{children:"Logout"})]})})]}),c.jsxs("main",{style:{flex:1,marginLeft:u?"260px":"70px",transition:"margin-left 0.3s ease",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[c.jsxs("header",{style:{padding:"0.75rem 1.5rem",backgroundColor:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"1rem",position:"sticky",top:0,zIndex:40},children:[c.jsxs(vt,{to:"/account",style:{display:"flex",alignItems:"center",gap:"0.75rem",paddingRight:"1rem",borderRight:"1px solid #e2e8f0",textDecoration:"none",cursor:"pointer",borderRadius:"8px",padding:"0.5rem 1rem 0.5rem 0.75rem",marginRight:"0",transition:"background-color 0.15s ease"},onMouseEnter:A=>A.currentTarget.style.backgroundColor="#f8fafc",onMouseLeave:A=>A.currentTarget.style.backgroundColor="transparent",children:[c.jsxs("div",{style:{textAlign:"right"},children:[c.jsx("div",{style:{fontWeight:"600",fontSize:"0.875rem",color:"#1e293b"},children:y}),c.jsx("span",{style:{display:"inline-block",padding:"0.125rem 0.5rem",backgroundColor:p.bg,color:p.color,borderRadius:"4px",fontSize:"0.65rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.025em"},children:p.shortLabel})]}),c.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:p.color,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"0.8rem"},children:_})]}),c.jsx(F1,{})]}),E&&c.jsxs("div",{style:{padding:"0.5rem 1.5rem",backgroundColor:"#f1f5f9",borderBottom:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:"#64748b"},children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),c.jsx("span",{children:"You have read-only access to this page"})]}),c.jsx("div",{style:{flex:1},children:t})]})]})}function bx(){const t=wn(),[e]=mv(),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,a]=x.useState(""),[l,u]=x.useState(null),[d,h]=x.useState(null),[f,m]=x.useState(!1),[w,v]=x.useState(!1),[S,g]=x.useState(!1),[p,y]=x.useState(!1);x.useEffect(()=>{e.get("expired")==="true"&&(y(!0),window.history.replaceState({},document.title,"/login")),B.auth.getSession().then(({data:{session:E}})=>{E&&t("/dashboard",{replace:!0})});const{data:{subscription:j}}=B.auth.onAuthStateChange((E,R)=>{E==="SIGNED_IN"&&R&&t("/dashboard",{replace:!0})});return()=>j.unsubscribe()},[t,e]);const _=async j=>{j.preventDefault(),n(!0),u(null),h(null),y(!1);try{if(f){const{error:E}=await B.auth.signUp({email:s,password:o,options:{data:{full_name:s.split("@")[0]}}});if(E)throw E;h("Check your email for confirmation link!")}else{const{error:E}=await B.auth.signInWithPassword({email:s,password:o});if(E)throw E}}catch(E){u(E.message)}finally{n(!1)}},k=async j=>{if(j.preventDefault(),!s){u("Please enter your email address");return}n(!0),u(null),h(null);try{const{error:E}=await B.auth.resetPasswordForEmail(s,{redirectTo:`${window.location.origin}/reset-password`});if(E)throw E;h("Password reset email sent! Check your inbox.")}catch(E){u(E.message)}finally{n(!1)}},P=async j=>{if(j.preventDefault(),!s){u("Please enter your email address");return}n(!0),u(null),h(null);try{const{error:E}=await B.auth.resend({type:"signup",email:s});if(E)throw E;h("Verification email resent! Check your inbox.")}catch(E){u(E.message)}finally{n(!1)}},C=()=>{v(!1),g(!1),u(null),h(null),y(!1)};return w?c.jsx("div",{className:"auth-container",children:c.jsxs("div",{className:"auth-box",children:[c.jsxs("div",{className:"auth-logo",children:[c.jsx(g1,{size:40,style:{color:"var(--primary)",marginBottom:"0.5rem"}}),c.jsx("h1",{className:"auth-title",children:"Reset Password"}),c.jsx("p",{className:"auth-subtitle",children:"Enter your email to receive a reset link"})]}),c.jsxs("form",{onSubmit:k,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"email",children:"Email Address"}),c.jsx("input",{id:"email",className:"form-input",type:"email",placeholder:"you@example.com",value:s,onChange:j=>i(j.target.value),required:!0})]}),l&&c.jsxs("div",{style:{padding:"0.75rem",background:"#fee2e2",borderRadius:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#991b1b"},children:[c.jsx(ta,{size:20}),c.jsx("span",{style:{fontSize:"0.875rem"},children:l})]}),d&&c.jsxs("div",{style:{padding:"0.75rem",background:"#dcfce7",borderRadius:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534"},children:[c.jsx(sa,{size:20}),c.jsx("span",{style:{fontSize:"0.875rem"},children:d})]}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,style:{width:"100%",justifyContent:"center"},children:r?"Sending...":"Send Reset Link"})]}),c.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:c.jsx("button",{onClick:C,style:{background:"none",border:"none",color:"var(--primary)",cursor:"pointer",fontSize:"0.875rem"},children:" Back to Sign In"})})]})}):S?c.jsx("div",{className:"auth-container",children:c.jsxs("div",{className:"auth-box",children:[c.jsxs("div",{className:"auth-logo",children:[c.jsx(vl,{size:40,style:{color:"var(--primary)",marginBottom:"0.5rem"}}),c.jsx("h1",{className:"auth-title",children:"Resend Verification"}),c.jsx("p",{className:"auth-subtitle",children:"Enter your email to resend the verification link"})]}),c.jsxs("form",{onSubmit:P,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"email",children:"Email Address"}),c.jsx("input",{id:"email",className:"form-input",type:"email",placeholder:"you@example.com",value:s,onChange:j=>i(j.target.value),required:!0})]}),l&&c.jsxs("div",{style:{padding:"0.75rem",background:"#fee2e2",borderRadius:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#991b1b"},children:[c.jsx(ta,{size:20}),c.jsx("span",{style:{fontSize:"0.875rem"},children:l})]}),d&&c.jsxs("div",{style:{padding:"0.75rem",background:"#dcfce7",borderRadius:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534"},children:[c.jsx(sa,{size:20}),c.jsx("span",{style:{fontSize:"0.875rem"},children:d})]}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,style:{width:"100%",justifyContent:"center"},children:r?"Sending...":"Resend Verification Email"})]}),c.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:c.jsx("button",{onClick:C,style:{background:"none",border:"none",color:"var(--primary)",cursor:"pointer",fontSize:"0.875rem"},children:" Back to Sign In"})})]})}):c.jsx("div",{className:"auth-container",children:c.jsxs("div",{className:"auth-box",children:[c.jsxs("div",{className:"auth-logo",children:[c.jsx("h1",{className:"auth-title",children:"AMSF001 Tracker"}),c.jsx("p",{className:"auth-subtitle",children:"Network Architecture Services Project"})]}),p&&c.jsxs("div",{style:{padding:"0.75rem",background:"#fef3c7",borderRadius:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#92400e",border:"1px solid #fcd34d"},children:[c.jsx(ys,{size:20}),c.jsx("span",{style:{fontSize:"0.875rem"},children:"Your session has expired. Please sign in again."})]}),c.jsxs("form",{onSubmit:_,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"email",children:"Email Address"}),c.jsx("input",{id:"email",className:"form-input",type:"email",placeholder:"you@example.com",value:s,onChange:j=>i(j.target.value),required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",htmlFor:"password",children:"Password"}),c.jsx("input",{id:"password",className:"form-input",type:"password",placeholder:"",value:o,onChange:j=>a(j.target.value),required:!0})]}),l&&c.jsxs("div",{style:{padding:"0.75rem",background:"#fee2e2",borderRadius:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#991b1b"},children:[c.jsx(ta,{size:20}),c.jsx("span",{style:{fontSize:"0.875rem"},children:l})]}),d&&c.jsxs("div",{style:{padding:"0.75rem",background:"#dcfce7",borderRadius:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534"},children:[c.jsx(sa,{size:20}),c.jsx("span",{style:{fontSize:"0.875rem"},children:d})]}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,style:{width:"100%",justifyContent:"center"},children:r?"Loading...":f?"Sign Up":"Sign In"})]}),!f&&c.jsx("div",{style:{marginTop:"1rem",textAlign:"center"},children:c.jsx("button",{onClick:()=>{v(!0),u(null),h(null),y(!1)},style:{background:"none",border:"none",color:"#64748b",cursor:"pointer",fontSize:"0.85rem",textDecoration:"underline"},children:"Forgot your password?"})}),c.jsx("div",{style:{marginTop:"1rem",textAlign:"center"},children:c.jsx("button",{onClick:()=>{m(!f),u(null),h(null),y(!1)},style:{background:"none",border:"none",color:"var(--primary)",cursor:"pointer",fontSize:"0.875rem"},children:f?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),c.jsxs("div",{style:{marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #e2e8f0",textAlign:"center"},children:[c.jsx("p",{style:{fontSize:"0.8rem",color:"#64748b",marginBottom:"0.5rem"},children:"Haven't received your verification email?"}),c.jsxs("button",{onClick:()=>{g(!0),u(null),h(null),y(!1)},style:{background:"none",border:"none",color:"var(--primary)",cursor:"pointer",fontSize:"0.85rem",display:"inline-flex",alignItems:"center",gap:"0.25rem"},children:[c.jsx(vl,{size:14})," Resend Verification Email"]})]})]})})}function Rd(t){if(!t)return!1;const e=t.toLowerCase();return e.includes("pmo")||e.includes("project manager")}function kx(){const[t,e]=x.useState(!0),[r,n]=x.useState({totalMilestones:0,completedMilestones:0,totalDeliverables:0,deliveredCount:0,totalResources:0,totalKPIs:0,achievedKPIs:0,totalQS:0,achievedQS:0,totalBudget:0,spendToDate:0}),[s,i]=x.useState({signed:0,pending:0,awaitingGeneration:0}),[o,a]=x.useState({pmoBudget:0,pmoSpend:0,nonPmoBudget:0,nonPmoSpend:0,pmoResources:[],nonPmoResources:[]}),[l,u]=x.useState([]),[d,h]=x.useState({}),[f,m]=x.useState({}),[w,v]=x.useState([]),[S,g]=x.useState(0),{showTestUsers:p,testUserIds:y}=Q_(),{projectId:_,projectName:k,projectRef:P}=ig();x.useEffect(()=>{_&&C()},[_,p]);async function C(){if(_)try{const{data:E}=await B.from("milestones").select("*").eq("project_id",_).order("milestone_ref");u(E||[]);const{data:R}=await B.from("deliverables").select("*").eq("project_id",_),{data:D}=await B.from("resources").select("*"),{data:L}=await B.from("kpis").select("*").eq("project_id",_).order("kpi_ref"),{data:I}=await B.from("quality_standards").select("*").eq("project_id",_).order("qs_ref");let K=B.from("timesheets").select("*, resources(id, name, role, daily_rate, discount_percent)").eq("project_id",_);p||(K=K.or("is_test_content.is.null,is_test_content.eq.false"));const{data:se}=await K;let A=0,J=0;const O=[],$=[];D&&D.forEach(V=>{const ze=(V.daily_rate||0)*(V.days_allocated||0);Rd(V.role)?(A+=ze,O.push({name:V.name,role:V.role,budget:ze})):(J+=ze,$.push({name:V.name,role:V.role,budget:ze}))});const F={};let Y=0,ie=0,st=0;se&&D&&se.forEach(V=>{if(!(V.status==="Approved"||V.status==="Submitted"&&!V.was_rejected))return;const Tg=parseFloat(V.hours_worked||V.hours||0),mo=V.resources||D.find(yo=>yo.id===V.resource_id);if(mo){const yo=mo.daily_rate||0,Es=Tg/8*yo;V.milestone_id&&(F[V.milestone_id]=(F[V.milestone_id]||0)+Es),Y+=Es,Rd(mo.role)?ie+=Es:st+=Es}}),h(F),a({pmoBudget:A,pmoSpend:ie,nonPmoBudget:J,nonPmoSpend:st,pmoResources:O,nonPmoResources:$}),v(I||[]);const Qe={};L&&L.forEach(V=>{const ze=V.category||"Other";Qe[ze]||(Qe[ze]=[]),Qe[ze].push(V)}),m(Qe);const ar=(E==null?void 0:E.length)||0,gt=(E==null?void 0:E.filter(V=>V.status==="Completed").length)||0,Tr=(R==null?void 0:R.length)||0,vg=(R==null?void 0:R.filter(V=>V.status==="Delivered").length)||0,wg=(D==null?void 0:D.length)||0,_g=(L==null?void 0:L.length)||0,xg=(L==null?void 0:L.filter(V=>(V.current_value||0)>=(V.target||90)).length)||0,Sg=(I==null?void 0:I.length)||0,bg=(I==null?void 0:I.filter(V=>(V.current_value||0)>=(V.target||100)).length)||0,{data:bt}=await B.from("milestone_certificates").select("*").eq("project_id",_),kg=(bt==null?void 0:bt.filter(V=>V.status==="Signed").length)||0,Eg=(bt==null?void 0:bt.filter(V=>V.status==="Pending Customer Signature"||V.status==="Pending Supplier Signature").length)||0,jg=(bt==null?void 0:bt.length)||0,Pg=Math.max(0,gt-jg);i({signed:kg,pending:Eg,awaitingGeneration:Pg});const Cg=(E==null?void 0:E.reduce((V,ze)=>V+(ze.budget||0),0))||0,Rg=ar>0?Math.round(E.reduce((V,ze)=>V+(ze.progress||0),0)/ar):0;g(Rg),n({totalMilestones:ar,completedMilestones:gt,totalDeliverables:Tr,deliveredCount:vg,totalResources:wg,totalKPIs:_g,achievedKPIs:xg,totalQS:Sg,achievedQS:bg,totalBudget:Cg,spendToDate:Y})}catch(E){console.error("Error:",E)}finally{e(!1)}}function j(E){switch(E){case"Time Performance":return"#3b82f6";case"Quality of Collaboration":return"#8b5cf6";case"Delivery Performance":return"#10b981";default:return"#64748b"}}return t?c.jsx(Ru,{message:"Loading dashboard...",size:"large",fullPage:!0}):c.jsxs("div",{className:"page-container",children:[c.jsx(A1,{icon:bd,title:`${P||"Project"} Dashboard`,subtitle:k||"Project Tracker"}),c.jsx("div",{className:"card",style:{marginBottom:"1.5rem",background:"linear-gradient(135deg, #1e3a5f 0%, #2563eb 100%)",color:"white"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsxs("h2",{style:{fontSize:"2.5rem",fontWeight:"700",margin:0},children:[S,"%"]}),c.jsx("p",{style:{opacity:.9,margin:0},children:"Overall Project Progress"})]}),c.jsx("div",{style:{width:"120px",height:"120px",position:"relative"},children:c.jsxs("svg",{viewBox:"0 0 100 100",style:{transform:"rotate(-90deg)"},children:[c.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"10"}),c.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"white",strokeWidth:"10",strokeDasharray:`${S*2.51} 251`,strokeLinecap:"round"})]})})]})}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[c.jsx("div",{className:"card",style:{borderLeft:"4px solid #3b82f6"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b",marginBottom:"0.25rem"},children:"Total Budget"}),c.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#3b82f6"},children:["",r.totalBudget.toLocaleString()]})]}),c.jsx("div",{style:{padding:"0.75rem",backgroundColor:"#dbeafe",borderRadius:"8px"},children:c.jsx(c1,{size:24,style:{color:"#3b82f6"}})})]})}),c.jsx("div",{className:"card",style:{borderLeft:"4px solid #10b981"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b",marginBottom:"0.25rem"},children:"Spend to Date"}),c.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#10b981"},children:["",Math.round(r.spendToDate).toLocaleString()]}),c.jsxs("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:[r.totalBudget>0?Math.round(r.spendToDate/r.totalBudget*100):0,"% of budget"]})]}),c.jsx("div",{style:{padding:"0.75rem",backgroundColor:"#dcfce7",borderRadius:"8px"},children:c.jsx(hi,{size:24,style:{color:"#10b981"}})})]})})]}),c.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[c.jsxs("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(n1,{size:20})," PMO Cost Tracking"]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginBottom:"1.5rem"},children:[c.jsxs("div",{style:{padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"8px",borderLeft:"4px solid #f59e0b"},children:[c.jsx("div",{style:{fontSize:"0.8rem",color:"#92400e",marginBottom:"0.25rem"},children:"PMO Budget"}),c.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#d97706"},children:["",Math.round(o.pmoBudget).toLocaleString()]}),c.jsxs("div",{style:{fontSize:"0.75rem",color:"#92400e"},children:[o.pmoBudget+o.nonPmoBudget>0?Math.round(o.pmoBudget/(o.pmoBudget+o.nonPmoBudget)*100):0,"% of total budget"]})]}),c.jsxs("div",{style:{padding:"1rem",backgroundColor:"#ffedd5",borderRadius:"8px",borderLeft:"4px solid #ea580c"},children:[c.jsx("div",{style:{fontSize:"0.8rem",color:"#9a3412",marginBottom:"0.25rem"},children:"PMO Spend"}),c.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#ea580c"},children:["",Math.round(o.pmoSpend).toLocaleString()]}),c.jsxs("div",{style:{fontSize:"0.75rem",color:"#9a3412"},children:[o.pmoBudget>0?Math.round(o.pmoSpend/o.pmoBudget*100):0,"% of PMO budget"]})]}),c.jsxs("div",{style:{padding:"1rem",backgroundColor:"#dbeafe",borderRadius:"8px",borderLeft:"4px solid #3b82f6"},children:[c.jsx("div",{style:{fontSize:"0.8rem",color:"#1e40af",marginBottom:"0.25rem"},children:"Non-PMO Budget"}),c.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#2563eb"},children:["",Math.round(o.nonPmoBudget).toLocaleString()]}),c.jsxs("div",{style:{fontSize:"0.75rem",color:"#1e40af"},children:[o.pmoBudget+o.nonPmoBudget>0?Math.round(o.nonPmoBudget/(o.pmoBudget+o.nonPmoBudget)*100):0,"% of total budget"]})]}),c.jsxs("div",{style:{padding:"1rem",backgroundColor:"#dcfce7",borderRadius:"8px",borderLeft:"4px solid #16a34a"},children:[c.jsx("div",{style:{fontSize:"0.8rem",color:"#166534",marginBottom:"0.25rem"},children:"Non-PMO Spend"}),c.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#16a34a"},children:["",Math.round(o.nonPmoSpend).toLocaleString()]}),c.jsxs("div",{style:{fontSize:"0.75rem",color:"#166534"},children:[o.nonPmoBudget>0?Math.round(o.nonPmoSpend/o.nonPmoBudget*100):0,"% of non-PMO budget"]})]})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"500"},children:"Spend Distribution"}),c.jsxs("span",{style:{fontSize:"0.85rem",color:"#64748b"},children:["PMO: ",r.spendToDate>0?Math.round(o.pmoSpend/r.spendToDate*100):0,"% | Non-PMO: ",r.spendToDate>0?Math.round(o.nonPmoSpend/r.spendToDate*100):0,"%"]})]}),c.jsxs("div",{style:{display:"flex",height:"24px",borderRadius:"4px",overflow:"hidden",backgroundColor:"#e2e8f0"},children:[c.jsx("div",{style:{width:`${r.spendToDate>0?o.pmoSpend/r.spendToDate*100:0}%`,backgroundColor:"#f59e0b",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"600",minWidth:o.pmoSpend>0?"40px":"0"},children:o.pmoSpend>0&&"PMO"}),c.jsx("div",{style:{width:`${r.spendToDate>0?o.nonPmoSpend/r.spendToDate*100:0}%`,backgroundColor:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"600",minWidth:o.nonPmoSpend>0?"60px":"0"},children:o.nonPmoSpend>0&&"Non-PMO"})]})]}),o.pmoResources.length>0&&c.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fffbeb",borderRadius:"8px"},children:[c.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#92400e",marginBottom:"0.5rem"},children:["PMO Resources (",o.pmoResources.length,")"]}),c.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:o.pmoResources.map((E,R)=>c.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#fef3c7",borderRadius:"4px",fontSize:"0.8rem",color:"#92400e"},children:E.name},R))})]})]}),c.jsxs("div",{className:"stats-grid",style:{marginBottom:"1.5rem"},children:[c.jsx(Zs,{icon:ys,label:"Milestones",value:`${r.completedMilestones} / ${r.totalMilestones}`,subtext:`${r.totalMilestones>0?Math.round(r.completedMilestones/r.totalMilestones*100):0}% Complete`,color:"#3b82f6"}),c.jsx(Zs,{icon:yl,label:"Deliverables",value:`${r.deliveredCount} / ${r.totalDeliverables}`,subtext:`${r.totalDeliverables>0?Math.round(r.deliveredCount/r.totalDeliverables*100):0}% Delivered`,color:"#10b981"}),c.jsx(Zs,{icon:hi,label:"KPIs",value:`${r.achievedKPIs} / ${r.totalKPIs}`,subtext:`${r.totalKPIs>0?Math.round(r.achievedKPIs/r.totalKPIs*100):0}% Achieved`,color:"#3b82f6"}),c.jsx(Zs,{icon:Wi,label:"Quality Standards",value:`${r.achievedQS} / ${r.totalQS}`,subtext:`${r.totalQS>0?Math.round(r.achievedQS/r.totalQS*100):0}% Achieved`,color:"#8b5cf6"})]}),c.jsx("div",{className:"card",style:{marginBottom:"1.5rem",backgroundColor:"#fefce8",borderLeft:"4px solid #eab308"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"1rem"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[c.jsx(d1,{size:28,style:{color:"#ca8a04"}}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:0,color:"#854d0e"},children:"Milestone Acceptance Certificates"}),c.jsx("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.85rem",color:"#a16207"},children:"Track payment milestone sign-offs"})]})]}),c.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#16a34a"},children:s.signed}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#166534",fontWeight:"500"},children:"Signed"})]}),c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#d97706"},children:s.pending}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#92400e",fontWeight:"500"},children:"Pending Signature"})]}),c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:s.awaitingGeneration>0?"#dc2626":"#64748b"},children:s.awaitingGeneration}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b",fontWeight:"500"},children:"Awaiting Generation"})]})]}),c.jsx(vt,{to:"/milestones",style:{padding:"0.5rem 1rem",backgroundColor:"#ca8a04",color:"white",textDecoration:"none",borderRadius:"6px",fontWeight:"500",fontSize:"0.9rem"},children:"View Milestones "})]})}),c.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[c.jsx("h3",{style:{marginBottom:"0.5rem"},children:"Billable vs Spend by Milestone"}),c.jsx("p",{style:{fontSize:"0.85rem",color:"#64748b",marginBottom:"1rem"},children:"Comparing the amount invoiced on completion (billable) against actual cost to date from timesheets"}),c.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginBottom:"1rem"},children:[c.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.85rem",marginRight:"1rem"},children:[c.jsx("span",{style:{width:"12px",height:"12px",backgroundColor:"#3b82f6",borderRadius:"2px"}}),"Billable on Completion"]}),c.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.85rem"},children:[c.jsx("span",{style:{width:"12px",height:"12px",backgroundColor:"#10b981",borderRadius:"2px"}}),"Spend to Date (Cost)"]})]}),c.jsx("div",{style:{display:"flex",gap:"0.5rem",height:"220px",alignItems:"flex-end"},children:l.map(E=>{const R=Math.max(...l.map(K=>K.budget||0)),D=d[E.id]||0,L=R>0?(E.budget||0)/R*100:0,I=R>0?D/R*100:0;return c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[c.jsxs("div",{style:{display:"flex",gap:"2px",alignItems:"flex-end",height:"180px",width:"100%",justifyContent:"center"},children:[c.jsx("div",{style:{width:"45%",height:`${L}%`,backgroundColor:"#3b82f6",borderRadius:"4px 4px 0 0",minHeight:E.budget>0?"20px":"0",position:"relative"},title:`Billable: ${(E.budget||0).toLocaleString()}`,children:L>15&&c.jsxs("span",{style:{position:"absolute",top:"4px",left:"50%",transform:"translateX(-50%)",fontSize:"0.65rem",fontWeight:"600",color:"white",whiteSpace:"nowrap"},children:["",Math.round((E.budget||0)/1e3),"k"]})}),c.jsx("div",{style:{width:"45%",height:`${I}%`,backgroundColor:"#10b981",borderRadius:"4px 4px 0 0",minHeight:D>0?"20px":"0",position:"relative"},title:`Spend: ${Math.round(D).toLocaleString()}`,children:I>15&&c.jsxs("span",{style:{position:"absolute",top:"4px",left:"50%",transform:"translateX(-50%)",fontSize:"0.65rem",fontWeight:"600",color:"white",whiteSpace:"nowrap"},children:["",Math.round(D/1e3),"k"]})})]}),c.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"600",color:"#64748b"},children:E.milestone_ref})]},E.id)})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{marginBottom:"1rem"},children:"KPI Performance by Category"}),c.jsx("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",height:"200px"},children:Object.entries(f).map(([E,R])=>{const D=R.length,L=R.filter(se=>(se.current_value||0)>=(se.target||90)).length,I=D>0?L/D*100:0,K=j(E);return c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"0.5rem"},children:[c.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"160px",position:"relative"},children:[c.jsx("div",{style:{height:`${100-I}%`,backgroundColor:"#e2e8f0",borderRadius:I>0?"4px 4px 0 0":"4px"}}),c.jsxs("div",{style:{height:`${I}%`,backgroundColor:K,borderRadius:I<100?"0 0 4px 4px":"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"1rem"},children:[L,"/",D]})]}),c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{style:{fontWeight:"600",fontSize:"0.75rem",marginBottom:"0.25rem"},children:E.split(" ")[0]}),c.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:[Math.round(I),"%"]})]})]},E)})})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{marginBottom:"1rem"},children:"Quality Standards Performance"}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:w.map(E=>{const R=E.current_value||0,D=R>=(E.target||100);return c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[c.jsx("span",{style:{fontFamily:"monospace",fontWeight:"600",minWidth:"45px",color:"#8b5cf6"},children:E.qs_ref}),c.jsx("div",{style:{flex:1},children:c.jsx("div",{style:{height:"8px",backgroundColor:"#e2e8f0",borderRadius:"4px",overflow:"hidden"},children:c.jsx("div",{style:{width:`${R}%`,height:"100%",backgroundColor:D?"#10b981":"#8b5cf6",transition:"width 0.3s"}})})}),c.jsxs("span",{style:{fontSize:"0.85rem",fontWeight:"600",minWidth:"45px",color:D?"#10b981":"#64748b"},children:[R,"%"]})]},E.id)})})]})]}),c.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[c.jsx("h3",{style:{margin:0},children:"Milestone Summary"}),c.jsx(vt,{to:"/milestones",style:{color:"#3b82f6",textDecoration:"none",fontSize:"0.9rem",fontWeight:"500"},children:"View Details "})]}),c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Ref"}),c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Due"}),c.jsx("th",{children:"Budget"}),c.jsx("th",{children:"Spend"}),c.jsx("th",{children:"Progress"}),c.jsx("th",{children:"Status"})]})}),c.jsx("tbody",{children:l.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:"No milestones found"})}):l.map(E=>{const R=d[E.id]||0,D=E.budget>0?Math.round(R/E.budget*100):0;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx(vt,{to:`/milestones/${E.id}`,style:{fontFamily:"monospace",fontWeight:"600",color:"#3b82f6",textDecoration:"none"},children:E.milestone_ref})}),c.jsx("td",{style:{fontWeight:"500"},children:E.name}),c.jsx("td",{children:E.end_date?new Date(E.end_date).toLocaleDateString("en-GB"):"-"}),c.jsxs("td",{children:["",(E.budget||0).toLocaleString()]}),c.jsx("td",{children:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsxs("span",{style:{color:R>0?"#10b981":"#9ca3af"},children:["",Math.round(R).toLocaleString()]}),E.budget>0&&c.jsxs("span",{style:{fontSize:"0.75rem",color:D>100?"#dc2626":"#64748b"},children:["(",D,"%)"]})]})}),c.jsx("td",{children:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("div",{style:{width:"60px",height:"6px",backgroundColor:"#e2e8f0",borderRadius:"3px",overflow:"hidden"},children:c.jsx("div",{style:{width:`${E.progress||0}%`,height:"100%",backgroundColor:E.status==="Completed"?"#10b981":"#3b82f6"}})}),c.jsxs("span",{style:{fontSize:"0.85rem",fontWeight:"600",minWidth:"35px"},children:[E.progress||0,"%"]})]})}),c.jsx("td",{children:c.jsx(N1,{status:E.status||"Not Started"})})]},E.id)})})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"1rem"},children:[c.jsxs(vt,{to:"/milestones",className:"card",style:{textDecoration:"none",padding:"1.5rem",cursor:"pointer",border:"2px solid #e2e8f0"},children:[c.jsx(ys,{size:32,style:{color:"#3b82f6",marginBottom:"0.5rem"}}),c.jsx("h4",{style:{margin:"0 0 0.25rem 0",color:"#1e293b"},children:"Milestones"}),c.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b"},children:"Track progress"})]}),c.jsxs(vt,{to:"/deliverables",className:"card",style:{textDecoration:"none",padding:"1.5rem",cursor:"pointer",border:"2px solid #e2e8f0"},children:[c.jsx(yl,{size:32,style:{color:"#10b981",marginBottom:"0.5rem"}}),c.jsx("h4",{style:{margin:"0 0 0.25rem 0",color:"#1e293b"},children:"Deliverables"}),c.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b"},children:"Manage deliverables"})]}),c.jsxs(vt,{to:"/kpis",className:"card",style:{textDecoration:"none",padding:"1.5rem",cursor:"pointer",border:"2px solid #e2e8f0"},children:[c.jsx(hi,{size:32,style:{color:"#3b82f6",marginBottom:"0.5rem"}}),c.jsx("h4",{style:{margin:"0 0 0.25rem 0",color:"#1e293b"},children:"KPIs"}),c.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b"},children:"Performance indicators"})]}),c.jsxs(vt,{to:"/quality-standards",className:"card",style:{textDecoration:"none",padding:"1.5rem",cursor:"pointer",border:"2px solid #e2e8f0"},children:[c.jsx(Wi,{size:32,style:{color:"#8b5cf6",marginBottom:"0.5rem"}}),c.jsx("h4",{style:{margin:"0 0 0.25rem 0",color:"#1e293b"},children:"Quality"}),c.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b"},children:"Quality standards"})]}),c.jsxs(vt,{to:"/reports",className:"card",style:{textDecoration:"none",padding:"1.5rem",cursor:"pointer",border:"2px solid #e2e8f0"},children:[c.jsx(bd,{size:32,style:{color:"#f59e0b",marginBottom:"0.5rem"}}),c.jsx("h4",{style:{margin:"0 0 0.25rem 0",color:"#1e293b"},children:"Reports"}),c.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b"},children:"Generate reports"})]})]})]})}const Ex=x.lazy(()=>me(()=>import("./ResetPassword-DtDCV1YD.js"),__vite__mapDeps([0,1,2]))),jx=x.lazy(()=>me(()=>import("./Milestones-DLkIoA6W.js"),__vite__mapDeps([3,4,5,6,7,8]))),Px=x.lazy(()=>me(()=>import("./MilestoneDetail-Co1zU8ry.js"),__vite__mapDeps([9,10,11]))),Cx=x.lazy(()=>me(()=>import("./Gantt-CefJumje.js"),__vite__mapDeps([12,4,11,2]))),Rx=x.lazy(()=>me(()=>import("./Deliverables-BhSYEop9.js"),__vite__mapDeps([13,4,6,8,7]))),Tx=x.lazy(()=>me(()=>import("./Resources-DsrfLnLg.js"),__vite__mapDeps([14,4,5,6,8,15,7,16]))),Ox=x.lazy(()=>me(()=>import("./ResourceDetail-CWz882gL.js"),__vite__mapDeps([17,4,18,10,7,11,8,16]))),Ix=x.lazy(()=>me(()=>import("./Partners-CgjnNirJ.js"),__vite__mapDeps([19,4,18,5,6,15]))),Ax=x.lazy(()=>me(()=>import("./PartnerDetail-CCDpTMaE.js"),__vite__mapDeps([20,4,18,10,7,11,8,15]))),Nx=x.lazy(()=>me(()=>import("./Timesheets-DkMFx7a2.js"),__vite__mapDeps([21,4,5,18,6,11,8,7]))),Mx=x.lazy(()=>me(()=>import("./Expenses-CKP6mHET.js"),__vite__mapDeps([22,4,5,6,8,23,7]))),Lx=x.lazy(()=>me(()=>import("./KPIs-2MZoSJwE.js"),__vite__mapDeps([24,4,5,6,8,7]))),Dx=x.lazy(()=>me(()=>import("./KPIDetail-BPH7DmPU.js"),__vite__mapDeps([25,4,10,7,8]))),Ux=x.lazy(()=>me(()=>import("./QualityStandards-CNDqYbT-.js"),__vite__mapDeps([26,4,5,6,8,7]))),$x=x.lazy(()=>me(()=>import("./QualityStandardDetail-Bjqz-ggw.js"),__vite__mapDeps([27,10,7,8]))),zx=x.lazy(()=>me(()=>import("./Reports-BPbDq1pg.js"),__vite__mapDeps([28,23]))),Bx=x.lazy(()=>me(()=>import("./Users-PjqrQWuZ.js"),__vite__mapDeps([29,30,1,2,6,8,7]))),Fx=x.lazy(()=>me(()=>import("./Settings-Ddh59aqh.js"),__vite__mapDeps([31,4,8]))),Wx=x.lazy(()=>me(()=>import("./AccountSettings-BcjGy0Os.js"),__vite__mapDeps([32,30,8,1,2]))),Vx=x.lazy(()=>me(()=>import("./WorkflowSummary-D3F2xho1.js"),__vite__mapDeps([33,2])));function qx(){return c.jsx("div",{className:"page-container",children:c.jsx(Ln,{type:"page"})})}function fe({children:t}){const{user:e,isLoading:r}=Cu();return r?c.jsx(Ru,{message:"Loading...",size:"large",fullPage:!0}):e?c.jsx(Sx,{children:c.jsx(x.Suspense,{fallback:c.jsx(qx,{}),children:t||c.jsx(rv,{})})}):c.jsx(el,{to:"/login",replace:!0})}function Hx(){return c.jsx(hv,{children:c.jsx(R1,{children:c.jsx(U1,{children:c.jsx(K_,{children:c.jsx(G_,{children:c.jsx(J_,{children:c.jsx(X_,{children:c.jsxs(Z_,{children:[c.jsxs(sv,{children:[c.jsx(te,{path:"/login",element:c.jsx(bx,{})}),c.jsx(te,{path:"/reset-password",element:c.jsx(x.Suspense,{fallback:c.jsx(Ru,{fullPage:!0}),children:c.jsx(Ex,{})})}),c.jsx(te,{path:"/",element:c.jsx(el,{to:"/dashboard",replace:!0})}),c.jsx(te,{path:"/dashboard",element:c.jsx(fe,{children:c.jsx(kx,{})})}),c.jsx(te,{path:"/milestones",element:c.jsx(fe,{children:c.jsx(jx,{})})}),c.jsx(te,{path:"/milestones/:id",element:c.jsx(fe,{children:c.jsx(Px,{})})}),c.jsx(te,{path:"/gantt",element:c.jsx(fe,{children:c.jsx(Cx,{})})}),c.jsx(te,{path:"/deliverables",element:c.jsx(fe,{children:c.jsx(Rx,{})})}),c.jsx(te,{path:"/resources",element:c.jsx(fe,{children:c.jsx(Tx,{})})}),c.jsx(te,{path:"/resources/:id",element:c.jsx(fe,{children:c.jsx(Ox,{})})}),c.jsx(te,{path:"/partners",element:c.jsx(fe,{children:c.jsx(Ix,{})})}),c.jsx(te,{path:"/partners/:id",element:c.jsx(fe,{children:c.jsx(Ax,{})})}),c.jsx(te,{path:"/timesheets",element:c.jsx(fe,{children:c.jsx(Nx,{})})}),c.jsx(te,{path:"/expenses",element:c.jsx(fe,{children:c.jsx(Mx,{})})}),c.jsx(te,{path:"/kpis",element:c.jsx(fe,{children:c.jsx(Lx,{})})}),c.jsx(te,{path:"/kpis/:id",element:c.jsx(fe,{children:c.jsx(Dx,{})})}),c.jsx(te,{path:"/quality-standards",element:c.jsx(fe,{children:c.jsx(Ux,{})})}),c.jsx(te,{path:"/quality-standards/:id",element:c.jsx(fe,{children:c.jsx($x,{})})}),c.jsx(te,{path:"/reports",element:c.jsx(fe,{children:c.jsx(zx,{})})}),c.jsx(te,{path:"/users",element:c.jsx(fe,{children:c.jsx(Bx,{})})}),c.jsx(te,{path:"/settings",element:c.jsx(fe,{children:c.jsx(Fx,{})})}),c.jsx(te,{path:"/account",element:c.jsx(fe,{children:c.jsx(Wx,{})})}),c.jsx(te,{path:"/workflow-summary",element:c.jsx(fe,{children:c.jsx(Vx,{})})}),c.jsx(te,{path:"*",element:c.jsx(el,{to:"/dashboard",replace:!0})})]}),c.jsx(z1,{})]})})})})})})})})}oa.createRoot(document.getElementById("root")).render(c.jsx(kl.StrictMode,{children:c.jsx(Hx,{})}));export{SS as $,ta as A,s1 as B,i1 as C,c1 as D,kl as E,d1 as F,l1 as G,b1 as H,p1 as I,eS as J,g1 as K,Ru as L,_1 as M,jS as N,ES as O,A1 as P,cx as Q,vl as R,Zs as S,E1 as T,j1 as U,ux as V,lx as W,vs as X,kS as Y,bS as Z,ox as _,Cu as a,ix as a0,sx as a1,xS as a2,_S as a3,wS as a4,po as a5,nx as a6,mg as a7,vS as a8,rx as a9,q as aA,RS as aB,b as aC,px as aD,fx as aE,TS as aF,CS as aG,hx as aH,PS as aI,dx as aJ,lS as aK,oS as aL,iS as aM,sS as aN,nS as aO,rS as aP,tS as aQ,ax as aR,tx as aS,Q1 as aT,u1 as aU,yS as aa,mS as ab,Tu as ac,gS as ad,pS as ae,fS as af,fo as ag,hS as ah,dS as ai,cS as aj,ho as ak,uS as al,ex as am,aS as an,Z1 as ao,X1 as ap,Y1 as aq,J1 as ar,G1 as as,K1 as at,H1 as au,q1 as av,V1 as aw,W1 as ax,gg as ay,pg as az,ig as b,W as c,$1 as d,vt as e,Wi as f,Gx as g,bd as h,hi as i,c as j,ys as k,yl as l,a1 as m,Q_ as n,S1 as o,x1 as p,P1 as q,x as r,B as s,sa as t,wn as u,n1 as v,cg as w,hg as x,o1 as y,ug as z};
