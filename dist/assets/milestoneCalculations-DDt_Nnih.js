const T="en-GB",m="GBP",l="â€”";function f(t,n={}){if(!t)return l;try{const r=new Date(t);if(isNaN(r.getTime()))return l;const{locale:e=T,format:o="medium"}=n,c={short:{day:"numeric",month:"numeric",year:"2-digit"},medium:{day:"numeric",month:"short",year:"numeric"},long:{day:"numeric",month:"long",year:"numeric"},full:{weekday:"long",day:"numeric",month:"long",year:"numeric"}};return r.toLocaleDateString(e,c[o]||c.medium)}catch{return l}}function I(t,n={}){const{currency:r=m,locale:e=T,compact:o=!1,decimals:c=2}=n,E=Number(t)||0;return o&&Math.abs(E)>=1e3?new Intl.NumberFormat(e,{style:"currency",currency:r,notation:"compact",maximumFractionDigits:1}).format(E):new Intl.NumberFormat(e,{style:"currency",currency:r,minimumFractionDigits:c,maximumFractionDigits:c}).format(E)}const a=Object.freeze({NOT_STARTED:"Not Started",IN_PROGRESS:"In Progress",COMPLETED:"Completed"}),u=Object.freeze({NOT_STARTED:"Not Started",DRAFT:"Draft",SUBMITTED:"Submitted",IN_REVIEW:"In Review",DELIVERED:"Delivered",REJECTED:"Rejected"}),i=Object.freeze({DRAFT:"Draft",PENDING_SUPPLIER:"Pending Supplier Signature",PENDING_CUSTOMER:"Pending Customer Signature",SIGNED:"Signed"}),s=Object.freeze({NOT_COMMITTED:"Not Committed",AWAITING_SUPPLIER:"Awaiting Supplier",AWAITING_CUSTOMER:"Awaiting Customer",LOCKED:"Locked"});function S(t){if(!t||t.length===0)return a.NOT_STARTED;const n=t.every(e=>e.status===u.NOT_STARTED||!e.status);return t.every(e=>e.status===u.DELIVERED)?a.COMPLETED:n?a.NOT_STARTED:a.IN_PROGRESS}function C(t){if(!t||t.length===0)return 0;const n=t.reduce((r,e)=>r+(e.progress||0),0);return Math.round(n/t.length)}function D(t){if(!t)return s.NOT_COMMITTED;const{baseline_locked:n,baseline_supplier_pm_signed_at:r,baseline_customer_pm_signed_at:e}=t;return n||r&&e?s.LOCKED:r&&!e?s.AWAITING_CUSTOMER:!r&&e?s.AWAITING_SUPPLIER:s.NOT_COMMITTED}function N(t){return D(t)===s.LOCKED}function g(t,n,r){return r?!1:S(n)===a.COMPLETED}function d(t){switch(t){case i.SIGNED:return{label:"Signed",cssClass:"cert-signed"};case i.PENDING_CUSTOMER:return{label:"Awaiting Customer",cssClass:"cert-pending-customer"};case i.PENDING_SUPPLIER:return{label:"Awaiting Supplier",cssClass:"cert-pending-supplier"};case i.DRAFT:return{label:"Draft",cssClass:"cert-draft"};default:return{label:t||"Unknown",cssClass:"cert-draft"}}}function _(t){return t?t.status===i.SIGNED:!1}function R(t){switch(t){case u.DELIVERED:case a.COMPLETED:return"status-completed";case a.IN_PROGRESS:case u.IN_REVIEW:case u.SUBMITTED:return"status-in-progress";case u.REJECTED:return"status-rejected";default:return"status-not-started"}}function A(t){switch(t){case s.LOCKED:return"locked";case s.AWAITING_CUSTOMER:return"awaiting-customer";case s.AWAITING_SUPPLIER:return"awaiting-supplier";default:return"not-committed"}}export{s as B,S as a,d as b,C as c,I as d,D as e,f,R as g,g as h,N as i,_ as j,A as k};
